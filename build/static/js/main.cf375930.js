/*! For license information please see main.cf375930.js.LICENSE.txt */
!function(){"use strict";var e={532:function(e,t){var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},457:function(e,t,n){n(532)},110:function(e,t,n){var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=d(n,y);try{c(t,y,g)}catch(b){}}}}return t}},746:function(e,t){var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===d||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){e.exports=n(746)},463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function V(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function z(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case E:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ie=null;function Ee(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function _e(e){Se?Ie?Ie.push(e):Ie=[e]:Se=e}function Te(){if(Se){var e=Se,t=Ie;if(Ie=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==Se||null!==Ie)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ve=!1,Ue=null,je={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(je,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,It,Et,_t=!1,Tt=[],Ct=null,At=null,Nt=null,Rt=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ut(e,t,n){Vt(e)&&n.delete(t)}function jt(){_t=!1,null!==Ct&&Vt(Ct)&&(Ct=null),null!==At&&Vt(At)&&(At=null),null!==Nt&&Vt(Nt)&&(Nt=null),Rt.forEach(Ut),Pt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Nt&&zt(Nt,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=k.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Ht(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Ht(e,t,n,r)}finally{bt=i,qt.transition=a}}function Ht(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),dn=an(fn),hn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(hn),vn=an(F({},hn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return In}var _n=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(_n),Cn=an(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Rn),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Vn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){_e(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){Vr(e,0)}function $n(e){if(H(ki(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&$n(Hn)){var t=[];Kn(t,Hn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Hn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Ir={};function Er(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Sr[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var _r=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Ar=Er("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),s(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Dr=Rr[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(_r,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ve||(Ve=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ve)throw e=Ue,Ve=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,jr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case _r:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=dn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Pe(p,d))&&l.push(Kr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:ki(s),h=null==c?u:ki(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,gi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Hr(h))p++;for(h=0,v=d;v;v=Hr(v))h++;for(;0<p-h;)l=Hr(l),p--;for(;0<h-p;)d=Hr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Hr(l),d=Hr(d)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Wn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?ki(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Gr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=zn(n))&&(b.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Vn);case"textInput":return(e=t.data)===Vn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&jn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Vr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var xi=[],Si=-1;function Ii(e){return{current:e}}function Ei(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function _i(e,t){Si++,xi[Si]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ai=Ii(!1),Ni=Ti;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ei(Ai),Ei(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));_i(Ci,t),_i(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,_i(Ci,e),_i(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ai),Ei(Ci),_i(Ci,e)):Ei(Ai),_i(Ai,n)}var Vi=null,Ui=!1,ji=!1;function zi(e){null===Vi?Vi=[e]:Vi.push(e)}function Bi(){if(!ji&&null!==Vi){ji=!0;var e=0,t=bt;try{var n=Vi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,Ui=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),He(Ze,Bi),i}finally{bt=t,ji=!1}}return null}var qi=[],Wi=0,Ki=null,Gi=0,Hi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Wi++]=Gi,qi[Wi++]=Ki,Ki=e,Gi=t}function Zi(e,t,n){Hi[Qi++]=Yi,Hi[Qi++]=Xi,Hi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Wi],qi[Wi]=null,Gi=qi[--Wi],qi[Wi]=null;for(;e===$i;)$i=Hi[--Qi],Hi[Qi]=null,Xi=Hi[--Qi],Hi[Qi]=null,Yi=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ci(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function xa(e){var t=ya.current;Ei(ya),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var _a=null;function Ta(e){null===_a?_a=[e]:_a.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var d=u.lane,h=u.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=F({},f,d);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else h={eventTime:h,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=h,s=f):l=l.next=h,o|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function ja(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Pi(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Pi(t)?Ni:Ci.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=Vc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=h(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=h(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=d(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===S){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===S?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Dc(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=Ii(Ja),eo=Ii(Ja),to=Ii(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(_i(to,t),_i(eo,e),_i(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),_i(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(_i(eo,e),_i(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==ko;return ko=0,e}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=d,u=r):c=c.next=d,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(ku=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ku=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function Vo(e){var t=_o();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return To().memoizedState}function zo(e,t,n,r){var i=_o();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Go(e,t){return Bo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ho.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return _o().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=_o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_o().memoizedState=e},useState:Vo,useDebugValue:$o,useDeferredValue:function(e){return _o().memoizedState=e},useTransition:function(){var e=Vo(!1),t=e[0];return e=Zo.bind(null,e[1]),_o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=_o();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=_o(),t=As.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Xo,useReducer:Ao,useRef:jo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Xo,useReducer:No,useRef:jo,useState:function(){return No(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function du(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hu="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Ks=r),du(0,t)},n}function vu(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){du(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){du(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=Eo(),null===e||ku?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Su(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(ku=!0)}}return Tu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Os,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Os,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,_i(Os,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(Os,Ps),Ps|=r;return wu(e,t,i,n),t.child}function _u(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ni:Ci.current;return a=Ri(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=Eo(),null===e||ku?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Ia(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Ri(t,c=Pi(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Na=!1;var d=t.memoizedState;o.state=d,Fa(t,r,o,i),s=t.memoizedState,u!==r||d!==s||Ai.current||Na?("function"===typeof l&&(ja(t,n,l,r),s=t.memoizedState),(u=Na||Ba(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Ri(t,s=Pi(n)?Ni:Ci.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&Wa(t,o,r,s),Na=!1,d=t.memoizedState,o.state=d,Fa(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||Ai.current||Na?("function"===typeof h&&(ja(t,n,h,r),p=t.memoizedState),(c=Na||Ba(t,n,c,r,d,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){_u(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Wu(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ru(e,t,n,r,i){return ha(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Ou,Du,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):Vu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nc(r,e,i,-1))}return vc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=Yi,Hi[Qi++]=Xi,Hi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),(t=Vu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Oc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Oc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vu(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Vu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ju(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ju(e,n,t);else if(19===e.tag)ju(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Pi(t.type)&&Oi(),Gu(t),null;case 3:return r=t.stateNode,io(),Ei(Ai),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ou(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[di]=t,e[hi]=r,Pu(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Du(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Gu(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ds&&(Ds=3):vc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Gu(t),null;case 10:return xa(t.type._context),Gu(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Ku(o,!1);else{if(0!==Ds||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Ku(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Bs&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ku(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Xe()-o.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,_i(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ai),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ou=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Du=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function ds(e,t,n){for(n=n.child;null!==n;)hs(e,t,n),n=n.sibling}function hs(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Zu(n,t);case 6:var r=ls,i=fs;ls=null,ds(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,ds(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Yu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,ds(e,t,n),Yu=r):ds(e,t,n);break;default:ds(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));hs(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Ic(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],d=c[u+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,vs(t,e),Yu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(d=Ju=f;null!==Ju;){switch(p=(h=Ju).child,h.tag){case 0:case 11:case 14:case 15:ns(4,h,h.return);break;case 1:Zu(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:Zu(h,h.return);break;case 22:if(null!==h.memoizedState){ws(d);continue}}null!==p?(p.return=h,Ju=p):ws(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=$u;var c=Yu;if($u=o,(Yu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ju=s):xs(i);for(;null!==a;)Ju=a,bs(a,t,n),a=a.sibling;Ju=i,$u=u,Yu=c}ks(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):ks(e)}}function ks(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Va(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(h){Ic(t,t.return,h)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var Ss,Is=Math.ceil,Es=k.ReactCurrentDispatcher,_s=k.ReactCurrentOwner,Ts=k.ReactCurrentBatchConfig,Cs=0,As=null,Ns=null,Rs=0,Ps=0,Os=Ii(0),Ds=0,Ls=null,Ms=0,Fs=0,Vs=0,Us=null,js=null,zs=0,Bs=1/0,qs=null,Ws=!1,Ks=null,Gs=null,Hs=!1,Qs=null,$s=0,Ys=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Cs)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Rs?Rs&-Rs:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===As||(e===As&&(0===(2&Cs)&&(Fs|=n),4===Ds&&uc(e,Rs)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(Bs=Xe()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=ht(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=dt(e,e===As?Rs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(sc.bind(null,e)):zi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&Bi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=dt(e,e===As?Rs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(As===e&&Rs===t||(qs=null,Bs=Xe()+500,dc(e,t));;)try{gc();break}catch(s){hc(e,s)}wa(),Es.current=o,Cs=i,null!==Ns?t=0:(As=null,Rs=0,t=Ds)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,dc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,dc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,js,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zs+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,js,qs),t);break}wc(e,js,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,js,qs),r);break}wc(e,js,qs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=js,js=n,null!==t&&oc(t)),e}function oc(e){null===js?js=e:js.push.apply(js,e)}function uc(e,t){for(t&=~Vs,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=dt(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,dc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,js,qs),rc(e,Xe()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(Bs=Xe()+500,Ui&&Bi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=bt;try{if(Ts.transition=null,bt=1,e)return e()}finally{bt=r,Ts.transition=n,0===(6&(Cs=t))&&Bi()}}function fc(){Ps=Os.current,Ei(Os)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ei(Ai),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(As=e,Ns=e=Oc(e.current,null),Rs=Ps=t,Ds=0,Ls=null,Vs=Fs=Ms=0,js=Us=null,null!==_a){for(t=0;t<_a.length;t++)if(null!==(r=(n=_a[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}_a=null}return e}function hc(e,t){for(;;){var n=Ns;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,ko=0,_s.current=null,null===n||null===n.return){Ds=1,Ls=t,Ns=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Rs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ds&&(Ds=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gs||!Gs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function pc(){var e=Es.current;return Es.current=ou,null===e?ou:e}function vc(){0!==Ds&&3!==Ds&&2!==Ds||(Ds=4),null===As||0===(268435455&Ms)&&0===(268435455&Fs)||uc(As,Rs)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(As===e&&Rs===t||(qs=null,dc(e,t));;)try{yc();break}catch(i){hc(e,i)}if(wa(),Cs=n,Es.current=r,null!==Ns)throw Error(a(261));return As=null,Rs=0,Ds}function yc(){for(;null!==Ns;)bc(Ns)}function gc(){for(;null!==Ns&&!$e();)bc(Ns)}function bc(e){var t=Ss(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?kc(e):Ns=t,_s.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Ps)))return void(Ns=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Ns=n);if(null===e)return Ds=6,void(Ns=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Ds&&(Ds=5)}function wc(e,t,n){var r=bt,i=Ts.transition;try{Ts.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Ns=As=null,Rs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Ac(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=bt;bt=1;var s=Cs;Cs|=4,_s.current=null,function(e,t){if(ei=Wt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(s=u+i),d!==o||0!==r&&3!==d.nodeType||(c=u+r),3===d.nodeType&&(u+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(s=u),h===o&&++f===r&&(c=u),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Cs=s,bt=u,Ts.transition=o}else e.current=n;if(Hs&&(Hs=!1,Qs=e,$s=i),0===(o=e.pendingLanes)&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Ks,Ks=null,e;0!==(1&$s)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,Bi()}(e,t,n,r)}finally{Ts.transition=i,bt=r}return null}function xc(){if(null!==Qs){var e=kt($s),t=Ts.transition,n=bt;try{if(Ts.transition=null,bt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var d=f.child;if(null!==d)d.return=f,Ju=d;else for(;null!==Ju;){var h=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==h){h.return=p,Ju=h;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var b=e.current;for(Ju=b;null!==Ju;){var k=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Ju=k;else e:for(u=b;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Ic(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Ts.transition=t}}return!1}function Sc(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Rs&n)===n&&(4===Ds||3===Ds&&(130023424&Rs)===Rs&&500>Xe()-zs?dc(e,0):Vs|=n),rc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Aa(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),_c(e,n)}function Ac(e,t){return He(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Nc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case S:return Lc(n.children,i,o,t);case I:u=8,i|=8;break;case E:return(e=Rc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case A:return(e=Rc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Rc(19,n,t,i)).elementType=N,e.lanes=o,e;case O:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:u=10;break e;case T:u=9;break e;case C:u=11;break e;case R:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=jc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Oa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),ha();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(_i(uo,1&uo.current),null!==(e=Wu(e,t,n))?e.sibling:null);_i(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Wu(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Su(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ru(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ru(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Wu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),_u(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,_i(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Sa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Sa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Su(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Ia(t,n),qa(t,r,i),Ka(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=jc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Cs)&&(Bs=Xe()+500,Bi()))}break;case 13:lc((function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},It=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=lc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,_e,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:S.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(_),_=-1),p=!0;var a=h;try{for(k(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var u=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?d.callback=u:d===r(c)&&i(c),k(n)}else i(c);d=r(c)}if(null!==d)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,I=!1,E=null,_=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?S():(I=!1,E=null)}}else I=!1}if("function"===typeof b)S=function(){b(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=N,S=function(){P.postMessage(null)}}else S=function(){y(N,0)};function O(e){E=e,I||(I=!0,S())}function D(e,n){_=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(_),_=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={};n.r(e),n.d(e,{FirebaseError:function(){return Os},SDK_VERSION:function(){return Gc},_DEFAULT_ENTRY_NAME:function(){return Oc},_addComponent:function(){return Fc},_addOrOverwriteComponent:function(){return Vc},_apps:function(){return Lc},_clearComponents:function(){return Bc},_components:function(){return Mc},_getProvider:function(){return jc},_registerComponent:function(){return Uc},_removeServiceInstance:function(){return zc},deleteApp:function(){return Yc},getApp:function(){return Qc},getApps:function(){return $c},initializeApp:function(){return Hc},onLog:function(){return Zc},registerVersion:function(){return Jc},setLogLevel:function(){return el}});var t=n(791),r=n.t(t,2),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function d(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=d(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var h=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=d(e))&&(r&&(r+=" "),r+=t);return r};function p(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(e.push(t(r)),n&&n[r]&&e.push(n[r])),e}),[]).join(" ")})),r}var v=0;var m=r.useId;function y(e){if(void 0!==m){var n=m();return null!=e?e:n}return function(e){var n=c(t.useState(e),2),r=n[0],i=n[1],a=e||r;return t.useEffect((function(){null==r&&i("mui-".concat(v+=1))}),[r]),a}(e)}function g(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function b(e){return function(e){if(Array.isArray(e))return o(e)}(e)||g(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},w=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,x=k((function(e){return w.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var S=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),I=Math.abs,E=String.fromCharCode,_=Object.assign;function T(e){return e.trim()}function C(e,t,n){return e.replace(t,n)}function A(e,t){return e.indexOf(t)}function N(e,t){return 0|e.charCodeAt(t)}function R(e,t,n){return e.slice(t,n)}function P(e){return e.length}function O(e){return e.length}function D(e,t){return t.push(e),e}var L=1,M=1,F=0,V=0,U=0,j="";function z(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:L,column:M,length:o,return:""}}function B(e,t){return _(z("",null,null,"",null,null,0),e,{length:-e.length},t)}function q(){return U=V>0?N(j,--V):0,M--,10===U&&(M=1,L--),U}function W(){return U=V<F?N(j,V++):0,M++,10===U&&(M=1,L++),U}function K(){return N(j,V)}function G(){return V}function H(e,t){return R(j,e,t)}function Q(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $(e){return L=M=1,F=P(j=e),V=0,[]}function Y(e){return j="",e}function X(e){return T(H(V-1,ee(91===e?e+2:40===e?e+1:e)))}function J(e){for(;(U=K())&&U<33;)W();return Q(e)>2||Q(U)>3?"":" "}function Z(e,t){for(;--t&&W()&&!(U<48||U>102||U>57&&U<65||U>70&&U<97););return H(e,G()+(t<6&&32==K()&&32==W()))}function ee(e){for(;W();)switch(U){case e:return V;case 34:case 39:34!==e&&39!==e&&ee(U);break;case 40:41===e&&ee(e);break;case 92:W()}return V}function te(e,t){for(;W()&&e+U!==57&&(e+U!==84||47!==K()););return"/*"+H(t,V-1)+"*"+E(47===e?e:W())}function ne(e){for(;!Q(K());)W();return H(e,V)}var re="-ms-",ie="-moz-",ae="-webkit-",oe="comm",ue="rule",se="decl",ce="@keyframes";function le(e,t){for(var n="",r=O(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function fe(e,t,n,r){switch(e.type){case"@import":case se:return e.return=e.return||e.value;case oe:return"";case ce:return e.return=e.value+"{"+le(e.children,r)+"}";case ue:e.value=e.props.join(",")}return P(n=le(e.children,r))?e.return=e.value+"{"+n+"}":""}function de(e,t){switch(function(e,t){return(((t<<2^N(e,0))<<2^N(e,1))<<2^N(e,2))<<2^N(e,3)}(e,t)){case 5103:return ae+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ae+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ae+e+ie+e+re+e+e;case 6828:case 4268:return ae+e+re+e+e;case 6165:return ae+e+re+"flex-"+e+e;case 5187:return ae+e+C(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return ae+e+re+"flex-item-"+C(e,/flex-|-self/,"")+e;case 4675:return ae+e+re+"flex-line-pack"+C(e,/align-content|flex-|-self/,"")+e;case 5548:return ae+e+re+C(e,"shrink","negative")+e;case 5292:return ae+e+re+C(e,"basis","preferred-size")+e;case 6060:return ae+"box-"+C(e,"-grow","")+ae+e+re+C(e,"grow","positive")+e;case 4554:return ae+C(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return C(C(C(e,/(zoom-|grab)/,ae+"$1"),/(image-set)/,ae+"$1"),e,"")+e;case 5495:case 3959:return C(e,/(image-set\([^]*)/,ae+"$1$`$1");case 4968:return C(C(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+ae+e+e;case 4095:case 3583:case 4068:case 2532:return C(e,/(.+)-inline(.+)/,ae+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(P(e)-1-t>6)switch(N(e,t+1)){case 109:if(45!==N(e,t+4))break;case 102:return C(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+ie+(108==N(e,t+3)?"$3":"$2-$3"))+e;case 115:return~A(e,"stretch")?de(C(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==N(e,t+1))break;case 6444:switch(N(e,P(e)-3-(~A(e,"!important")&&10))){case 107:return C(e,":",":"+ae)+e;case 101:return C(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ae+(45===N(e,14)?"inline-":"")+"box$3$1"+ae+"$2$3$1"+re+"$2box$3")+e}break;case 5936:switch(N(e,t+11)){case 114:return ae+e+re+C(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ae+e+re+C(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ae+e+re+C(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ae+e+re+e+e}return e}function he(e){return Y(pe("",null,null,null,[""],e=$(e),0,[0],e))}function pe(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,d=0,h=0,p=0,v=1,m=1,y=1,g=0,b="",k=i,w=a,x=r,S=b;m;)switch(p=g,g=W()){case 40:if(108!=p&&58==S.charCodeAt(f-1)){-1!=A(S+=C(X(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:S+=X(g);break;case 9:case 10:case 13:case 32:S+=J(p);break;case 92:S+=Z(G()-1,7);continue;case 47:switch(K()){case 42:case 47:D(me(te(W(),G()),t,n),s);break;default:S+="/"}break;case 123*v:u[c++]=P(S)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:h>0&&P(S)-f&&D(h>32?ye(S+";",r,n,f-1):ye(C(S," ","")+";",r,n,f-2),s);break;case 59:S+=";";default:if(D(x=ve(S,t,n,c,l,i,u,b,k=[],w=[],f),a),123===g)if(0===l)pe(S,t,x,x,k,a,f,u,w);else switch(d){case 100:case 109:case 115:pe(e,x,x,r&&D(ve(e,x,x,0,0,i,u,b,i,k=[],f),w),i,w,f,u,r?k:w);break;default:pe(S,x,x,x,[""],w,0,u,w)}}c=l=h=0,v=y=1,b=S="",f=o;break;case 58:f=1+P(S),h=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==q())continue;switch(S+=E(g),g*v){case 38:y=l>0?1:(S+="\f",-1);break;case 44:u[c++]=(P(S)-1)*y,y=1;break;case 64:45===K()&&(S+=X(W())),d=K(),l=f=P(b=S+=ne(G())),g++;break;case 45:45===p&&2==P(S)&&(v=0)}}return a}function ve(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,d=0===i?a:[""],h=O(d),p=0,v=0,m=0;p<r;++p)for(var y=0,g=R(e,f+1,f=I(v=o[p])),b=e;y<h;++y)(b=T(v>0?d[y]+" "+g:C(g,/&\f/g,d[y])))&&(s[m++]=b);return z(e,t,n,0===i?ue:u,s,c,l)}function me(e,t,n){return z(e,t,n,oe,E(U),R(e,2,-2),0)}function ye(e,t,n,r){return z(e,t,n,se,R(e,0,r),R(e,r+1,-1),r)}var ge=function(e,t,n){for(var r=0,i=0;r=i,i=K(),38===r&&12===i&&(t[n]=1),!Q(i);)W();return H(e,V)},be=function(e,t){return Y(function(e,t){var n=-1,r=44;do{switch(Q(r)){case 0:38===r&&12===K()&&(t[n]=1),e[n]+=ge(V-1,t,n);break;case 2:e[n]+=X(r);break;case 4:if(44===r){e[++n]=58===K()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=E(r)}}while(r=W());return e}($(e),t))},ke=new WeakMap,we=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ke.get(n))&&!r){ke.set(e,!0);for(var i=[],a=be(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},xe=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},Se=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case se:e.return=de(e.value,e.length);break;case ce:return le([B(e,{value:C(e.value,"@","@"+ae)})],r);case ue:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return le([B(e,{props:[C(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return le([B(e,{props:[C(t,/:(plac\w+)/,":-webkit-input-$1")]}),B(e,{props:[C(t,/:(plac\w+)/,":-moz-$1")]}),B(e,{props:[C(t,/:(plac\w+)/,re+"input-$1")]})],r)}return""}))}}],Ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Se;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[fe,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=O(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([we,xe].concat(r,l));a=function(e,t,n,r){s=n,function(e){le(he(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new S({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return d.sheet.hydrate(u),d};var Ee=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},_e={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Te=/[A-Z]|^ms/g,Ce=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ae=function(e){return 45===e.charCodeAt(1)},Ne=function(e){return null!=e&&"boolean"!==typeof e},Re=k((function(e){return Ae(e)?e:e.replace(Te,"-$&").toLowerCase()})),Pe=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Ce,(function(e,t,n){return De={name:t,styles:n,next:De},t}))}return 1===_e[e]||Ae(e)||"number"!==typeof t||0===t?t:t+"px"};function Oe(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return De={name:n.name,styles:n.styles,next:De},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)De={name:r.name,styles:r.styles,next:De},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Oe(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Ne(o)&&(r+=Re(a)+":"+Pe(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=Oe(e,t,o);switch(a){case"animation":case"animationName":r+=Re(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)Ne(o[s])&&(r+=Re(a)+":"+Pe(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=De,a=n(e);return De=i,Oe(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var De,Le=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Me=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";De=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Oe(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Oe(n,t,e[o]),r&&(i+=a[o]);Le.lastIndex=0;for(var u,s="";null!==(u=Le.exec(i));)s+="-"+u[1];return{name:Ee(i)+s,styles:i,next:De}},Fe=(0,t.createContext)("undefined"!==typeof HTMLElement?Ie({key:"css"}):null);Fe.Provider;var Ve=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Fe);return e(n,i,r)}))},Ue=(0,t.createContext)({});r.useInsertionEffect&&r.useInsertionEffect;function je(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var ze=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Be=function(e,t,n){ze(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},qe=x,We=function(e){return"theme"!==e},Ke=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?qe:We},Ge=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},He=r.useInsertionEffect?r.useInsertionEffect:function(e){e()};var Qe=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;ze(t,n,r);He((function(){return Be(t,n,r)}));return null},$e=function e(n,r){var i,a,o=n.__emotion_real===n,u=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var s=Ge(n,r,o),c=s||Ke(u),f=!c("as");return function(){var d=arguments,h=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{0,h.push(d[0][0]);for(var p=d.length,v=1;v<p;v++)h.push(d[v],d[0][v])}var m=Ve((function(e,n,r){var i=f&&e.as||u,o="",l=[],d=e;if(null==e.theme){for(var p in d={},e)d[p]=e[p];d.theme=(0,t.useContext)(Ue)}"string"===typeof e.className?o=je(n.registered,l,e.className):null!=e.className&&(o=e.className+" ");var v=Me(h.concat(l),n.registered,d);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=f&&void 0===s?Ke(i):c,y={};for(var g in e)f&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=r,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(Qe,{cache:n,serialized:v,isStringTag:"string"===typeof i}),(0,t.createElement)(i,y))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",m.defaultProps=n.defaultProps,m.__emotion_real=m,m.__emotion_base=u,m.__emotion_styles=h,m.__emotion_forwardProp=s,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(t,n){return e(t,l({},r,n,{shouldForwardProp:Ge(m,n,!0)})).apply(void 0,h)},m}},Ye=$e.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Ye[e]=Ye(e)}));var Xe=Ye;function Je(e,t){return Xe(e,t)}var Ze=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))};function et(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function tt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?l({},e):e;return et(e)&&et(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(et(t[i])&&i in e&&et(e[i])?r[i]=tt(e[i],t[i],n):r[i]=t[i])})),r}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rt=["values","unit","step"];function it(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=f(e,rt),s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return l({},e,nt({},t.key,t.val))}),{})}(n),c=Object.keys(s);function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function p(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return l({keys:c,values:s,up:d,down:h,between:p,only:function(e){return c.indexOf(e)+1<c.length?p(e,c[c.indexOf(e)+1]):d(e)},not:function(e){var t=c.indexOf(e);return 0===t?d(c[1]):t===c.length-1?h(c[t]):p(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}var at={borderRadius:4},ot={xs:0,sm:600,md:900,lg:1200,xl:1536},ut={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(ot[e],"px)")}};function st(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||ut;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||ut;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||ot).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function ct(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function lt(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function ft(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function dt(e){if("string"!==typeof e)throw new Error(ft(7));return e.charAt(0).toUpperCase()+e.slice(1)}function ht(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function pt(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:ht(e,n)||i,t&&(r=t(r)),r}var vt=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=ht(e.theme,i)||{};return st(e,n,(function(e){var n=pt(o,a,e);return e===n&&"string"===typeof e&&(n=pt(o,a,"".concat(t).concat("default"===e?"":dt(e)),e)),!1===r?n:nt({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var mt=function(e,t){return t?tt(e,t,{clone:!1}):e};var yt={m:"margin",p:"padding"},gt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},bt={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},kt=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!bt[e])return[e];e=bt[e]}var t=c(e.split(""),2),n=t[0],r=t[1],i=yt[n],a=gt[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),wt=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],xt=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],St=[].concat(wt,xt);function It(e,t,n,r){var i,a=null!=(i=ht(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function Et(e){return It(e,"spacing",8)}function _t(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function Tt(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=_t(t,n),e}),{})}}(kt(n),r);return st(e,e[n],i)}function Ct(e,t){var n=Et(e.theme);return Object.keys(e).map((function(r){return Tt(e,t,r,n)})).reduce(mt,{})}function At(e){return Ct(e,wt)}function Nt(e){return Ct(e,xt)}function Rt(e){return Ct(e,St)}At.propTypes={},At.filterProps=wt,Nt.propTypes={},Nt.filterProps=xt,Rt.propTypes={},Rt.filterProps=St;var Pt=Rt;function Ot(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Et({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var Dt=["breakpoints","palette","spacing","shape"];var Lt=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=f(e,Dt),c=it(n),d=Ot(a),h=tt({breakpoints:c,direction:"ltr",components:{},palette:l({mode:"light"},i),spacing:d,shape:l({},at,u)},s),p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return h=v.reduce((function(e,t){return tt(e,t)}),h)},Mt=["variant"];function Ft(e){return 0===e.length}function Vt(e){var t=e.variant,n=f(e,Mt),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Ft(r)?e[t]:dt(e[t]):"".concat(Ft(r)?t:dt(t)).concat(dt(e[t].toString()))})),r}var Ut=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?mt(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function jt(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var zt=vt({prop:"border",themeKey:"borders",transform:jt}),Bt=vt({prop:"borderTop",themeKey:"borders",transform:jt}),qt=vt({prop:"borderRight",themeKey:"borders",transform:jt}),Wt=vt({prop:"borderBottom",themeKey:"borders",transform:jt}),Kt=vt({prop:"borderLeft",themeKey:"borders",transform:jt}),Gt=vt({prop:"borderColor",themeKey:"palette"}),Ht=vt({prop:"borderTopColor",themeKey:"palette"}),Qt=vt({prop:"borderRightColor",themeKey:"palette"}),$t=vt({prop:"borderBottomColor",themeKey:"palette"}),Yt=vt({prop:"borderLeftColor",themeKey:"palette"}),Xt=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=It(e.theme,"shape.borderRadius",4);return st(e,e.borderRadius,(function(e){return{borderRadius:_t(t,e)}}))}return null};Xt.propTypes={},Xt.filterProps=["borderRadius"];var Jt=Ut(zt,Bt,qt,Wt,Kt,Gt,Ht,Qt,$t,Yt,Xt),Zt=Ut(vt({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),vt({prop:"display"}),vt({prop:"overflow"}),vt({prop:"textOverflow"}),vt({prop:"visibility"}),vt({prop:"whiteSpace"})),en=Ut(vt({prop:"flexBasis"}),vt({prop:"flexDirection"}),vt({prop:"flexWrap"}),vt({prop:"justifyContent"}),vt({prop:"alignItems"}),vt({prop:"alignContent"}),vt({prop:"order"}),vt({prop:"flex"}),vt({prop:"flexGrow"}),vt({prop:"flexShrink"}),vt({prop:"alignSelf"}),vt({prop:"justifyItems"}),vt({prop:"justifySelf"})),tn=function(e){if(void 0!==e.gap&&null!==e.gap){var t=It(e.theme,"spacing",8);return st(e,e.gap,(function(e){return{gap:_t(t,e)}}))}return null};tn.propTypes={},tn.filterProps=["gap"];var nn=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=It(e.theme,"spacing",8);return st(e,e.columnGap,(function(e){return{columnGap:_t(t,e)}}))}return null};nn.propTypes={},nn.filterProps=["columnGap"];var rn=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=It(e.theme,"spacing",8);return st(e,e.rowGap,(function(e){return{rowGap:_t(t,e)}}))}return null};rn.propTypes={},rn.filterProps=["rowGap"];var an=Ut(tn,nn,rn,vt({prop:"gridColumn"}),vt({prop:"gridRow"}),vt({prop:"gridAutoFlow"}),vt({prop:"gridAutoColumns"}),vt({prop:"gridAutoRows"}),vt({prop:"gridTemplateColumns"}),vt({prop:"gridTemplateRows"}),vt({prop:"gridTemplateAreas"}),vt({prop:"gridArea"})),on=Ut(vt({prop:"position"}),vt({prop:"zIndex",themeKey:"zIndex"}),vt({prop:"top"}),vt({prop:"right"}),vt({prop:"bottom"}),vt({prop:"left"})),un=Ut(vt({prop:"color",themeKey:"palette"}),vt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),vt({prop:"backgroundColor",themeKey:"palette"})),sn=vt({prop:"boxShadow",themeKey:"shadows"});function cn(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var ln=vt({prop:"width",transform:cn}),fn=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return st(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||ot[t]||cn(t)}}))}return null};fn.filterProps=["maxWidth"];var dn=vt({prop:"minWidth",transform:cn}),hn=vt({prop:"height",transform:cn}),pn=vt({prop:"maxHeight",transform:cn}),vn=vt({prop:"minHeight",transform:cn}),mn=(vt({prop:"size",cssProperty:"width",transform:cn}),vt({prop:"size",cssProperty:"height",transform:cn}),Ut(ln,fn,dn,hn,pn,vn,vt({prop:"boxSizing"}))),yn=vt({prop:"fontFamily",themeKey:"typography"}),gn=vt({prop:"fontSize",themeKey:"typography"}),bn=vt({prop:"fontStyle",themeKey:"typography"}),kn=vt({prop:"fontWeight",themeKey:"typography"}),wn=vt({prop:"letterSpacing"}),xn=vt({prop:"textTransform"}),Sn=vt({prop:"lineHeight"}),In=vt({prop:"textAlign"}),En=Ut(vt({prop:"typography",cssProperty:!1,themeKey:"typography"}),yn,gn,bn,kn,wn,Sn,In,xn),_n={borders:Jt.filterProps,display:Zt.filterProps,flexbox:en.filterProps,grid:an.filterProps,positions:on.filterProps,palette:un.filterProps,shadows:sn.filterProps,sizing:mn.filterProps,spacing:Pt.filterProps,typography:En.filterProps},Tn={borders:Jt,display:Zt,flexbox:en,grid:an,positions:on,palette:un,shadows:sn,sizing:mn,spacing:Pt,typography:En},Cn=Object.keys(_n).reduce((function(e,t){return _n[t].forEach((function(n){e[n]=Tn[t]})),e}),{});function An(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function Nn(e,t){return"function"===typeof e?e(t):e}var Rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(nt(i={},e,n),nt(i,"theme",r),i),o=t[e];return o?o(a):nt({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var a=ct(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach((function(e){var a=Nn(i[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=mt(s,n(e,a,u));else{var o=st({theme:u},a,(function(t){return nt({},e,t)}));An(o,a)?s[e]=r({sx:a,theme:u}):s=mt(s,o)}else s=mt(s,n(e,a,u))})),lt(o,s)}return Array.isArray(a)?a.map(s):s(a)}return r}();Rn.filterProps=["sx"];var Pn=Rn,On=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Dn=["theme"],Ln=["theme"];function Mn(e){return 0===Object.keys(e).length}function Fn(e){return"string"===typeof e&&e.charCodeAt(0)>96}var Vn=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},Un=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=Vt(e.props);r[t]=e.style})),r},jn=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[Vt(n.props)])})),s};function zn(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Bn=Lt();function qn(e,t){var n;return l({toolbar:(n={minHeight:56},nt(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),nt(n,e.up("sm"),{minHeight:64}),n)},t)}function Wn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Kn(e){if(e.type)return e;if("#"===e.charAt(0))return Kn(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(ft(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(ft(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function Gn(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Hn(e){var t="hsl"===(e=Kn(e)).type?Kn(function(e){var t=(e=Kn(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),Gn({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Qn(e,t){return e=Kn(e),t=Wn(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,Gn(e)}function $n(e,t){if(e=Kn(e),t=Wn(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Gn(e)}function Yn(e,t){if(e=Kn(e),t=Wn(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Gn(e)}var Xn={black:"#000",white:"#fff"},Jn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Zn={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},er={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},tr={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},nr={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},rr={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ir={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ar=["mode","contrastThreshold","tonalOffset"],or={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Xn.white,default:Xn.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},ur={text:{primary:Xn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Xn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function sr(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Yn(e.main,i):"dark"===t&&(e.dark=$n(e.main,a)))}function cr(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,u=f(e,ar),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:nr[200],light:nr[50],dark:nr[400]}:{main:nr[700],light:nr[400],dark:nr[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Zn[200],light:Zn[50],dark:Zn[400]}:{main:Zn[500],light:Zn[300],dark:Zn[700]}}(n),d=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:er[500],light:er[300],dark:er[700]}:{main:er[700],light:er[400],dark:er[800]}}(n),h=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:rr[400],light:rr[300],dark:rr[700]}:{main:rr[700],light:rr[500],dark:rr[900]}}(n),p=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ir[400],light:ir[300],dark:ir[700]}:{main:ir[800],light:ir[500],dark:ir[900]}}(n),v=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:tr[400],light:tr[300],dark:tr[700]}:{main:"#ed6c02",light:tr[500],dark:tr[900]}}(n);function m(e){var t=function(e,t){var n=Hn(e),r=Hn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,ur.text.primary)>=i?ur.text.primary:or.text.primary;return t}var y=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,u=void 0===a?300:a,s=e.darkShade,c=void 0===s?700:s;if(!(t=l({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(ft(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(ft(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return sr(t,"light",u,o),sr(t,"dark",c,o),t.contrastText||(t.contrastText=m(t.main)),t},g={dark:ur,light:or};return tt(l({common:l({},Xn),mode:n,primary:y({color:s,name:"primary"}),secondary:y({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:d,name:"error"}),warning:y({color:v,name:"warning"}),info:y({color:h,name:"info"}),success:y({color:p,name:"success"}),grey:Jn,contrastThreshold:i,getContrastText:m,augmentColor:y,tonalOffset:o},g[n]),u)}var lr=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var fr={textTransform:"uppercase"},dr='"Roboto", "Helvetica", "Arial", sans-serif';function hr(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?dr:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,d=void 0===c?400:c,h=n.fontWeightMedium,p=void 0===h?500:h,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,g=void 0===y?16:y,b=n.allVariants,k=n.pxToRem,w=f(n,lr);var x=o/14,S=k||function(e){return"".concat(e/g*x,"rem")},I=function(e,t,n,r,a){return l({fontFamily:i,fontWeight:e,fontSize:S(t),lineHeight:n},i===dr?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},E={h1:I(s,96,1.167,-1.5),h2:I(s,60,1.2,-.5),h3:I(d,48,1.167,0),h4:I(d,34,1.235,.25),h5:I(d,24,1.334,0),h6:I(p,20,1.6,.15),subtitle1:I(d,16,1.75,.15),subtitle2:I(p,14,1.57,.1),body1:I(d,16,1.5,.15),body2:I(d,14,1.43,.15),button:I(p,14,1.75,.4,fr),caption:I(d,12,1.66,.4),overline:I(d,12,2.66,1,fr)};return tt(l({htmlFontSize:g,pxToRem:S,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:d,fontWeightMedium:p,fontWeightBold:m},E),w,{clone:!1})}function pr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var vr=["none",pr(0,2,1,-1,0,1,1,0,0,1,3,0),pr(0,3,1,-2,0,2,2,0,0,1,5,0),pr(0,3,3,-2,0,3,4,0,0,1,8,0),pr(0,2,4,-1,0,4,5,0,0,1,10,0),pr(0,3,5,-1,0,5,8,0,0,1,14,0),pr(0,3,5,-1,0,6,10,0,0,1,18,0),pr(0,4,5,-2,0,7,10,1,0,2,16,1),pr(0,5,5,-3,0,8,10,1,0,3,14,2),pr(0,5,6,-3,0,9,12,1,0,3,16,2),pr(0,6,6,-3,0,10,14,1,0,4,18,3),pr(0,6,7,-4,0,11,15,1,0,4,20,3),pr(0,7,8,-4,0,12,17,2,0,5,22,4),pr(0,7,8,-4,0,13,19,2,0,5,24,4),pr(0,7,9,-4,0,14,21,2,0,5,26,4),pr(0,8,9,-5,0,15,22,2,0,6,28,5),pr(0,8,10,-5,0,16,24,2,0,6,30,5),pr(0,8,11,-5,0,17,26,2,0,6,32,5),pr(0,9,11,-5,0,18,28,2,0,7,34,6),pr(0,9,12,-6,0,19,29,2,0,7,36,6),pr(0,10,13,-6,0,20,31,3,0,8,38,7),pr(0,10,13,-6,0,21,33,3,0,8,40,7),pr(0,10,14,-6,0,22,35,3,0,8,42,7),pr(0,11,14,-7,0,23,36,3,0,9,44,8),pr(0,11,15,-7,0,24,38,3,0,9,46,8)],mr=["duration","easing","delay"],yr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},gr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function br(e){return"".concat(Math.round(e),"ms")}function kr(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function wr(e){var t=l({},yr,e.easing),n=l({},gr,e.duration);return l({getAutoHeightDuration:kr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;f(r,mr);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:br(a)," ").concat(u," ").concat("string"===typeof c?c:br(c))})).join(",")}},e,{easing:t,duration:n})}var xr={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Sr=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ir(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,c=f(e,Sr);if(e.vars)throw new Error(ft(18));var d=cr(i),h=Lt(e),p=tt(h,{mixins:qn(h.breakpoints,n),palette:d,shadows:vr.slice(),typography:hr(d,s),transitions:wr(o),zIndex:l({},xr)});p=tt(p,c);for(var v=arguments.length,m=new Array(v>1?v-1:0),y=1;y<v;y++)m[y-1]=arguments[y];return p=m.reduce((function(e,t){return tt(e,t)}),p)}var Er=Ir(),_r=function(e){return zn(e)&&"classes"!==e},Tr=zn,Cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?Bn:t,r=e.rootShouldForwardProp,i=void 0===r?zn:r,a=e.slotShouldForwardProp,o=void 0===a?zn:a,u=e.styleFunctionSx,s=void 0===u?Pn:u,d=function(e){var t=Mn(e.theme)?n:e.theme;return s(l({},e,{theme:t}))};return d.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ze(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var r,a=t.name,u=t.slot,s=t.skipVariantsResolver,h=t.skipSx,p=t.overridesResolver,v=f(t,On),m=void 0!==s?s:u&&"Root"!==u||!1,y=h||!1;var g=zn;"Root"===u?g=i:u?g=o:Fn(e)&&(g=void 0);var k=Je(e,l({shouldForwardProp:g,label:r},v)),w=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=f(t,Dn);return e(l({theme:Mn(r)?n:r},i))}:e})):[],u=e;a&&p&&o.push((function(e){var t=Mn(e.theme)?n:e.theme,r=Vn(a,t);if(r){var i={};return Object.entries(r).forEach((function(n){var r=c(n,2),a=r[0],o=r[1];i[a]="function"===typeof o?o(l({},e,{theme:t})):o})),p(e,i)}return null})),a&&!m&&o.push((function(e){var t=Mn(e.theme)?n:e.theme;return jn(e,Un(a,t),t,a)})),y||o.push(d);var s=o.length-r.length;if(Array.isArray(e)&&s>0){var h=new Array(s).fill("");(u=[].concat(b(e),b(h))).raw=[].concat(b(e.raw),b(h))}else"function"===typeof e&&e.__emotion_real!==e&&(u=function(t){var r=t.theme,i=f(t,Ln);return e(l({theme:Mn(r)?n:r},i))});var v=k.apply(void 0,[u].concat(b(o)));return v};return k.withConfig&&(w.withConfig=k.withConfig),w}}({defaultTheme:Er,rootShouldForwardProp:_r}),Ar=Cr;function Nr(e,t){var n=l({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}var Rr=t.createContext(null);function Pr(){return t.useContext(Rr)}function Or(e){return 0===Object.keys(e).length}var Dr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Pr();return!t||Or(t)?e:t},Lr=Lt();var Mr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lr;return Dr(e)};function Fr(e){var t=e.props,n=e.name,r=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Nr(t.components[n].defaultProps,r):r}({theme:Mr(r),name:n,props:t});return i}function Vr(e){return Fr({props:e.props,name:e.name,defaultTheme:Er})}var Ur=n(164);function jr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function zr(e,n){return t.useMemo((function(){return null==e&&null==n?null:function(t){jr(e,t),jr(n,t)}}),[e,n])}function Br(e){return e&&e.ownerDocument||document}function qr(e){return Br(e).defaultView||window}function Wr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}var Kr="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,Gr=n(184),Hr=["onChange","maxRows","minRows","style","value"];function Qr(e,t){return parseInt(e[t],10)||0}var $r={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function Yr(e){return void 0===e||null===e||0===Object.keys(e).length}var Xr=t.forwardRef((function(e,n){var r=e.onChange,i=e.maxRows,a=e.minRows,o=void 0===a?1:a,u=e.style,s=e.value,d=f(e,Hr),h=t.useRef(null!=s).current,p=t.useRef(null),v=zr(n,p),m=t.useRef(null),y=t.useRef(0),g=c(t.useState({}),2),b=g[0],k=g[1],w=t.useCallback((function(){var t=p.current,n=qr(t).getComputedStyle(t);if("0px"===n.width)return{};var r=m.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var a=n["box-sizing"],u=Qr(n,"padding-bottom")+Qr(n,"padding-top"),s=Qr(n,"border-bottom-width")+Qr(n,"border-top-width"),c=r.scrollHeight;r.value="x";var l=r.scrollHeight,f=c;return o&&(f=Math.max(Number(o)*l,f)),i&&(f=Math.min(Number(i)*l,f)),{outerHeightStyle:(f=Math.max(f,l))+("border-box"===a?u+s:0),overflow:Math.abs(f-c)<=1}}),[i,o,e.placeholder]),x=function(e,t){var n=t.outerHeightStyle,r=t.overflow;return y.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(y.current+=1,{overflow:r,outerHeightStyle:n}):e},S=t.useCallback((function(){var e=w();Yr(e)||k((function(t){return x(t,e)}))}),[w]);t.useEffect((function(){var e,t=Wr((function(){y.current=0,p.current&&function(){var e=w();Yr(e)||(0,Ur.flushSync)((function(){k((function(t){return x(t,e)}))}))}()})),n=qr(p.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(p.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}})),Kr((function(){S()})),t.useEffect((function(){y.current=0}),[s]);return(0,Gr.jsxs)(t.Fragment,{children:[(0,Gr.jsx)("textarea",l({value:s,onChange:function(e){y.current=0,h||S(),r&&r(e)},ref:v,rows:o,style:l({height:b.outerHeightStyle,overflow:b.overflow?"hidden":null},u)},d)),(0,Gr.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:m,tabIndex:-1,style:l({},$r,u,{padding:0})})]})})),Jr=Xr;var Zr=function(e){return"string"===typeof e};function ei(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var ti=t.createContext();function ni(){return t.useContext(ti)}var ri=dt,ii=zr,ai=Kr,oi=(n(110),r.useInsertionEffect?r.useInsertionEffect:t.useLayoutEffect),ui=Ve((function(e,n){var r=e.styles,i=Me([r],void 0,(0,t.useContext)(Ue)),a=(0,t.useRef)();return oi((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),t.hydrate([o])),a.current=[t,r],function(){t.flush()}}),[n]),oi((function(){var e=a.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&Be(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null}));function si(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Me(t)}var ci=function(){var e=si.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function li(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,Gr.jsx)(ui,{styles:i})}var fi=function(e){return(0,Gr.jsx)(li,l({},e,{defaultTheme:Er}))};function di(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function hi(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(di(e.value)&&""!==e.value||t&&di(e.defaultValue)&&""!==e.defaultValue)}var pi=function(e){return e},vi=function(){var e=pi;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=pi}}}(),mi={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function yi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=mi[t];return r?"".concat(n,"-").concat(r):"".concat(vi.generate(e),"-").concat(t)}function gi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};return t.forEach((function(t){r[t]=yi(e,t,n)})),r}function bi(e){return yi("MuiInputBase",e)}var ki=gi("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),wi=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],xi=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(ri(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Si=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},Ii=Ar("div",{name:"MuiInputBase",slot:"Root",overridesResolver:xi})((function(e){var t=e.theme,n=e.ownerState;return l({},t.typography.body1,nt({color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(ki.disabled),{color:(t.vars||t).palette.text.disabled,cursor:"default"}),n.multiline&&l({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),Ei=Ar("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Si})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,a=l({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),o={opacity:"0 !important"},u=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return l((nt(t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},"label[data-shrink=false] + .".concat(ki.formControl," &"),{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u}),nt(t,"&.".concat(ki.disabled),{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled}),nt(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),_i=(0,Gr.jsx)(fi,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Ti=t.forwardRef((function(e,n){var r=Vr({props:e,name:"MuiInputBase"}),i=r["aria-describedby"],a=r.autoComplete,o=r.autoFocus,u=r.className,s=r.components,d=void 0===s?{}:s,v=r.componentsProps,m=void 0===v?{}:v,y=r.defaultValue,g=r.disabled,b=r.disableInjectingGlobalStyles,k=r.endAdornment,w=r.fullWidth,x=void 0!==w&&w,S=r.id,I=r.inputComponent,E=void 0===I?"input":I,_=r.inputProps,T=void 0===_?{}:_,C=r.inputRef,A=r.maxRows,N=r.minRows,R=r.multiline,P=void 0!==R&&R,O=r.name,D=r.onBlur,L=r.onChange,M=r.onClick,F=r.onFocus,V=r.onKeyDown,U=r.onKeyUp,j=r.placeholder,z=r.readOnly,B=r.renderSuffix,q=r.rows,W=r.startAdornment,K=r.type,G=void 0===K?"text":K,H=r.value,Q=f(r,wi),$=null!=T.value?T.value:H,Y=t.useRef(null!=$).current,X=t.useRef(),J=t.useCallback((function(e){0}),[]),Z=ii(T.ref,J),ee=ii(C,Z),te=ii(X,ee),ne=c(t.useState(!1),2),re=ne[0],ie=ne[1],ae=ni();var oe=ei({props:r,muiFormControl:ae,states:["color","disabled","error","hiddenLabel","size","required","filled"]});oe.focused=ae?ae.focused:re,t.useEffect((function(){!ae&&g&&re&&(ie(!1),D&&D())}),[ae,g,re,D]);var ue=ae&&ae.onFilled,se=ae&&ae.onEmpty,ce=t.useCallback((function(e){hi(e)?ue&&ue():se&&se()}),[ue,se]);ai((function(){Y&&ce({value:$})}),[$,ce,Y]);t.useEffect((function(){ce(X.current)}),[]);var le=E,fe=T;P&&"input"===le&&(fe=l(q?{type:void 0,minRows:q,maxRows:q}:{type:void 0,maxRows:A,minRows:N},fe),le=Jr);t.useEffect((function(){ae&&ae.setAdornedStart(Boolean(W))}),[ae,W]);var de=l({},r,{color:oe.color||"primary",disabled:oe.disabled,endAdornment:k,error:oe.error,focused:oe.focused,formControl:ae,fullWidth:x,hiddenLabel:oe.hiddenLabel,multiline:P,size:oe.size,startAdornment:W,type:G}),he=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,u=e.formControl,s=e.fullWidth,c=e.hiddenLabel,l=e.multiline,f=e.readOnly,d=e.size,h=e.startAdornment,v=e.type;return p({root:["root","color".concat(ri(n)),r&&"disabled",i&&"error",s&&"fullWidth",o&&"focused",u&&"formControl","small"===d&&"sizeSmall",l&&"multiline",h&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled","search"===v&&"inputTypeSearch",l&&"inputMultiline","small"===d&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",a&&"inputAdornedEnd",f&&"readOnly"]},bi,t)}(de),pe=d.Root||Ii,ve=m.root||{},me=d.Input||Ei;return fe=l({},fe,m.input),(0,Gr.jsxs)(t.Fragment,{children:[!b&&_i,(0,Gr.jsxs)(pe,l({},ve,!Zr(pe)&&{ownerState:l({},de,ve.ownerState)},{ref:n,onClick:function(e){X.current&&e.currentTarget===e.target&&X.current.focus(),M&&M(e)}},Q,{className:h(he.root,ve.className,u),children:[W,(0,Gr.jsx)(ti.Provider,{value:null,children:(0,Gr.jsx)(me,l({ownerState:de,"aria-invalid":oe.error,"aria-describedby":i,autoComplete:a,autoFocus:o,defaultValue:y,disabled:oe.disabled,id:S,onAnimationStart:function(e){ce("mui-auto-fill-cancel"===e.animationName?X.current:{value:"x"})},name:O,placeholder:j,readOnly:z,required:oe.required,rows:q,value:$,onKeyDown:V,onKeyUp:U,type:G},fe,!Zr(me)&&{as:le,ownerState:l({},de,fe.ownerState)},{ref:te,className:h(he.input,fe.className),onBlur:function(e){D&&D(e),T.onBlur&&T.onBlur(e),ae&&ae.onBlur?ae.onBlur(e):ie(!1)},onChange:function(e){if(!Y){var t=e.target||X.current;if(null==t)throw new Error(ft(1));ce({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];T.onChange&&T.onChange.apply(T,[e].concat(r)),L&&L.apply(void 0,[e].concat(r))},onFocus:function(e){oe.disabled?e.stopPropagation():(F&&F(e),T.onFocus&&T.onFocus(e),ae&&ae.onFocus?ae.onFocus(e):ie(!0))}}))}),k,B?B(l({},oe,{startAdornment:W})):null]}))]})})),Ci=Ti;function Ai(e){return yi("MuiInput",e)}var Ni=l({},ki,gi("MuiInput",["root","underline","input"])),Ri=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],Pi=Ar(Ii,{shouldForwardProp:function(e){return _r(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(b(xi(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(i="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputUnderline,")")),l({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(nt(t={"&:after":{borderBottom:"2px solid ".concat((n.vars||n).palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(Ni.focused,":after"),{transform:"scaleX(1) translateX(0)"}),nt(t,"&.".concat(Ni.error,":after"),{borderBottomColor:(n.vars||n).palette.error.main,transform:"scaleX(1)"}),nt(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),nt(t,"&:hover:not(.".concat(Ni.disabled,"):before"),{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),nt(t,"&.".concat(Ni.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),Oi=Ar(Ei,{name:"MuiInput",slot:"Input",overridesResolver:Si})({}),Di=t.forwardRef((function(e,t){var n=Vr({props:e,name:"MuiInput"}),r=n.disableUnderline,i=n.components,a=void 0===i?{}:i,o=n.componentsProps,u=n.fullWidth,s=void 0!==u&&u,c=n.inputComponent,d=void 0===c?"input":c,h=n.multiline,v=void 0!==h&&h,m=n.type,y=void 0===m?"text":m,g=f(n,Ri),b=function(e){var t=e.classes;return l({},t,p({root:["root",!e.disableUnderline&&"underline"],input:["input"]},Ai,t))}(n),k={root:{ownerState:{disableUnderline:r}}},w=o?tt(o,k):k;return(0,Gr.jsx)(Ci,l({components:l({Root:Pi,Input:Oi},a),componentsProps:w,fullWidth:s,inputComponent:d,multiline:v,ref:t,type:y},g,{classes:b}))}));Di.muiName="Input";var Li=Di;function Mi(e){return yi("MuiFilledInput",e)}var Fi=l({},ki,gi("MuiFilledInput",["root","underline","input"])),Vi=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],Ui=Ar(Ii,{shouldForwardProp:function(e){return _r(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(b(xi(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,r,i=e.theme,a=e.ownerState,o="light"===i.palette.mode,u=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",c=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",f=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return l((nt(t={position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:c,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s}}},"&.".concat(Fi.focused),{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s}),nt(t,"&.".concat(Fi.disabled),{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:f}),t),!a.disableUnderline&&(nt(n={"&:after":{borderBottom:"2px solid ".concat(null==(r=(i.vars||i).palette[a.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(Fi.focused,":after"),{transform:"scaleX(1) translateX(0)"}),nt(n,"&.".concat(Fi.error,":after"),{borderBottomColor:(i.vars||i).palette.error.main,transform:"scaleX(1)"}),nt(n,"&:before",{borderBottom:"1px solid ".concat(i.vars?"rgba(".concat(i.vars.palette.common.onBackgroundChannel," / ").concat(i.vars.opacity.inputUnderline,")"):u),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"}),nt(n,"&:hover:not(.".concat(Fi.disabled,"):before"),{borderBottom:"1px solid ".concat((i.vars||i).palette.text.primary)}),nt(n,"&.".concat(Fi.disabled,":before"),{borderBottomStyle:"dotted"}),n),a.startAdornment&&{paddingLeft:12},a.endAdornment&&{paddingRight:12},a.multiline&&l({padding:"25px 12px 8px"},"small"===a.size&&{paddingTop:21,paddingBottom:4},a.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),ji=Ar(Ei,{name:"MuiFilledInput",slot:"Input",overridesResolver:Si})((function(e){var t=e.theme,n=e.ownerState;return l({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&nt({"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),zi=t.forwardRef((function(e,t){var n=Vr({props:e,name:"MuiFilledInput"}),r=n.components,i=void 0===r?{}:r,a=n.componentsProps,o=n.fullWidth,u=void 0!==o&&o,s=n.inputComponent,c=void 0===s?"input":s,d=n.multiline,h=void 0!==d&&d,v=n.type,m=void 0===v?"text":v,y=f(n,Vi),g=l({},n,{fullWidth:u,inputComponent:c,multiline:h,type:m}),b=function(e){var t=e.classes;return l({},t,p({root:["root",!e.disableUnderline&&"underline"],input:["input"]},Mi,t))}(n),k={root:{ownerState:g},input:{ownerState:g}},w=a?tt(a,k):k;return(0,Gr.jsx)(Ci,l({components:l({Root:Ui,Input:ji},i),componentsProps:w,fullWidth:u,inputComponent:c,multiline:h,ref:t,type:m},y,{classes:b}))}));zi.muiName="Input";var Bi,qi=zi,Wi=["children","classes","className","label","notched"],Ki=Ar("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Gi=Ar("legend")((function(e){var t=e.ownerState,n=e.theme;return l({float:"unset",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&l({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function Hi(e){return yi("MuiOutlinedInput",e)}var Qi=l({},ki,gi("MuiOutlinedInput",["root","notchedOutline","input"])),$i=["components","fullWidth","inputComponent","label","multiline","notched","type"],Yi=Ar(Ii,{shouldForwardProp:function(e){return _r(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:xi})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return l((nt(t={position:"relative",borderRadius:(n.vars||n).shape.borderRadius},"&:hover .".concat(Qi.notchedOutline),{borderColor:(n.vars||n).palette.text.primary}),nt(t,"@media (hover: none)",nt({},"&:hover .".concat(Qi.notchedOutline),{borderColor:n.vars?"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.23)"):i})),nt(t,"&.".concat(Qi.focused," .").concat(Qi.notchedOutline),{borderColor:(n.vars||n).palette[r.color].main,borderWidth:2}),nt(t,"&.".concat(Qi.error," .").concat(Qi.notchedOutline),{borderColor:(n.vars||n).palette.error.main}),nt(t,"&.".concat(Qi.disabled," .").concat(Qi.notchedOutline),{borderColor:(n.vars||n).palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&l({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),Xi=Ar((function(e){var t=e.className,n=e.label,r=e.notched,i=f(e,Wi),a=null!=n&&""!==n,o=l({},e,{notched:r,withLabel:a});return(0,Gr.jsx)(Ki,l({"aria-hidden":!0,className:t,ownerState:o},i,{children:(0,Gr.jsx)(Gi,{ownerState:o,children:a?(0,Gr.jsx)("span",{children:n}):Bi||(Bi=(0,Gr.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){var t=e.theme,n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),Ji=Ar(Ei,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Si})((function(e){var t=e.theme,n=e.ownerState;return l({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&nt({"&:-webkit-autofill":{borderRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),Zi=t.forwardRef((function(e,n){var r,i=Vr({props:e,name:"MuiOutlinedInput"}),a=i.components,o=void 0===a?{}:a,u=i.fullWidth,s=void 0!==u&&u,c=i.inputComponent,d=void 0===c?"input":c,h=i.label,v=i.multiline,m=void 0!==v&&v,y=i.notched,g=i.type,b=void 0===g?"text":g,k=f(i,$i),w=function(e){var t=e.classes;return l({},t,p({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Hi,t))}(i),x=ni(),S=ei({props:i,muiFormControl:x,states:["required"]}),I=l({},i,{color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:x,fullWidth:s,hiddenLabel:S.hiddenLabel,multiline:m,size:S.size,type:b});return(0,Gr.jsx)(Ci,l({components:l({Root:Yi,Input:Ji},o),renderSuffix:function(e){return(0,Gr.jsx)(Xi,{ownerState:I,className:w.notchedOutline,label:null!=h&&""!==h&&S.required?r||(r=(0,Gr.jsxs)(t.Fragment,{children:[h,"\xa0","*"]})):h,notched:"undefined"!==typeof y?y:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:s,inputComponent:d,multiline:m,ref:n,type:b},k,{classes:l({},w,{notchedOutline:null})}))}));Zi.muiName="Input";var ea=Zi;function ta(e){return yi("MuiFormLabel",e)}var na=gi("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),ra=["children","className","color","component","disabled","error","filled","focused","required"],ia=Ar("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return l({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return l({color:(n.vars||n).palette.text.secondary},n.typography.body1,(nt(t={lineHeight:"1.4375em",padding:0,position:"relative"},"&.".concat(na.focused),{color:(n.vars||n).palette[r.color].main}),nt(t,"&.".concat(na.disabled),{color:(n.vars||n).palette.text.disabled}),nt(t,"&.".concat(na.error),{color:(n.vars||n).palette.error.main}),t))})),aa=Ar("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return nt({},"&.".concat(na.error),{color:(t.vars||t).palette.error.main})})),oa=t.forwardRef((function(e,t){var n=Vr({props:e,name:"MuiFormLabel"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"label":a,u=f(n,ra),s=ei({props:n,muiFormControl:ni(),states:["color","required","focused","disabled","error","filled"]}),c=l({},n,{color:s.color||"primary",component:o,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),d=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,a=e.error,o=e.filled,u=e.required;return p({root:["root","color".concat(ri(n)),i&&"disabled",a&&"error",o&&"filled",r&&"focused",u&&"required"],asterisk:["asterisk",a&&"error"]},ta,t)}(c);return(0,Gr.jsxs)(ia,l({as:o,ownerState:c,className:h(d.root,i),ref:t},u,{children:[r,s.required&&(0,Gr.jsxs)(aa,{ownerState:c,"aria-hidden":!0,className:d.asterisk,children:["\u2009","*"]})]}))})),ua=oa;function sa(e){return yi("MuiInputLabel",e)}gi("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var ca=["disableAnimation","margin","shrink","variant"],la=Ar(ua,{shouldForwardProp:function(e){return _r(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[nt({},"& .".concat(na.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return l({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&l({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&l({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&l({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))})),fa=t.forwardRef((function(e,t){var n=Vr({name:"MuiInputLabel",props:e}),r=n.disableAnimation,i=void 0!==r&&r,a=n.shrink,o=f(n,ca),u=ni(),s=a;"undefined"===typeof s&&u&&(s=u.filled||u.focused||u.adornedStart);var c=ei({props:n,muiFormControl:u,states:["size","variant","required"]}),d=l({},n,{disableAnimation:i,formControl:u,shrink:s,size:c.size,variant:c.variant,required:c.required}),h=function(e){var t=e.classes,n=e.formControl,r=e.size,i=e.shrink;return l({},t,p({root:["root",n&&"formControl",!e.disableAnimation&&"animated",i&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},sa,t))}(d);return(0,Gr.jsx)(la,l({"data-shrink":s,ownerState:d,ref:t},o,{classes:h}))}));var da=function(e,n){return t.isValidElement(e)&&-1!==n.indexOf(e.type.muiName)};function ha(e){return yi("MuiFormControl",e)}gi("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var pa=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],va=Ar("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return l({},t.root,t["margin".concat(ri(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return l({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),ma=t.forwardRef((function(e,n){var r=Vr({props:e,name:"MuiFormControl"}),i=r.children,a=r.className,o=r.color,u=void 0===o?"primary":o,s=r.component,d=void 0===s?"div":s,v=r.disabled,m=void 0!==v&&v,y=r.error,g=void 0!==y&&y,b=r.focused,k=r.fullWidth,w=void 0!==k&&k,x=r.hiddenLabel,S=void 0!==x&&x,I=r.margin,E=void 0===I?"none":I,_=r.required,T=void 0!==_&&_,C=r.size,A=void 0===C?"medium":C,N=r.variant,R=void 0===N?"outlined":N,P=f(r,pa),O=l({},r,{color:u,component:d,disabled:m,error:g,fullWidth:w,hiddenLabel:S,margin:E,required:T,size:A,variant:R}),D=function(e){var t=e.classes,n=e.margin,r=e.fullWidth;return p({root:["root","none"!==n&&"margin".concat(ri(n)),r&&"fullWidth"]},ha,t)}(O),L=c(t.useState((function(){var e=!1;return i&&t.Children.forEach(i,(function(t){if(da(t,["Input","Select"])){var n=da(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),2),M=L[0],F=L[1],V=c(t.useState((function(){var e=!1;return i&&t.Children.forEach(i,(function(t){da(t,["Input","Select"])&&hi(t.props,!0)&&(e=!0)})),e})),2),U=V[0],j=V[1],z=c(t.useState(!1),2),B=z[0],q=z[1];m&&B&&q(!1);var W=void 0===b||m?B:b,K=t.useCallback((function(){j(!0)}),[]),G={adornedStart:M,setAdornedStart:F,color:u,disabled:m,error:g,filled:U,focused:W,fullWidth:w,hiddenLabel:S,size:A,onBlur:function(){q(!1)},onEmpty:t.useCallback((function(){j(!1)}),[]),onFilled:K,onFocus:function(){q(!0)},registerEffect:undefined,required:T,variant:R};return(0,Gr.jsx)(ti.Provider,{value:G,children:(0,Gr.jsx)(va,l({as:d,ownerState:O,className:h(D.root,a),ref:n},P,{children:i}))})})),ya=ma;function ga(e){return yi("MuiFormHelperText",e)}var ba,ka=gi("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),wa=["children","className","component","disabled","error","filled","focused","margin","required","variant"],xa=Ar("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat(ri(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,r=e.ownerState;return l({color:(n.vars||n).palette.text.secondary},n.typography.caption,(nt(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},"&.".concat(ka.disabled),{color:(n.vars||n).palette.text.disabled}),nt(t,"&.".concat(ka.error),{color:(n.vars||n).palette.error.main}),t),"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),Sa=t.forwardRef((function(e,t){var n=Vr({props:e,name:"MuiFormHelperText"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"p":a,u=f(n,wa),s=ei({props:n,muiFormControl:ni(),states:["variant","size","disabled","error","filled","focused","required"]}),c=l({},n,{component:o,contained:"filled"===s.variant||"outlined"===s.variant,variant:s.variant,size:s.size,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),d=function(e){var t=e.classes,n=e.contained,r=e.size,i=e.disabled,a=e.error,o=e.filled,u=e.focused,s=e.required;return p({root:["root",i&&"disabled",a&&"error",r&&"size".concat(ri(r)),n&&"contained",u&&"focused",o&&"filled",s&&"required"]},ga,t)}(c);return(0,Gr.jsx)(xa,l({as:o,ownerState:c,className:h(d.root,i),ref:t},u,{children:" "===r?ba||(ba=(0,Gr.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),Ia=(n(457),Br);var Ea=t.createContext({});function _a(e){return yi("MuiList",e)}gi("MuiList",["root","padding","dense","subheader"]);var Ta=["children","className","component","dense","disablePadding","subheader"],Ca=Ar("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return l({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),Aa=t.forwardRef((function(e,n){var r=Vr({props:e,name:"MuiList"}),i=r.children,a=r.className,o=r.component,u=void 0===o?"ul":o,s=r.dense,c=void 0!==s&&s,d=r.disablePadding,v=void 0!==d&&d,m=r.subheader,y=f(r,Ta),g=t.useMemo((function(){return{dense:c}}),[c]),b=l({},r,{component:u,dense:c,disablePadding:v}),k=function(e){var t=e.classes;return p({root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]},_a,t)}(b);return(0,Gr.jsx)(Ea.Provider,{value:g,children:(0,Gr.jsxs)(Ca,l({as:u,className:h(k.root,a),ref:n,ownerState:b},y,{children:[m,i]}))})}));function Na(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}var Ra=Na,Pa=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Oa(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Da(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function La(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function Ma(e,t,n,r,i,a){for(var o=!1,u=i(e,t,!!t&&n);u;){if(u===e.firstChild){if(o)return!1;o=!0}var s=!r&&(u.disabled||"true"===u.getAttribute("aria-disabled"));if(u.hasAttribute("tabindex")&&La(u,a)&&!s)return u.focus(),!0;u=i(e,u,n)}return!1}var Fa=t.forwardRef((function(e,n){var r=e.actions,i=e.autoFocus,a=void 0!==i&&i,o=e.autoFocusItem,u=void 0!==o&&o,s=e.children,c=e.className,d=e.disabledItemsFocusable,h=void 0!==d&&d,p=e.disableListWrap,v=void 0!==p&&p,m=e.onKeyDown,y=e.variant,g=void 0===y?"selectedMenu":y,b=f(e,Pa),k=t.useRef(null),w=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ai((function(){a&&k.current.focus()}),[a]),t.useImperativeHandle(r,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!k.current.style.width;if(e.clientHeight<k.current.clientHeight&&n){var r="".concat(Ra(Ia(e)),"px");k.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,k.current.style.width="calc(100% + ".concat(r,")")}return k.current}}}),[]);var x=ii(k,n),S=-1;t.Children.forEach(s,(function(e,n){t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===g&&e.props.selected||-1===S)&&(S=n))}));var I=t.Children.map(s,(function(e,n){if(n===S){var r={};return u&&(r.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===g&&(r.tabIndex=0),t.cloneElement(e,r)}return e}));return(0,Gr.jsx)(Aa,l({role:"menu",ref:x,className:c,onKeyDown:function(e){var t=k.current,n=e.key,r=Ia(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Ma(t,r,v,h,Oa);else if("ArrowUp"===n)e.preventDefault(),Ma(t,r,v,h,Da);else if("Home"===n)e.preventDefault(),Ma(t,null,v,h,Oa);else if("End"===n)e.preventDefault(),Ma(t,null,v,h,Da);else if(1===n.length){var i=w.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var u=r&&!i.repeating&&La(r,i);i.previousKeyMatched&&(u||Ma(t,r,!1,h,Oa,i))?e.preventDefault():i.previousKeyMatched=!1}m&&m(e)},tabIndex:a?0:-1},b,{children:I}))})),Va=Fa;function Ua(e){return yi("MuiPaper",e)}gi("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var ja=["className","component","elevation","square","variant"],za=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},Ba=Ar("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t,n=e.theme,r=e.ownerState;return l({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!r.square&&{borderRadius:n.shape.borderRadius},"outlined"===r.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===r.variant&&l({boxShadow:(n.vars||n).shadows[r.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat(Qn("#fff",za(r.elevation)),", ").concat(Qn("#fff",za(r.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[r.elevation]}))})),qa=t.forwardRef((function(e,t){var n=Vr({props:e,name:"MuiPaper"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.elevation,u=void 0===o?1:o,s=n.square,c=void 0!==s&&s,d=n.variant,v=void 0===d?"elevation":d,m=f(n,ja),y=l({},n,{component:a,elevation:u,square:c,variant:v}),g=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes;return p({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},Ua,i)}(y);return(0,Gr.jsx)(Ba,l({as:a,ownerState:y,className:h(g.root,r),ref:t},m))})),Wa=qa,Ka=Wr,Ga=qr;function Ha(e,t){return Ha=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ha(e,t)}function Qa(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ha(e,t)}var $a=!1,Ya=t.createContext(null),Xa="unmounted",Ja="exited",Za="entering",eo="entered",to="exiting",no=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Ja,r.appearStatus=Za):i=eo:i=t.unmountOnExit||t.mountOnEnter?Xa:Ja,r.state={status:i},r.nextCallback=null,r}Qa(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Xa?{status:Ja}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Za&&n!==eo&&(t=Za):n!==Za&&n!==eo||(t=to)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Za){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Ur.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ja&&this.setState({status:Xa})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Ur.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||$a?this.safeSetState({status:eo},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:Za},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:eo},(function(){t.props.onEntered(a,o)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Ur.findDOMNode(this);t&&!$a?(this.props.onExit(r),this.safeSetState({status:to},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Ja},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Ja},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Ur.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===Xa)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,f(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(Ya.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function ro(){}no.contextType=Ya,no.propTypes={},no.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ro,onEntering:ro,onEntered:ro,onExit:ro,onExiting:ro,onExited:ro},no.UNMOUNTED=Xa,no.EXITED=Ja,no.ENTERING=Za,no.ENTERED=eo,no.EXITING=to;var io=no;function ao(){return Mr(Er)}var oo=function(e){return e.scrollTop};function uo(e,t){var n,r,i=e.timeout,a=e.easing,o=e.style,u=void 0===o?{}:o;return{duration:null!=(n=u.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=u.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:u.transitionDelay}}var so=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function co(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var lo={entering:{opacity:1,transform:co(1)},entered:{opacity:1,transform:"none"}},fo="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),ho=t.forwardRef((function(e,n){var r=e.addEndListener,i=e.appear,a=void 0===i||i,o=e.children,u=e.easing,s=e.in,c=e.onEnter,d=e.onEntered,h=e.onEntering,p=e.onExit,v=e.onExited,m=e.onExiting,y=e.style,g=e.timeout,b=void 0===g?"auto":g,k=e.TransitionComponent,w=void 0===k?io:k,x=f(e,so),S=t.useRef(),I=t.useRef(),E=ao(),_=t.useRef(null),T=ii(o.ref,n),C=ii(_,T),A=function(e){return function(t){if(e){var n=_.current;void 0===t?e(n):e(n,t)}}},N=A(h),R=A((function(e,t){oo(e);var n,r=uo({style:y,timeout:b,easing:u},{mode:"enter"}),i=r.duration,a=r.delay,o=r.easing;"auto"===b?(n=E.transitions.getAutoHeightDuration(e.clientHeight),I.current=n):n=i,e.style.transition=[E.transitions.create("opacity",{duration:n,delay:a}),E.transitions.create("transform",{duration:fo?n:.666*n,delay:a,easing:o})].join(","),c&&c(e,t)})),P=A(d),O=A(m),D=A((function(e){var t,n=uo({style:y,timeout:b,easing:u},{mode:"exit"}),r=n.duration,i=n.delay,a=n.easing;"auto"===b?(t=E.transitions.getAutoHeightDuration(e.clientHeight),I.current=t):t=r,e.style.transition=[E.transitions.create("opacity",{duration:t,delay:i}),E.transitions.create("transform",{duration:fo?t:.666*t,delay:fo?i:i||.333*t,easing:a})].join(","),e.style.opacity=0,e.style.transform=co(.75),p&&p(e)})),L=A(v);return t.useEffect((function(){return function(){clearTimeout(S.current)}}),[]),(0,Gr.jsx)(w,l({appear:a,in:s,nodeRef:_,onEnter:R,onEntered:P,onEntering:N,onExit:D,onExited:L,onExiting:O,addEndListener:function(e){"auto"===b&&(S.current=setTimeout(e,I.current||0)),r&&r(_.current,e)},timeout:"auto"===b?null:b},x,{children:function(e,n){return t.cloneElement(o,l({style:l({opacity:0,transform:co(.75),visibility:"exited"!==e||s?void 0:"hidden"},lo[e],y,o.props.style),ref:C},n))}}))}));ho.muiSupportAuto=!0;var po=ho;function vo(e){var n=t.useRef(e);return Kr((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}function mo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var yo=t.forwardRef((function(e,n){var r=e.children,i=e.container,a=e.disablePortal,o=void 0!==a&&a,u=c(t.useState(null),2),s=u[0],l=u[1],f=zr(t.isValidElement(r)?r.ref:null,n);return Kr((function(){o||l(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),Kr((function(){if(s&&!o)return jr(n,s),function(){jr(n,null)}}),[n,s,o]),o?t.isValidElement(r)?t.cloneElement(r,{ref:f}):r:s?Ur.createPortal(r,s):s}));function go(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ko(e,t,n){return t&&bo(e.prototype,t),n&&bo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wo(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function xo(e){return parseInt(qr(e).getComputedStyle(e).paddingRight,10)||0}function So(e){var t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}function Io(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat(b(r));[].forEach.call(e.children,(function(e){var t=-1===a.indexOf(e),n=!So(e);t&&n&&wo(e,i)}))}function Eo(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function _o(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=Br(e);return t.body===e?qr(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=Na(Br(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(xo(r)+i,"px");var a=Br(r).querySelectorAll(".mui-fixed");[].forEach.call(a,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(xo(e)+i,"px")}))}var o;if(r.parentNode instanceof DocumentFragment)o=Br(r).body;else{var u=r.parentElement,s=qr(r);o="HTML"===(null==u?void 0:u.nodeName)&&"scroll"===s.getComputedStyle(u).overflowY?u:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var To=function(){function e(){go(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return ko(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&wo(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);Io(t,e.mount,e.modalRef,r,!0);var i=Eo(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=Eo(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=_o(r,t))}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.modals.indexOf(e);if(-1===n)return n;var r=Eo(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&wo(e.modalRef,t),Io(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{var a=i.modals[i.modals.length-1];a.modalRef&&wo(a.modalRef,!1)}return n}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),Co=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Ao(e){var t=[],n=[];return Array.from(e.querySelectorAll(Co)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function No(){return!0}var Ro=function(e){var n=e.children,r=e.disableAutoFocus,i=void 0!==r&&r,a=e.disableEnforceFocus,o=void 0!==a&&a,u=e.disableRestoreFocus,s=void 0!==u&&u,c=e.getTabbable,l=void 0===c?Ao:c,f=e.isEnabled,d=void 0===f?No:f,h=e.open,p=t.useRef(),v=t.useRef(null),m=t.useRef(null),y=t.useRef(null),g=t.useRef(null),b=t.useRef(!1),k=t.useRef(null),w=zr(n.ref,k),x=t.useRef(null);t.useEffect((function(){h&&k.current&&(b.current=!i)}),[i,h]),t.useEffect((function(){if(h&&k.current){var e=Br(k.current);return k.current.contains(e.activeElement)||(k.current.hasAttribute("tabIndex")||k.current.setAttribute("tabIndex",-1),b.current&&k.current.focus()),function(){s||(y.current&&y.current.focus&&(p.current=!0,y.current.focus()),y.current=null)}}}),[h]),t.useEffect((function(){if(h&&k.current){var e=Br(k.current),t=function(t){var n=k.current;if(null!==n)if(e.hasFocus()&&!o&&d()&&!p.current){if(!n.contains(e.activeElement)){if(t&&g.current!==t.target||e.activeElement!==g.current)g.current=null;else if(null!==g.current)return;if(!b.current)return;var r=[];if(e.activeElement!==v.current&&e.activeElement!==m.current||(r=l(k.current)),r.length>0){var i,a,u=Boolean((null==(i=x.current)?void 0:i.shiftKey)&&"Tab"===(null==(a=x.current)?void 0:a.key)),s=r[0],c=r[r.length-1];u?c.focus():s.focus()}else n.focus()}}else p.current=!1},n=function(t){x.current=t,!o&&d()&&"Tab"===t.key&&e.activeElement===k.current&&t.shiftKey&&(p.current=!0,m.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){"BODY"===e.activeElement.tagName&&t()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[i,o,s,d,h,l]);var S=function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0};return(0,Gr.jsxs)(t.Fragment,{children:[(0,Gr.jsx)("div",{tabIndex:0,onFocus:S,ref:v,"data-test":"sentinelStart"}),t.cloneElement(n,{ref:w,onFocus:function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0,g.current=e.target;var t=n.props.onFocus;t&&t(e)}}),(0,Gr.jsx)("div",{tabIndex:0,onFocus:S,ref:m,"data-test":"sentinelEnd"})]})};function Po(e){return yi("MuiModal",e)}gi("MuiModal",["root","hidden"]);function Oo(e){if(void 0===e)return{};var t={};return Object.keys(e).filter((function(t){return!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])})).forEach((function(n){t[n]=e[n]})),t}function Do(e){var t=e.getSlotProps,n=e.additionalProps,r=e.externalSlotProps,i=e.externalForwardedProps,a=e.className;if(!t){var o=h(null==i?void 0:i.className,null==r?void 0:r.className,a,null==n?void 0:n.className),u=l({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),s=l({},n,i,r);return o.length>0&&(s.className=o),Object.keys(u).length>0&&(s.style=u),{props:s,internalRef:void 0}}var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};var n={};return Object.keys(e).filter((function(n){return n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)})).forEach((function(t){n[t]=e[t]})),n}(l({},i,r)),f=Oo(r),d=Oo(i),p=t(c),v=h(null==p?void 0:p.className,null==n?void 0:n.className,a,null==i?void 0:i.className,null==r?void 0:r.className),m=l({},null==p?void 0:p.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),y=l({},p,n,d,f);return v.length>0&&(y.className=v),Object.keys(m).length>0&&(y.style=m),{props:y,internalRef:p.ref}}function Lo(e,t){return"function"===typeof e?e(t):e}var Mo=["elementType","externalSlotProps","ownerState"];function Fo(e){var t,n=e.elementType,r=e.externalSlotProps,i=e.ownerState,a=f(e,Mo),o=Lo(r,i),u=Do(l({},a,{externalSlotProps:o})),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return Zr(e)?t:l({},t,{ownerState:l({},t.ownerState,n)})}(n,l({},u.props,{ref:zr(u.internalRef,zr(null==o?void 0:o.ref,null==(t=e.additionalProps)?void 0:t.ref))}),i);return s}var Vo=["children","classes","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited"];var Uo=new To,jo=t.forwardRef((function(e,n){var r,i=e.children,a=e.classes,o=e.closeAfterTransition,u=void 0!==o&&o,s=e.component,d=void 0===s?"div":s,h=e.components,v=void 0===h?{}:h,m=e.componentsProps,y=void 0===m?{}:m,g=e.container,b=e.disableAutoFocus,k=void 0!==b&&b,w=e.disableEnforceFocus,x=void 0!==w&&w,S=e.disableEscapeKeyDown,I=void 0!==S&&S,E=e.disablePortal,_=void 0!==E&&E,T=e.disableRestoreFocus,C=void 0!==T&&T,A=e.disableScrollLock,N=void 0!==A&&A,R=e.hideBackdrop,P=void 0!==R&&R,O=e.keepMounted,D=void 0!==O&&O,L=e.manager,M=void 0===L?Uo:L,F=e.onBackdropClick,V=e.onClose,U=e.onKeyDown,j=e.open,z=e.onTransitionEnter,B=e.onTransitionExited,q=f(e,Vo),W=c(t.useState(!0),2),K=W[0],G=W[1],H=t.useRef({}),Q=t.useRef(null),$=t.useRef(null),Y=zr($,n),X=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(e),J=null==(r=e["aria-hidden"])||r,Z=function(){return H.current.modalRef=$.current,H.current.mountNode=Q.current,H.current},ee=function(){M.mount(Z(),{disableScrollLock:N}),$.current.scrollTop=0},te=vo((function(){var e=function(e){return"function"===typeof e?e():e}(g)||Br(Q.current).body;M.add(Z(),e),$.current&&ee()})),ne=t.useCallback((function(){return M.isTopModal(Z())}),[M]),re=vo((function(e){Q.current=e,e&&(j&&ne()?ee():wo($.current,J))})),ie=t.useCallback((function(){M.remove(Z(),J)}),[M,J]);t.useEffect((function(){return function(){ie()}}),[ie]),t.useEffect((function(){j?te():X&&u||ie()}),[j,ie,X,u,te]);var ae=l({},e,{classes:a,closeAfterTransition:u,disableAutoFocus:k,disableEnforceFocus:x,disableEscapeKeyDown:I,disablePortal:_,disableRestoreFocus:C,disableScrollLock:N,exited:K,hideBackdrop:P,keepMounted:D}),oe=function(e){var t=e.open,n=e.exited;return p({root:["root",!t&&n&&"hidden"]},Po,e.classes)}(ae),ue={};void 0===i.props.tabIndex&&(ue.tabIndex="-1"),X&&(ue.onEnter=mo((function(){G(!1),z&&z()}),i.props.onEnter),ue.onExited=mo((function(){G(!0),B&&B(),u&&ie()}),i.props.onExited));var se=v.Root||d,ce=Fo({elementType:se,externalSlotProps:y.root,externalForwardedProps:q,additionalProps:{ref:Y,role:"presentation",onKeyDown:function(e){U&&U(e),"Escape"===e.key&&ne()&&(I||(e.stopPropagation(),V&&V(e,"escapeKeyDown")))}},className:oe.root,ownerState:ae}),le=v.Backdrop,fe=Fo({elementType:le,externalSlotProps:y.backdrop,additionalProps:{"aria-hidden":!0,onClick:function(e){e.target===e.currentTarget&&(F&&F(e),V&&V(e,"backdropClick"))},open:j},ownerState:ae});return D||j||X&&!K?(0,Gr.jsx)(yo,{ref:re,container:g,disablePortal:_,children:(0,Gr.jsxs)(se,l({},ce,{children:[!P&&le?(0,Gr.jsx)(le,l({},fe)):null,(0,Gr.jsx)(Ro,{disableEnforceFocus:x,disableAutoFocus:k,disableRestoreFocus:C,isEnabled:ne,open:j,children:t.cloneElement(i,ue)})]}))}):null})),zo=jo,Bo=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],qo={entering:{opacity:1},entered:{opacity:1}},Wo=t.forwardRef((function(e,n){var r=ao(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},a=e.addEndListener,o=e.appear,u=void 0===o||o,s=e.children,c=e.easing,d=e.in,h=e.onEnter,p=e.onEntered,v=e.onEntering,m=e.onExit,y=e.onExited,g=e.onExiting,b=e.style,k=e.timeout,w=void 0===k?i:k,x=e.TransitionComponent,S=void 0===x?io:x,I=f(e,Bo),E=t.useRef(null),_=ii(s.ref,n),T=ii(E,_),C=function(e){return function(t){if(e){var n=E.current;void 0===t?e(n):e(n,t)}}},A=C(v),N=C((function(e,t){oo(e);var n=uo({style:b,timeout:w,easing:c},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),h&&h(e,t)})),R=C(p),P=C(g),O=C((function(e){var t=uo({style:b,timeout:w,easing:c},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),m&&m(e)})),D=C(y);return(0,Gr.jsx)(S,l({appear:u,in:d,nodeRef:E,onEnter:N,onEntered:R,onEntering:A,onExit:O,onExited:D,onExiting:P,addEndListener:function(e){a&&a(E.current,e)},timeout:w},I,{children:function(e,n){return t.cloneElement(s,l({style:l({opacity:0,visibility:"exited"!==e||d?void 0:"hidden"},qo[e],b,s.props.style),ref:T},n))}}))})),Ko=Wo;function Go(e){return yi("MuiBackdrop",e)}gi("MuiBackdrop",["root","invisible"]);var Ho=["children","component","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],Qo=Ar("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){return l({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.ownerState.invisible&&{backgroundColor:"transparent"})})),$o=t.forwardRef((function(e,t){var n,r,i=Vr({props:e,name:"MuiBackdrop"}),a=i.children,o=i.component,u=void 0===o?"div":o,s=i.components,c=void 0===s?{}:s,d=i.componentsProps,v=void 0===d?{}:d,m=i.className,y=i.invisible,g=void 0!==y&&y,b=i.open,k=i.transitionDuration,w=i.TransitionComponent,x=void 0===w?Ko:w,S=f(i,Ho),I=l({},i,{component:u,invisible:g}),E=function(e){var t=e.classes;return p({root:["root",e.invisible&&"invisible"]},Go,t)}(I);return(0,Gr.jsx)(x,l({in:b,timeout:k},S,{children:(0,Gr.jsx)(Qo,{"aria-hidden":!0,as:null!=(n=c.Root)?n:u,className:h(E.root,m),ownerState:l({},I,null==(r=v.root)?void 0:r.ownerState),classes:E,ref:t,children:a})}))})),Yo=["BackdropComponent","BackdropProps","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","theme"],Xo=Ar("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return l({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),Jo=Ar($o,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),Zo=t.forwardRef((function(e,n){var r,i,a=Vr({name:"MuiModal",props:e}),o=a.BackdropComponent,u=void 0===o?Jo:o,s=a.BackdropProps,d=a.closeAfterTransition,h=void 0!==d&&d,p=a.children,v=a.component,m=a.components,y=void 0===m?{}:m,g=a.componentsProps,b=void 0===g?{}:g,k=a.disableAutoFocus,w=void 0!==k&&k,x=a.disableEnforceFocus,S=void 0!==x&&x,I=a.disableEscapeKeyDown,E=void 0!==I&&I,_=a.disablePortal,T=void 0!==_&&_,C=a.disableRestoreFocus,A=void 0!==C&&C,N=a.disableScrollLock,R=void 0!==N&&N,P=a.hideBackdrop,O=void 0!==P&&P,D=a.keepMounted,L=void 0!==D&&D,M=a.theme,F=f(a,Yo),V=c(t.useState(!0),2),U=V[0],j=V[1],z={closeAfterTransition:h,disableAutoFocus:w,disableEnforceFocus:S,disableEscapeKeyDown:E,disablePortal:T,disableRestoreFocus:A,disableScrollLock:R,hideBackdrop:O,keepMounted:L},B=l({},a,z,{exited:U}),q=function(e){return e.classes}(B),W=null!=(r=null!=(i=y.Root)?i:v)?r:Xo;return(0,Gr.jsx)(zo,l({components:l({Root:W,Backdrop:u},y),componentsProps:{root:function(){return l({},Lo(b.root,B),!Zr(W)&&{as:v,theme:M})},backdrop:function(){return l({},s,Lo(b.backdrop,B))}},onTransitionEnter:function(){return j(!1)},onTransitionExited:function(){return j(!0)},ref:n},F,{classes:q},z,{children:p}))}));function eu(e){return yi("MuiPopover",e)}gi("MuiPopover",["root","paper"]);var tu=["onEntering"],nu=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function ru(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function iu(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function au(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function ou(e){return"function"===typeof e?e():e}var uu=Ar(Zo,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),su=Ar(Wa,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),cu=t.forwardRef((function(e,n){var r=Vr({props:e,name:"MuiPopover"}),i=r.action,a=r.anchorEl,o=r.anchorOrigin,u=void 0===o?{vertical:"top",horizontal:"left"}:o,s=r.anchorPosition,c=r.anchorReference,d=void 0===c?"anchorEl":c,v=r.children,m=r.className,y=r.container,g=r.elevation,b=void 0===g?8:g,k=r.marginThreshold,w=void 0===k?16:k,x=r.open,S=r.PaperProps,I=void 0===S?{}:S,E=r.transformOrigin,_=void 0===E?{vertical:"top",horizontal:"left"}:E,T=r.TransitionComponent,C=void 0===T?po:T,A=r.transitionDuration,N=void 0===A?"auto":A,R=r.TransitionProps,P=(R=void 0===R?{}:R).onEntering,O=f(r.TransitionProps,tu),D=f(r,nu),L=t.useRef(),M=ii(L,I.ref),F=l({},r,{anchorOrigin:u,anchorReference:d,elevation:b,marginThreshold:w,PaperProps:I,transformOrigin:_,TransitionComponent:C,transitionDuration:N,TransitionProps:O}),V=function(e){return p({root:["root"],paper:["paper"]},eu,e.classes)}(F),U=t.useCallback((function(){if("anchorPosition"===d)return s;var e=ou(a),t=(e&&1===e.nodeType?e:Ia(L.current).body).getBoundingClientRect();return{top:t.top+ru(t,u.vertical),left:t.left+iu(t,u.horizontal)}}),[a,u.horizontal,u.vertical,s,d]),j=t.useCallback((function(e){return{vertical:ru(e,_.vertical),horizontal:iu(e,_.horizontal)}}),[_.horizontal,_.vertical]),z=t.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=j(t);if("none"===d)return{top:null,left:null,transformOrigin:au(n)};var r=U(),i=r.top-n.vertical,o=r.left-n.horizontal,u=i+t.height,s=o+t.width,c=Ga(ou(a)),l=c.innerHeight-w,f=c.innerWidth-w;if(i<w){var h=i-w;i-=h,n.vertical+=h}else if(u>l){var p=u-l;i-=p,n.vertical+=p}if(o<w){var v=o-w;o-=v,n.horizontal+=v}else if(s>f){var m=s-f;o-=m,n.horizontal+=m}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:au(n)}}),[a,d,U,j,w]),B=t.useCallback((function(){var e=L.current;if(e){var t=z(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[z]);t.useEffect((function(){x&&B()})),t.useImperativeHandle(i,(function(){return x?{updatePosition:function(){B()}}:null}),[x,B]),t.useEffect((function(){if(x){var e=Ka((function(){B()})),t=Ga(a);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[a,x,B]);var q=N;"auto"!==N||C.muiSupportAuto||(q=void 0);var W=y||(a?Ia(ou(a)).body:void 0);return(0,Gr.jsx)(uu,l({BackdropProps:{invisible:!0},className:h(V.root,m),container:W,open:x,ref:n,ownerState:F},D,{children:(0,Gr.jsx)(C,l({appear:!0,in:x,onEntering:function(e,t){P&&P(e,t),B()},timeout:q},O,{children:(0,Gr.jsx)(su,l({elevation:b},I,{ref:M,className:h(V.paper,I.className),children:v}))}))}))})),lu=cu;function fu(e){return yi("MuiMenu",e)}gi("MuiMenu",["root","paper","list"]);var du=["onEntering"],hu=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],pu={vertical:"top",horizontal:"right"},vu={vertical:"top",horizontal:"left"},mu=Ar(lu,{shouldForwardProp:function(e){return _r(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),yu=Ar(Wa,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),gu=Ar(Va,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),bu=t.forwardRef((function(e,n){var r=Vr({props:e,name:"MuiMenu"}),i=r.autoFocus,a=void 0===i||i,o=r.children,u=r.disableAutoFocusItem,s=void 0!==u&&u,c=r.MenuListProps,d=void 0===c?{}:c,v=r.onClose,m=r.open,y=r.PaperProps,g=void 0===y?{}:y,b=r.PopoverClasses,k=r.transitionDuration,w=void 0===k?"auto":k,x=r.TransitionProps,S=(x=void 0===x?{}:x).onEntering,I=r.variant,E=void 0===I?"selectedMenu":I,_=f(r.TransitionProps,du),T=f(r,hu),C=ao(),A="rtl"===C.direction,N=l({},r,{autoFocus:a,disableAutoFocusItem:s,MenuListProps:d,onEntering:S,PaperProps:g,transitionDuration:w,TransitionProps:_,variant:E}),R=function(e){return p({root:["root"],paper:["paper"],list:["list"]},fu,e.classes)}(N),P=a&&!s&&m,O=t.useRef(null),D=-1;return t.Children.map(o,(function(e,n){t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===E&&e.props.selected||-1===D)&&(D=n))})),(0,Gr.jsx)(mu,l({classes:b,onClose:v,anchorOrigin:{vertical:"bottom",horizontal:A?"right":"left"},transformOrigin:A?pu:vu,PaperProps:l({component:yu},g,{classes:l({},g.classes,{root:R.paper})}),className:R.root,open:m,ref:n,transitionDuration:w,TransitionProps:l({onEntering:function(e,t){O.current&&O.current.adjustStyleForScrollbar(e,C),S&&S(e,t)}},_),ownerState:N},T,{children:(0,Gr.jsx)(gu,l({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),v&&v(e,"tabKeyDown"))},actions:O,autoFocus:a&&(-1===D||s),autoFocusItem:P,variant:E},d,{className:h(R.list,d.className),children:o}))}))})),ku=bu;function wu(e){return yi("MuiNativeSelect",e)}var xu=gi("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),Su=["className","disabled","IconComponent","inputRef","variant"],Iu=function(e){var t,n=e.ownerState,r=e.theme;return l((nt(t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"}},"&.".concat(xu.disabled),{cursor:"default"}),nt(t,"&[multiple]",{height:"auto"}),nt(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:r.palette.background.paper}),nt(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:r.shape.borderRadius,"&:focus":{borderRadius:r.shape.borderRadius},"&&&":{paddingRight:32}})},Eu=Ar("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:_r,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],nt({},"&.".concat(xu.multiple),t.multiple)]}})(Iu),_u=function(e){var t=e.ownerState,n=e.theme;return l(nt({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:n.palette.action.active},"&.".concat(xu.disabled),{color:n.palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},Tu=Ar("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(ri(n.variant))],n.open&&t.iconOpen]}})(_u),Cu=t.forwardRef((function(e,n){var r=e.className,i=e.disabled,a=e.IconComponent,o=e.inputRef,u=e.variant,s=void 0===u?"standard":u,c=f(e,Su),d=l({},e,{disabled:i,variant:s}),v=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return p({select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat(ri(n)),a&&"iconOpen",r&&"disabled"]},wu,t)}(d);return(0,Gr.jsxs)(t.Fragment,{children:[(0,Gr.jsx)(Eu,l({ownerState:d,className:h(v.select,r),disabled:i,ref:o||n},c)),e.multiple?null:(0,Gr.jsx)(Tu,{as:a,ownerState:d,className:v.icon})]})})),Au=Cu;var Nu=function(e){var n=e.controlled,r=e.default,i=(e.name,e.state,t.useRef(void 0!==n).current),a=c(t.useState(r),2),o=a[0],u=a[1];return[i?n:o,t.useCallback((function(e){i||u(e)}),[])]};function Ru(e){return yi("MuiSelect",e)}var Pu,Ou=gi("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),Du=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Lu=Ar("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[nt({},"&.".concat(Ou.select),t.select),nt({},"&.".concat(Ou.select),t[n.variant]),nt({},"&.".concat(Ou.multiple),t.multiple)]}})(Iu,nt({},"&.".concat(Ou.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),Mu=Ar("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(ri(n.variant))],n.open&&t.iconOpen]}})(_u),Fu=Ar("input",{shouldForwardProp:function(e){return Tr(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Vu(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function Uu(e){return null==e||"string"===typeof e&&!e.trim()}var ju=t.forwardRef((function(e,n){var r=e["aria-describedby"],i=e["aria-label"],a=e.autoFocus,o=e.autoWidth,u=e.children,s=e.className,d=e.defaultOpen,v=e.defaultValue,m=e.disabled,y=e.displayEmpty,g=e.IconComponent,b=e.inputRef,k=e.labelId,w=e.MenuProps,x=void 0===w?{}:w,S=e.multiple,I=e.name,E=e.onBlur,_=e.onChange,T=e.onClose,C=e.onFocus,A=e.onOpen,N=e.open,R=e.readOnly,P=e.renderValue,O=e.SelectDisplayProps,D=void 0===O?{}:O,L=e.tabIndex,M=e.value,F=e.variant,V=void 0===F?"standard":F,U=f(e,Du),j=c(Nu({controlled:M,default:v,name:"Select"}),2),z=j[0],B=j[1],q=c(Nu({controlled:N,default:d,name:"Select"}),2),W=q[0],K=q[1],G=t.useRef(null),H=t.useRef(null),Q=c(t.useState(null),2),$=Q[0],Y=Q[1],X=t.useRef(null!=N).current,J=c(t.useState(),2),Z=J[0],ee=J[1],te=ii(n,b),ne=t.useCallback((function(e){H.current=e,e&&Y(e)}),[]);t.useImperativeHandle(te,(function(){return{focus:function(){H.current.focus()},node:G.current,value:z}}),[z]),t.useEffect((function(){d&&W&&$&&!X&&(ee(o?null:$.clientWidth),H.current.focus())}),[$,o]),t.useEffect((function(){a&&H.current.focus()}),[a]),t.useEffect((function(){if(k){var e=Ia(H.current).getElementById(k);if(e){var t=function(){getSelection().isCollapsed&&H.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[k]);var re,ie,ae=function(e,t){e?A&&A(t):T&&T(t),X||(ee(o?null:$.clientWidth),K(e))},oe=t.Children.toArray(u),ue=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(S){n=Array.isArray(z)?z.slice():[];var r=z.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),z!==n&&(B(n),_)){var i=t.nativeEvent||t,a=new i.constructor(i.type,i);Object.defineProperty(a,"target",{writable:!0,value:{value:n,name:I}}),_(a,e)}S||ae(!1,t)}}},se=null!==$&&W;delete U["aria-invalid"];var ce=[],le=!1;(hi({value:z})||y)&&(P?re=P(z):le=!0);var fe=oe.map((function(e,n,r){if(!t.isValidElement(e))return null;var i;if(S){if(!Array.isArray(z))throw new Error(ft(2));i=z.some((function(t){return Vu(t,e.props.value)})),i&&le&&ce.push(e.props.children)}else(i=Vu(z,e.props.value))&&le&&(ie=e.props.children);if(i&&!0,void 0===e.props.value)return t.cloneElement(e,{"aria-readonly":!0,role:"option"});return t.cloneElement(e,{"aria-selected":i?"true":"false",onClick:ue(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:void 0===r[0].props.value||!0===r[0].props.disabled?function(){if(z)return i;var t=r.find((function(e){return void 0!==e.props.value&&!0!==e.props.disabled}));return e===t||i}():i,value:void 0,"data-value":e.props.value})}));le&&(re=S?0===ce.length?null:ce.reduce((function(e,t,n){return e.push(t),n<ce.length-1&&e.push(", "),e}),[]):ie);var de,he=Z;!o&&X&&$&&(he=$.clientWidth),de="undefined"!==typeof L?L:m?null:0;var pe=D.id||(I?"mui-component-select-".concat(I):void 0),ve=l({},e,{variant:V,value:z,open:se}),me=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return p({select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat(ri(n)),a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},Ru,t)}(ve);return(0,Gr.jsxs)(t.Fragment,{children:[(0,Gr.jsx)(Lu,l({ref:ne,tabIndex:de,role:"button","aria-disabled":m?"true":void 0,"aria-expanded":se?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[k,pe].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:function(e){if(!R){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ae(!0,e))}},onMouseDown:m||R?null:function(e){0===e.button&&(e.preventDefault(),H.current.focus(),ae(!0,e))},onBlur:function(e){!se&&E&&(Object.defineProperty(e,"target",{writable:!0,value:{value:z,name:I}}),E(e))},onFocus:C},D,{ownerState:ve,className:h(D.className,me.select,s),id:pe,children:Uu(re)?Pu||(Pu=(0,Gr.jsx)("span",{className:"notranslate",children:"\u200b"})):re})),(0,Gr.jsx)(Fu,l({value:Array.isArray(z)?z.join(","):z,name:I,ref:G,"aria-hidden":!0,onChange:function(e){var t=oe.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=oe[t];B(n.props.value),_&&_(e,n)}},tabIndex:-1,disabled:m,className:me.nativeInput,autoFocus:a,ownerState:ve},U)),(0,Gr.jsx)(Mu,{as:g,className:me.icon,ownerState:ve}),(0,Gr.jsx)(ku,l({id:"menu-".concat(I||""),anchorEl:$,open:se,onClose:function(e){ae(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},x,{MenuListProps:l({"aria-labelledby":k,role:"listbox",disableListWrap:!0},x.MenuListProps),PaperProps:l({},x.PaperProps,{style:l({minWidth:he},null!=x.PaperProps?x.PaperProps.style:null)}),children:fe}))]})})),zu=ju;function Bu(e){return yi("MuiSvgIcon",e)}gi("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var qu=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Wu=Ar("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(ri(n.color))],t["fontSize".concat(ri(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,d,h,p,v,m,y,g=e.theme,b=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[b.fontSize],color:null!=(f=null==(d=(g.vars||g).palette)||null==(h=d[b.color])?void 0:h.main)?f:{action:null==(p=(g.vars||g).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(g.vars||g).palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[b.color]}})),Ku=t.forwardRef((function(e,t){var n=Vr({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,c=n.fontSize,d=void 0===c?"medium":c,v=n.htmlColor,m=n.inheritViewBox,y=void 0!==m&&m,g=n.titleAccess,b=n.viewBox,k=void 0===b?"0 0 24 24":b,w=f(n,qu),x=l({},n,{color:o,component:s,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:y,viewBox:k}),S={};y||(S.viewBox=k);var I=function(e){var t=e.color,n=e.fontSize,r=e.classes;return p({root:["root","inherit"!==t&&"color".concat(ri(t)),"fontSize".concat(ri(n))]},Bu,r)}(x);return(0,Gr.jsxs)(Wu,l({as:s,className:h(I.root,i),ownerState:x,focusable:"false",color:v,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:t},S,w,{children:[r,g?(0,Gr.jsx)("title",{children:g}):null]}))}));Ku.muiName="SvgIcon";var Gu=Ku;var Hu,Qu,$u=function(e,n){var r=function(t,r){return(0,Gr.jsx)(Gu,l({"data-testid":"".concat(n,"Icon"),ref:r},t,{children:e}))};return r.muiName=Gu.muiName,t.memo(t.forwardRef(r))}((0,Gr.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Yu=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Xu={name:"MuiSelect",overridesResolver:function(e,t){return t.root},shouldForwardProp:function(e){return _r(e)&&"variant"!==e},slot:"Root"},Ju=Ar(Li,Xu)(""),Zu=Ar(ea,Xu)(""),es=Ar(qi,Xu)(""),ts=t.forwardRef((function(e,n){var r=Vr({name:"MuiSelect",props:e}),i=r.autoWidth,a=void 0!==i&&i,o=r.children,u=r.classes,s=void 0===u?{}:u,c=r.className,d=r.defaultOpen,p=void 0!==d&&d,v=r.displayEmpty,m=void 0!==v&&v,y=r.IconComponent,g=void 0===y?$u:y,b=r.id,k=r.input,w=r.inputProps,x=r.label,S=r.labelId,I=r.MenuProps,E=r.multiple,_=void 0!==E&&E,T=r.native,C=void 0!==T&&T,A=r.onClose,N=r.onOpen,R=r.open,P=r.renderValue,O=r.SelectDisplayProps,D=r.variant,L=void 0===D?"outlined":D,M=f(r,Yu),F=C?Au:zu,V=ei({props:r,muiFormControl:ni(),states:["variant"]}).variant||L,U=k||{standard:Hu||(Hu=(0,Gr.jsx)(Ju,{})),outlined:(0,Gr.jsx)(Zu,{label:x}),filled:Qu||(Qu=(0,Gr.jsx)(es,{}))}[V],j=function(e){return e.classes}(l({},r,{variant:V,classes:s})),z=ii(n,U.ref);return t.cloneElement(U,l({inputComponent:F,inputProps:l({children:o,IconComponent:g,variant:V,type:void 0,multiple:_},C?{id:b}:{autoWidth:a,defaultOpen:p,displayEmpty:m,labelId:S,MenuProps:I,onClose:A,onOpen:N,open:R,renderValue:P,SelectDisplayProps:l({id:b},O)},w,{classes:w?tt(j,w.classes):j},k?k.props.inputProps:{})},_&&C&&"outlined"===V?{notched:!0}:{},{ref:z,className:h(U.props.className,c),variant:V},M))}));ts.muiName="Select";var ns=ts;function rs(e){return yi("MuiTextField",e)}gi("MuiTextField",["root"]);var is=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],as={standard:Li,filled:qi,outlined:ea},os=Ar(ya,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),us=t.forwardRef((function(e,t){var n=Vr({props:e,name:"MuiTextField"}),r=n.autoComplete,i=n.autoFocus,a=void 0!==i&&i,o=n.children,u=n.className,s=n.color,c=void 0===s?"primary":s,d=n.defaultValue,v=n.disabled,m=void 0!==v&&v,g=n.error,b=void 0!==g&&g,k=n.FormHelperTextProps,w=n.fullWidth,x=void 0!==w&&w,S=n.helperText,I=n.id,E=n.InputLabelProps,_=n.inputProps,T=n.InputProps,C=n.inputRef,A=n.label,N=n.maxRows,R=n.minRows,P=n.multiline,O=void 0!==P&&P,D=n.name,L=n.onBlur,M=n.onChange,F=n.onFocus,V=n.placeholder,U=n.required,j=void 0!==U&&U,z=n.rows,B=n.select,q=void 0!==B&&B,W=n.SelectProps,K=n.type,G=n.value,H=n.variant,Q=void 0===H?"outlined":H,$=f(n,is),Y=l({},n,{autoFocus:a,color:c,disabled:m,error:b,fullWidth:x,multiline:O,required:j,select:q,variant:Q}),X=function(e){return p({root:["root"]},rs,e.classes)}(Y);var J={};"outlined"===Q&&(E&&"undefined"!==typeof E.shrink&&(J.notched=E.shrink),J.label=A),q&&(W&&W.native||(J.id=void 0),J["aria-describedby"]=void 0);var Z=y(I),ee=S&&Z?"".concat(Z,"-helper-text"):void 0,te=A&&Z?"".concat(Z,"-label"):void 0,ne=as[Q],re=(0,Gr.jsx)(ne,l({"aria-describedby":ee,autoComplete:r,autoFocus:a,defaultValue:d,fullWidth:x,multiline:O,name:D,rows:z,maxRows:N,minRows:R,type:K,value:G,id:Z,inputRef:C,onBlur:L,onChange:M,onFocus:F,placeholder:V,inputProps:_},J,T));return(0,Gr.jsxs)(os,l({className:h(X.root,u),disabled:m,error:b,fullWidth:x,ref:t,required:j,color:c,variant:Q,ownerState:Y},$,{children:[null!=A&&""!==A&&(0,Gr.jsx)(fa,l({htmlFor:Z,id:te},E,{children:A})),q?(0,Gr.jsx)(ns,l({"aria-describedby":ee,id:Z,labelId:te,value:G,input:re},W,{children:o})):re,S&&(0,Gr.jsx)(Sa,l({id:ee},k,{children:S}))]}))})),ss=us;function cs(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ls(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fs(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ha(e,t)}function ds(e){return ds=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ds(e)}function hs(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ps(e){return ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ps(e)}function vs(e,t){if(t&&("object"===ps(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ls(e)}function ms(e){var t=hs();return function(){var n,r=ds(e);if(t){var i=ds(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vs(this,n)}}function ys(e,t,n){return ys=hs()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Ha(i,n.prototype),i},ys.apply(null,arguments)}function gs(e){var t="function"===typeof Map?new Map:void 0;return gs=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ys(e,arguments,ds(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ha(n,e)},gs(e)}var bs=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ks={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,d=(15&u)<<2|c>>6,h=63&c;s||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(bs(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ws=function(e){return function(e){var t=bs(e);return ks.encodeByteArray(t,!0)}(e).replace(/\./g,"")},xs=function(e){try{return ks.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ss(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ss(e[n],t[n]));return e}var Is=function(){function e(){var t=this;go(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ko(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Es(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ws(JSON.stringify({alg:"none",type:"JWT"})),ws(JSON.stringify(a)),""].join(".")}function _s(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ts(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_s())}function Cs(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function As(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ns(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Rs(){var e=_s();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ps(){return"object"===typeof indexedDB}var Os=function(e){fs(n,e);var t=ms(n);function n(e,r,i){var a;return go(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(ls(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ls(a),Ds.prototype.create),a}return ko(n)}(gs(Error)),Ds=function(){function e(t,n,r){go(this,e),this.service=t,this.serviceName=n,this.errors=r}return ko(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ls(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Os(n,a,t);return o}}]),e}();function Ls(e,t){return e.replace(Ms,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ms=/\{\$([^}]+)}/g;function Fs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Vs(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Us(u)&&Us(s)){if(!Vs(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Us(e){return null!==e&&"object"===typeof e}function js(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function zs(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Bs(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function qs(e,t){var n=new Ws(e,t);return n.subscribe.bind(n)}var Ws=function(){function e(t,n){var r=this;go(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ko(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=cs(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ks),void 0===r.error&&(r.error=Ks),void 0===r.complete&&(r.complete=Ks);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ks(){}function Gs(e){return e&&e._delegate?e._delegate:e}function Hs(){Hs=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(_){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(_){return{type:"throw",arg:_}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(I([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==ps(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function I(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=h,u(y,"constructor",h),u(h,"constructor",d),d.displayName=u(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Qs(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function $s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Qs(a,r,i,o,u,"next",e)}function u(e){Qs(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Ys=function(){function e(t,n,r){go(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ko(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Xs="[DEFAULT]",Js=function(){function e(t,n){go(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ko(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Is;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch(s){}var t,n=cs(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xs;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=$s(Hs().mark((function e(){var t;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(b(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),b(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xs;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xs;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=cs(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=cs(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Zs(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(a){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xs;return this.component?this.component.multipleInstances?e:Xs:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function Zs(e){return e===Xs?void 0:e}var ec,tc,nc=function(){function e(t){go(this,e),this.name=t,this.providers=new Map}return ko(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Js(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),rc=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(tc||(tc={}));var ic={debug:tc.DEBUG,verbose:tc.VERBOSE,info:tc.INFO,warn:tc.WARN,error:tc.ERROR,silent:tc.SILENT},ac=tc.INFO,oc=(nt(ec={},tc.DEBUG,"log"),nt(ec,tc.VERBOSE,"log"),nt(ec,tc.INFO,"info"),nt(ec,tc.WARN,"warn"),nt(ec,tc.ERROR,"error"),ec),uc=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=oc[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},sc=function(){function e(t){go(this,e),this.name=t,this._logLevel=ac,this._logHandler=uc,this._userLogHandler=null,rc.push(this)}return ko(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in tc))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ic[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,tc.DEBUG].concat(t)),this._logHandler.apply(this,[this,tc.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,tc.VERBOSE].concat(t)),this._logHandler.apply(this,[this,tc.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,tc.INFO].concat(t)),this._logHandler.apply(this,[this,tc.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,tc.WARN].concat(t)),this._logHandler.apply(this,[this,tc.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,tc.ERROR].concat(t)),this._logHandler.apply(this,[this,tc.ERROR].concat(t))}}]),e}();function cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cc(Object(n),!0).forEach((function(t){nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fc,dc;var hc=new WeakMap,pc=new WeakMap,vc=new WeakMap,mc=new WeakMap,yc=new WeakMap;var gc={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return pc.get(e);if("objectStoreNames"===t)return e.objectStoreNames||vc.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wc(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function bc(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(dc||(dc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(xc(this),n),wc(hc.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wc(e.apply(xc(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[xc(this),t].concat(r));return vc.set(a,t.sort?t.sort():[t]),wc(a)}}function kc(e){return"function"===typeof e?bc(e):(e instanceof IDBTransaction&&function(e){if(!pc.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));pc.set(e,t)}}(e),t=e,(fc||(fc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,gc):e);var t}function wc(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(wc(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&hc.set(t,e)})).catch((function(){})),yc.set(t,e),t}(e);if(mc.has(e))return mc.get(e);var t=kc(e);return t!==e&&(mc.set(e,t),yc.set(t,e)),t}var xc=function(e){return yc.get(e)};var Sc,Ic,Ec=["get","getKey","getAll","getAllKeys","count"],_c=["put","add","delete","clear"],Tc=new Map;function Cc(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Tc.get(t))return Tc.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=_c.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ec.includes(n))){var a=function(){var e=$s(Hs().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Tc.set(t,a),a}}}gc=function(e){return lc(lc({},e),{},{get:function(t,n,r){return Cc(t,n)||e.get(t,n,r)},has:function(t,n){return!!Cc(t,n)||e.has(t,n)}})}(gc);var Ac=function(){function e(t){go(this,e),this.container=t}return ko(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Nc="@firebase/app",Rc="0.7.30",Pc=new sc("@firebase/app"),Oc="[DEFAULT]",Dc=(nt(Sc={},Nc,"fire-core"),nt(Sc,"@firebase/app-compat","fire-core-compat"),nt(Sc,"@firebase/analytics","fire-analytics"),nt(Sc,"@firebase/analytics-compat","fire-analytics-compat"),nt(Sc,"@firebase/app-check","fire-app-check"),nt(Sc,"@firebase/app-check-compat","fire-app-check-compat"),nt(Sc,"@firebase/auth","fire-auth"),nt(Sc,"@firebase/auth-compat","fire-auth-compat"),nt(Sc,"@firebase/database","fire-rtdb"),nt(Sc,"@firebase/database-compat","fire-rtdb-compat"),nt(Sc,"@firebase/functions","fire-fn"),nt(Sc,"@firebase/functions-compat","fire-fn-compat"),nt(Sc,"@firebase/installations","fire-iid"),nt(Sc,"@firebase/installations-compat","fire-iid-compat"),nt(Sc,"@firebase/messaging","fire-fcm"),nt(Sc,"@firebase/messaging-compat","fire-fcm-compat"),nt(Sc,"@firebase/performance","fire-perf"),nt(Sc,"@firebase/performance-compat","fire-perf-compat"),nt(Sc,"@firebase/remote-config","fire-rc"),nt(Sc,"@firebase/remote-config-compat","fire-rc-compat"),nt(Sc,"@firebase/storage","fire-gcs"),nt(Sc,"@firebase/storage-compat","fire-gcs-compat"),nt(Sc,"@firebase/firestore","fire-fst"),nt(Sc,"@firebase/firestore-compat","fire-fst-compat"),nt(Sc,"fire-js","fire-js"),nt(Sc,"firebase","fire-js-all"),Sc),Lc=new Map,Mc=new Map;function Fc(e,t){try{e.container.addComponent(t)}catch(n){Pc.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Vc(e,t){e.container.addOrOverwriteComponent(t)}function Uc(e){var t=e.name;if(Mc.has(t))return Pc.debug("There were multiple attempts to register component ".concat(t,".")),!1;Mc.set(t,e);var n,r=cs(Lc.values());try{for(r.s();!(n=r.n()).done;){Fc(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function jc(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function zc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Oc;jc(e,t).clearInstance(n)}function Bc(){Mc.clear()}var qc=(nt(Ic={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),nt(Ic,"bad-app-name","Illegal App name: '{$appName}"),nt(Ic,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),nt(Ic,"app-deleted","Firebase App named '{$appName}' already deleted"),nt(Ic,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),nt(Ic,"invalid-log-argument","First argument to `onLog` must be null or a function."),nt(Ic,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),nt(Ic,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),nt(Ic,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),nt(Ic,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Ic),Wc=new Ds("app","Firebase",qc),Kc=function(){function e(t,n,r){var i=this;go(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ys("app",(function(){return i}),"PUBLIC"))}return ko(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Wc.create("app-deleted",{appName:this._name})}}]),e}(),Gc="9.9.2";function Hc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Oc,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Wc.create("bad-app-name",{appName:String(i)});var a=Lc.get(i);if(a){if(Vs(e,a.options)&&Vs(r,a.config))return a;throw Wc.create("duplicate-app",{appName:i})}var o,u=new nc(i),s=cs(Mc.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Kc(e,r,u);return Lc.set(i,l),l}function Qc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oc,t=Lc.get(e);if(!t)throw Wc.create("no-app",{appName:e});return t}function $c(){return Array.from(Lc.values())}function Yc(e){return Xc.apply(this,arguments)}function Xc(){return(Xc=$s(Hs().mark((function e(t){var n;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Lc.has(n)){e.next=6;break}return Lc.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jc(e,t,n){var r,i=null!==(r=Dc[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Pc.warn(u.join(" "))}Uc(new Ys("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Zc(e,t){if(null!==e&&"function"!==typeof e)throw Wc.create("invalid-log-argument");!function(e,t){var n,r=cs(rc);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ic[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:tc[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function el(e){var t;t=e,rc.forEach((function(e){e.setLogLevel(t)}))}var tl="firebase-heartbeat-store",nl=null;function rl(){return nl||(nl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=wc(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(wc(u.result),e.oldVersion,e.newVersion,wc(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(tl)}}).catch((function(e){throw Wc.create("idb-open",{originalErrorMessage:e.message})}))),nl}function il(e){return al.apply(this,arguments)}function al(){return al=$s(Hs().mark((function e(t){var n,r,i;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rl();case 3:return r=e.sent,e.abrupt("return",r.transaction(tl).objectStore(tl).get(sl(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Os?Pc.warn(e.t0.message):(i=Wc.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Pc.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),al.apply(this,arguments)}function ol(e,t){return ul.apply(this,arguments)}function ul(){return ul=$s(Hs().mark((function e(t,n){var r,i,a,o,u;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rl();case 3:return i=e.sent,a=i.transaction(tl,"readwrite"),o=a.objectStore(tl),e.next=8,o.put(n,sl(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Os?Pc.warn(e.t0.message):(u=Wc.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Pc.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),ul.apply(this,arguments)}function sl(e){return"".concat(e.name,"!").concat(e.options.appId)}var cl=function(){function e(t){var n=this;go(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new pl(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return ko(e,[{key:"triggerHeartbeat",value:function(){var e=$s(Hs().mark((function e(){var t,n,r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=ll(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=$s(Hs().mark((function e(){var t,n,r,i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=ll(),n=fl(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ws(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ll(){return(new Date).toISOString().substring(0,10)}function fl(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=cs(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),vl(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),vl(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var dl,hl,pl=function(){function e(t){go(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return ko(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=$s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ps()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=$s(Hs().mark((function e(){var t;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,il(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=$s(Hs().mark((function e(t){var n,r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ol(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=$s(Hs().mark((function e(t){var n,r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ol(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(b(r.heartbeats),b(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function vl(e){return ws(JSON.stringify({version:2,heartbeats:e})).length}dl="",Uc(new Ys("platform-logger",(function(e){return new Ac(e)}),"PRIVATE")),Uc(new Ys("heartbeat",(function(e){return new cl(e)}),"PRIVATE")),Jc(Nc,Rc,dl),Jc(Nc,Rc,"esm2017"),Jc("fire-js","");var ml=function(){function e(t,n){var r=this;go(this,e),this._delegate=t,this.firebase=n,Fc(t,new Ys("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return ko(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Yc(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oc;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oc;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Fc(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Vc(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),yl=(nt(hl={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),nt(hl,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),hl),gl=new Ds("app-compat","Firebase",yl);var bl=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Hc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Fs(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Jc,setLogLevel:el,onLog:Zc,apps:null,SDK_VERSION:Gc,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Uc(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw gl.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ss(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Fs(n,e=e||Oc))throw gl.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(ml);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ss(n,e)},createSubscribe:qs,ErrorFactory:Ds,deepExtend:Ss}),n}(),kl=new sc("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){kl.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var wl=self.firebase.SDK_VERSION;wl&&wl.indexOf("LITE")>=0&&kl.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var xl=bl;!function(e){Jc("@firebase/app-compat","0.1.31",e)}();function Sl(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ds(e)););return e}function Il(){return Il="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Sl(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Il.apply(this,arguments)}xl.registerVersion("firebase","9.9.2","app-compat");function El(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var _l;Object.create;var Tl="facebook.com",Cl="github.com",Al="google.com",Nl="password",Rl="twitter.com",Pl="EMAIL_SIGNIN",Ol="PASSWORD_RESET",Dl="RECOVER_EMAIL",Ll="REVERT_SECOND_FACTOR_ADDITION",Ml="VERIFY_AND_CHANGE_EMAIL",Fl="VERIFY_EMAIL";function Vl(){return nt({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ul=function(){var e;return nt(e={},"admin-restricted-operation","This operation is restricted to administrators only."),nt(e,"argument-error",""),nt(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),nt(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),nt(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),nt(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),nt(e,"cordova-not-ready","Cordova framework is not ready."),nt(e,"cors-unsupported","This browser is not supported."),nt(e,"credential-already-in-use","This credential is already associated with a different user account."),nt(e,"custom-token-mismatch","The custom token corresponds to a different audience."),nt(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),nt(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),nt(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),nt(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),nt(e,"email-already-in-use","The email address is already in use by another account."),nt(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),nt(e,"expired-action-code","The action code has expired."),nt(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),nt(e,"internal-error","An internal AuthError has occurred."),nt(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),nt(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),nt(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),nt(e,"invalid-auth-event","An internal AuthError has occurred."),nt(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),nt(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),nt(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),nt(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),nt(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),nt(e,"invalid-email","The email address is badly formatted."),nt(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),nt(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),nt(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),nt(e,"invalid-credential","The supplied auth credential is malformed or has expired."),nt(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),nt(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),nt(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),nt(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),nt(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),nt(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),nt(e,"wrong-password","The password is invalid or the user does not have a password."),nt(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),nt(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),nt(e,"invalid-provider-id","The specified provider ID is invalid."),nt(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),nt(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),nt(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),nt(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),nt(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),nt(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),nt(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),nt(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),nt(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),nt(e,"missing-continue-uri","A continue URL must be provided in the request."),nt(e,"missing-iframe-start","An internal AuthError has occurred."),nt(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),nt(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),nt(e,"missing-multi-factor-info","No second factor identifier is provided."),nt(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),nt(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),nt(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),nt(e,"app-deleted","This instance of FirebaseApp has been deleted."),nt(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),nt(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),nt(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),nt(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),nt(e,"no-auth-event","An internal AuthError has occurred."),nt(e,"no-such-provider","User was not linked to an account with the given provider."),nt(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),nt(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),nt(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),nt(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),nt(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),nt(e,"provider-already-linked","User can only be linked to one identity for the given provider."),nt(e,"quota-exceeded","The project's quota for this operation has been exceeded."),nt(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),nt(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),nt(e,"rejected-credential","The request contains malformed or mismatching credentials."),nt(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),nt(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),nt(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),nt(e,"timeout","The operation has timed out."),nt(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),nt(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),nt(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),nt(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),nt(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),nt(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),nt(e,"unverified-email","The operation requires a verified email."),nt(e,"user-cancelled","The user did not grant your application the permissions it requested."),nt(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),nt(e,"user-disabled","The user account has been disabled by an administrator."),nt(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),nt(e,"user-signed-out",""),nt(e,"weak-password","The password must be 6 characters long or more."),nt(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),nt(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},jl=Vl,zl=new Ds("auth","Firebase",Vl()),Bl=new sc("@firebase/auth");function ql(e){if(Bl.logLevel<=tc.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Bl.error.apply(Bl,["Auth (".concat(Gc,"): ").concat(e)].concat(n))}}function Wl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ql.apply(void 0,[e].concat(n))}function Kl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ql.apply(void 0,[e].concat(n))}function Gl(e,t,n){var r=Object.assign(Object.assign({},jl()),nt({},t,n));return new Ds("auth","Firebase",r).create(t,{appName:e.name})}function Hl(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Wl(e,"argument-error"),Gl(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ql(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=b(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(b(o)))}return zl.create.apply(zl,[e].concat(n))}function $l(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ql.apply(void 0,[t].concat(r))}}function Yl(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ql(t),new Error(t)}function Xl(e,t){e||Yl(t)}var Jl=new Map;function Zl(e){Xl(e instanceof Function,"Expected a class definition");var t=Jl.get(e);return t?(Xl(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Jl.set(e,t),t)}function ef(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function tf(){return"http:"===nf()||"https:"===nf()}function nf(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var rf=function(){function e(t,n){go(this,e),this.shortDelay=t,this.longDelay=n,Xl(n>t,"Short delay should be less than long delay!"),this.isMobile=Ts()||Ns()}return ko(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(tf()||As()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function af(e,t){Xl(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var of=function(){function e(){go(this,e)}return ko(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Yl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Yl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Yl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),uf=(nt(_l={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),nt(_l,"MISSING_CUSTOM_TOKEN","internal-error"),nt(_l,"INVALID_IDENTIFIER","invalid-email"),nt(_l,"MISSING_CONTINUE_URI","internal-error"),nt(_l,"INVALID_PASSWORD","wrong-password"),nt(_l,"MISSING_PASSWORD","internal-error"),nt(_l,"EMAIL_EXISTS","email-already-in-use"),nt(_l,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),nt(_l,"INVALID_IDP_RESPONSE","invalid-credential"),nt(_l,"INVALID_PENDING_TOKEN","invalid-credential"),nt(_l,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),nt(_l,"MISSING_REQ_TYPE","internal-error"),nt(_l,"EMAIL_NOT_FOUND","user-not-found"),nt(_l,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),nt(_l,"EXPIRED_OOB_CODE","expired-action-code"),nt(_l,"INVALID_OOB_CODE","invalid-action-code"),nt(_l,"MISSING_OOB_CODE","internal-error"),nt(_l,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),nt(_l,"INVALID_ID_TOKEN","invalid-user-token"),nt(_l,"TOKEN_EXPIRED","user-token-expired"),nt(_l,"USER_NOT_FOUND","user-token-expired"),nt(_l,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),nt(_l,"INVALID_CODE","invalid-verification-code"),nt(_l,"INVALID_SESSION_INFO","invalid-verification-id"),nt(_l,"INVALID_TEMPORARY_PROOF","invalid-credential"),nt(_l,"MISSING_SESSION_INFO","missing-verification-id"),nt(_l,"SESSION_EXPIRED","code-expired"),nt(_l,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),nt(_l,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),nt(_l,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),nt(_l,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),nt(_l,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),nt(_l,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),nt(_l,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),nt(_l,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),nt(_l,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),nt(_l,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),nt(_l,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),_l),sf=new rf(3e4,6e4);function cf(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function lf(e,t,n,r){return ff.apply(this,arguments)}function ff(){return ff=$s(Hs().mark((function e(t,n,r,i){var a,o=arguments;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",df(t,a,$s(Hs().mark((function e(){var a,o,u,s;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=js(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",of.fetch()(mf(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ff.apply(this,arguments)}function df(e,t,n){return hf.apply(this,arguments)}function hf(){return hf=$s(Hs().mark((function e(t,n,r){var i,a,o,u,s,l,f,d,h,p;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},uf),n),e.prev=2,a=new yf(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw gf(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),d=f[0],h=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw gf(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw gf(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw gf(t,"user-disabled",u);case 29:if(p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw Gl(t,p,h);case 34:Wl(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Os)){e.next=41;break}throw e.t0;case 41:Wl(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),hf.apply(this,arguments)}function pf(e,t,n,r){return vf.apply(this,arguments)}function vf(){return vf=$s(Hs().mark((function e(t,n,r,i){var a,o,u=arguments;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,lf(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Wl(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),vf.apply(this,arguments)}function mf(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?af(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var yf=function(){function e(t){var n=this;go(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Kl(n.auth,"network-request-failed"))}),sf.get())}))}return ko(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function gf(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Kl(e,t,r);return i.customData._tokenResponse=n,i}function bf(e,t){return kf.apply(this,arguments)}function kf(){return kf=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lf(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),kf.apply(this,arguments)}function wf(e,t){return xf.apply(this,arguments)}function xf(){return xf=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lf(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),xf.apply(this,arguments)}function Sf(e,t){return If.apply(this,arguments)}function If(){return If=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lf(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),If.apply(this,arguments)}function Ef(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function _f(){return _f=$s(Hs().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Gs(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,$l((a=Cf(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ef(Tf(a.auth_time)),issuedAtTime:Ef(Tf(a.iat)),expirationTime:Ef(Tf(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),_f.apply(this,arguments)}function Tf(e){return 1e3*Number(e)}function Cf(e){var t,n=c(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return ql("JWT malformed, contained fewer than 3 sections"),null;try{var o=xs(i);return o?JSON.parse(o):(ql("Failed to decode base64 JWT payload"),null)}catch(u){return ql("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function Af(e,t){return Nf.apply(this,arguments)}function Nf(){return Nf=$s(Hs().mark((function e(t,n){var r=arguments;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Os&&Rf(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Nf.apply(this,arguments)}function Rf(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Pf=function(){function e(t){go(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return ko(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout($s(Hs().mark((function t(){return Hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=$s(Hs().mark((function e(){var t;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Of=function(){function e(t,n){go(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return ko(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ef(this.lastLoginAt),this.creationTime=Ef(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Df(e){return Lf.apply(this,arguments)}function Lf(){return Lf=$s(Hs().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,d;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Af(t,Sf(r,{idToken:i}));case 6:$l(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Vf(o.providerUserInfo):[],s=Ff(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Of(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),Lf.apply(this,arguments)}function Mf(){return(Mf=$s(Hs().mark((function e(t){var n;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Gs(t),e.next=3,Df(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ff(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(b(n),b(t))}function Vf(e){return e.map((function(e){var t=e.providerId,n=El(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Uf(e,t){return jf.apply(this,arguments)}function jf(){return jf=$s(Hs().mark((function e(t,n){var r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,df(t,{},$s(Hs().mark((function e(){var r,i,a,o,u,s;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=js({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=mf(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",of.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),jf.apply(this,arguments)}var zf=function(){function e(){go(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return ko(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){$l(e.idToken,"internal-error"),$l("undefined"!==typeof e.idToken,"internal-error"),$l("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Cf(e);return $l(t,"internal-error"),$l("undefined"!==typeof t.exp,"internal-error"),$l("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=$s(Hs().mark((function e(t){var n,r=arguments;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],$l(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=$s(Hs().mark((function e(t,n){var r,i,a,o;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uf(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Yl("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&($l("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&($l("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&($l("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Bf(e,t){$l("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var qf=function(){function e(t){go(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=El(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?b(a.providerData):[],this.metadata=new Of(a.createdAt||void 0,a.lastLoginAt||void 0)}return ko(e,[{key:"getIdToken",value:function(){var e=$s(Hs().mark((function e(t){var n;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Af(this,this.stsTokenManager.getToken(this.auth,t));case 2:if($l(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return _f.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Mf.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&($l(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){$l(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=$s(Hs().mark((function e(t){var n,r,i=arguments;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Df(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=$s(Hs().mark((function e(){var t;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Af(this,bf(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,S=n.stsTokenManager;$l(b&&S,t,"internal-error");var I=zf.fromJSON(this.name,S);$l("string"===typeof b,t,"internal-error"),Bf(f,t.name),Bf(d,t.name),$l("boolean"===typeof k,t,"internal-error"),$l("boolean"===typeof w,t,"internal-error"),Bf(h,t.name),Bf(p,t.name),Bf(v,t.name),Bf(m,t.name),Bf(y,t.name),Bf(g,t.name);var E=new e({uid:b,auth:t,email:d,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=$s(Hs().mark((function t(n,r){var i,a,o,u=arguments;return Hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new zf).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Df(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Wf=function(){function e(){go(this,e),this.type="NONE",this.storage={}}return ko(e,[{key:"_isAvailable",value:function(){var e=$s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=$s(Hs().mark((function e(t){var n;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Wf.type="NONE";var Kf=Wf;function Gf(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Hf=function(){function e(t,n,r){go(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Gf(this.userKey,a.apiKey,o),this.fullPersistenceKey=Gf("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return ko(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=$s(Hs().mark((function e(){var t;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?qf._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=$s(Hs().mark((function e(t){var n;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=$s(Hs().mark((function t(n,r){var i,a,o,u,s,c,l,f,d,h,p,v=arguments;return Hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Zl(Kf),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Zl(Kf),u=Gf(i,n.config.apiKey,n.name),s=null,c=cs(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return h=qf._fromJSON(n,d),f!==o&&(s=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Qf(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Jf(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($f(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ed(t))return"Blackberry";if(td(t))return"Webos";if(Yf(t))return"Safari";if((t.includes("chrome/")||Xf(t))&&!t.includes("edge/"))return"Chrome";if(Zf(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function $f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s();return/firefox\//i.test(e)}function Yf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Xf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s();return/crios\//i.test(e)}function Jf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s();return/iemobile/i.test(e)}function Zf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s();return/android/i.test(e)}function ed(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s();return/blackberry/i.test(e)}function td(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s();return/webos/i.test(e)}function nd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function rd(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s();return nd(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function id(){return Rs()&&10===document.documentMode}function ad(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s();return nd(e)||Zf(e)||td(e)||ed(e)||/windows phone/i.test(e)||Jf(e)}function od(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Qf(_s());break;case"Worker":t="".concat(Qf(_s()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Gc,"/").concat(r)}var ud=function(){function e(t){go(this,e),this.auth=t,this.queue=[]}return ko(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=$s(Hs().mark((function e(t){var n,r,i,a,o,u,s,c;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=cs(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=cs(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),sd=function(){function e(t,n,r){go(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ld(this),this.idTokenSubscription=new ld(this),this.beforeStateQueue=new ud(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zl,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return ko(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Zl(t)),this._initializationPromise=this.queue($s(Hs().mark((function r(){var i,a;return Hs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Hf.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=$s(Hs().mark((function e(){var t;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=$s(Hs().mark((function e(t){var n,r,i,a,o,u,s;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return $l(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=$s(Hs().mark((function e(t){var n;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=$s(Hs().mark((function e(t){var n;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Df(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=$s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=$s(Hs().mark((function e(t){var n;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Gs(t):null)&&$l(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=$s(Hs().mark((function e(t){var n,r=this,i=arguments;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&$l(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue($s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=$s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue($s(Hs().mark((function n(){return Hs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Zl(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ds("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=$s(Hs().mark((function e(t,n){var r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=$s(Hs().mark((function e(t){var n;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return $l(n=t&&Zl(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Hf.create(this,[Zl(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=$s(Hs().mark((function e(t){var n,r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue($s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=$s(Hs().mark((function e(t){var n=this;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue($s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return $l(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return $l(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=od(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=$s(Hs().mark((function e(){var t,n,r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nt({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function cd(e){return Gs(e)}var ld=function(){function e(t){var n=this;go(this,e),this.auth=t,this.observer=null,this.addObserver=qs((function(e){return n.observer=e}))}return ko(e,[{key:"next",get:function(){return $l(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function fd(e,t,n){var r=cd(e);$l(r._canInitEmulator,r,"emulator-config-failed"),$l(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=dd(t),o=function(e){var t=dd(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:hd(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:hd(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function dd(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function hd(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var pd=function(){function e(t,n){go(this,e),this.providerId=t,this.signInMethod=n}return ko(e,[{key:"toJSON",value:function(){return Yl("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Yl("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Yl("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Yl("not implemented")}}]),e}();function vd(e,t){return md.apply(this,arguments)}function md(){return md=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lf(t,"POST","/v1/accounts:resetPassword",cf(t,n)));case 1:case"end":return e.stop()}}),e)}))),md.apply(this,arguments)}function yd(e,t){return gd.apply(this,arguments)}function gd(){return gd=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lf(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),gd.apply(this,arguments)}function bd(e,t){return kd.apply(this,arguments)}function kd(){return kd=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lf(t,"POST","/v1/accounts:update",cf(t,n)));case 1:case"end":return e.stop()}}),e)}))),kd.apply(this,arguments)}function wd(e,t){return xd.apply(this,arguments)}function xd(){return xd=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pf(t,"POST","/v1/accounts:signInWithPassword",cf(t,n)));case 1:case"end":return e.stop()}}),e)}))),xd.apply(this,arguments)}function Sd(e,t){return Id.apply(this,arguments)}function Id(){return Id=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lf(t,"POST","/v1/accounts:sendOobCode",cf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Id.apply(this,arguments)}function Ed(e,t){return _d.apply(this,arguments)}function _d(){return _d=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sd(t,n));case 1:case"end":return e.stop()}}),e)}))),_d.apply(this,arguments)}function Td(e,t){return Cd.apply(this,arguments)}function Cd(){return Cd=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sd(t,n));case 1:case"end":return e.stop()}}),e)}))),Cd.apply(this,arguments)}function Ad(e,t){return Nd.apply(this,arguments)}function Nd(){return Nd=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sd(t,n));case 1:case"end":return e.stop()}}),e)}))),Nd.apply(this,arguments)}function Rd(e,t){return Pd.apply(this,arguments)}function Pd(){return Pd=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sd(t,n));case 1:case"end":return e.stop()}}),e)}))),Pd.apply(this,arguments)}function Od(e,t){return Dd.apply(this,arguments)}function Dd(){return Dd=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pf(t,"POST","/v1/accounts:signInWithEmailLink",cf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Dd.apply(this,arguments)}function Ld(e,t){return Md.apply(this,arguments)}function Md(){return Md=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pf(t,"POST","/v1/accounts:signInWithEmailLink",cf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Md.apply(this,arguments)}var Fd=function(e){fs(n,e);var t=ms(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return go(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return ko(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",wd(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Od(t,{email:this._email,oobCode:this._password}));case 5:Wl(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",yd(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ld(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Wl(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(pd);function Vd(e,t){return Ud.apply(this,arguments)}function Ud(){return Ud=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pf(t,"POST","/v1/accounts:signInWithIdp",cf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ud.apply(this,arguments)}var jd=function(e){fs(n,e);var t=ms(n);function n(){var e;return go(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return ko(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Vd(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Vd(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Vd(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=js(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Wl("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=El(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(pd);function zd(e,t){return Bd.apply(this,arguments)}function Bd(){return Bd=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lf(t,"POST","/v1/accounts:sendVerificationCode",cf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bd.apply(this,arguments)}function qd(){return qd=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pf(t,"POST","/v1/accounts:signInWithPhoneNumber",cf(t,n)));case 1:case"end":return e.stop()}}),e)}))),qd.apply(this,arguments)}function Wd(){return Wd=$s(Hs().mark((function e(t,n){var r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pf(t,"POST","/v1/accounts:signInWithPhoneNumber",cf(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw gf(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Wd.apply(this,arguments)}var Kd=nt({},"USER_NOT_FOUND","user-not-found");function Gd(){return Gd=$s(Hs().mark((function e(t,n){var r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",pf(t,"POST","/v1/accounts:signInWithPhoneNumber",cf(t,r),Kd));case 2:case"end":return e.stop()}}),e)}))),Gd.apply(this,arguments)}var Hd=function(e){fs(n,e);var t=ms(n);function n(e){var r;return go(this,n),(r=t.call(this,"phone","phone")).params=e,r}return ko(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return qd.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Wd.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Gd.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(pd);var Qd=function(){function e(t){var n,r,i,a,o,u;go(this,e);var s=zs(Bs(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);$l(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return ko(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=zs(Bs(e)).link,n=t?zs(Bs(t)).deep_link_id:null,r=zs(Bs(e)).deep_link_id;return(r?zs(Bs(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var $d=function(){function e(){go(this,e),this.providerId=e.PROVIDER_ID}return ko(e,null,[{key:"credential",value:function(e,t){return Fd._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Qd.parseLink(t);return $l(n,"argument-error"),Fd._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();$d.PROVIDER_ID="password",$d.EMAIL_PASSWORD_SIGN_IN_METHOD="password",$d.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Yd=function(){function e(t){go(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return ko(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Xd=function(e){fs(n,e);var t=ms(n);function n(){var e;return go(this,n),(e=t.apply(this,arguments)).scopes=[],e}return ko(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return b(this.scopes)}}]),n}(Yd),Jd=function(e){fs(n,e);var t=ms(n);function n(){return go(this,n),t.apply(this,arguments)}return ko(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return $l(e.idToken||e.accessToken,"argument-error"),jd._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return $l("providerId"in t&&"signInMethod"in t,"argument-error"),jd._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Xd),Zd=function(e){fs(n,e);var t=ms(n);function n(){return go(this,n),t.call(this,"facebook.com")}return ko(n,null,[{key:"credential",value:function(e){return jd._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Xd);Zd.FACEBOOK_SIGN_IN_METHOD="facebook.com",Zd.PROVIDER_ID="facebook.com";var eh=function(e){fs(n,e);var t=ms(n);function n(){var e;return go(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return ko(n,null,[{key:"credential",value:function(e,t){return jd._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Xd);eh.GOOGLE_SIGN_IN_METHOD="google.com",eh.PROVIDER_ID="google.com";var th=function(e){fs(n,e);var t=ms(n);function n(){return go(this,n),t.call(this,"github.com")}return ko(n,null,[{key:"credential",value:function(e){return jd._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Xd);th.GITHUB_SIGN_IN_METHOD="github.com",th.PROVIDER_ID="github.com";var nh=function(e){fs(n,e);var t=ms(n);function n(e,r){var i;return go(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return ko(n,[{key:"_getIdTokenResponse",value:function(e){return Vd(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Vd(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Vd(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(pd),rh=function(e){fs(n,e);var t=ms(n);function n(e){return go(this,n),$l(e.startsWith("saml."),"argument-error"),t.call(this,e)}return ko(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=nh.fromJSON(e);return $l(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return nh._create(r,n)}catch(i){return null}}}]),n}(Yd),ih=function(e){fs(n,e);var t=ms(n);function n(){return go(this,n),t.call(this,"twitter.com")}return ko(n,null,[{key:"credential",value:function(e,t){return jd._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Xd);function ah(e,t){return oh.apply(this,arguments)}function oh(){return oh=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pf(t,"POST","/v1/accounts:signUp",cf(t,n)));case 1:case"end":return e.stop()}}),e)}))),oh.apply(this,arguments)}ih.TWITTER_SIGN_IN_METHOD="twitter.com",ih.PROVIDER_ID="twitter.com";var uh=function(){function e(t){go(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return ko(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=$s(Hs().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,qf._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=sh(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=$s(Hs().mark((function t(n,r,i){var a;return Hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=sh(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function sh(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function ch(){return ch=$s(Hs().mark((function e(t){var n,r,i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cd(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new uh({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,ah(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,uh._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),ch.apply(this,arguments)}var lh=function(e){fs(n,e);var t=ms(n);function n(e,r,i,a){var o,u;return go(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(ls(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return ko(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Os);function fh(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw lh._fromErrorAndOperation(e,n,t,r);throw n}))}function dh(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function hh(e,t){return ph.apply(this,arguments)}function ph(){return ph=$s(Hs().mark((function e(t,n){var r,i,a,o;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gs(t),e.next=3,yh(!0,r,n);case 3:return e.t0=wf,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=dh(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),ph.apply(this,arguments)}function vh(e,t){return mh.apply(this,arguments)}function mh(){return mh=$s(Hs().mark((function e(t,n){var r,i,a=arguments;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Af,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",uh._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),mh.apply(this,arguments)}function yh(e,t,n){return gh.apply(this,arguments)}function gh(){return(gh=$s(Hs().mark((function e(t,n,r){var i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Df(n);case 2:i=dh(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",$l(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bh(e,t){return kh.apply(this,arguments)}function kh(){return kh=$s(Hs().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Af(t,fh(a,o,n,t),r);case 6:return $l((u=e.sent).idToken,a,"internal-error"),$l(s=Cf(u.idToken),a,"internal-error"),c=s.sub,$l(t.uid===c,a,"user-mismatch"),e.abrupt("return",uh._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&Wl(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),kh.apply(this,arguments)}function wh(e,t){return xh.apply(this,arguments)}function xh(){return xh=$s(Hs().mark((function e(t,n){var r,i,a,o,u=arguments;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,fh(t,i,n);case 4:return a=e.sent,e.next=7,uh._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),xh.apply(this,arguments)}function Sh(e,t){return Ih.apply(this,arguments)}function Ih(){return Ih=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wh(cd(t),n));case 1:case"end":return e.stop()}}),e)}))),Ih.apply(this,arguments)}function Eh(e,t){return _h.apply(this,arguments)}function _h(){return(_h=$s(Hs().mark((function e(t,n){var r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gs(t),e.next=3,yh(!1,r,n.providerId);case 3:return e.abrupt("return",vh(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Th(e,t){return Ch.apply(this,arguments)}function Ch(){return(Ch=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bh(Gs(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ah(e,t){return Nh.apply(this,arguments)}function Nh(){return Nh=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pf(t,"POST","/v1/accounts:signInWithCustomToken",cf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Nh.apply(this,arguments)}function Rh(){return Rh=$s(Hs().mark((function e(t,n){var r,i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cd(t),e.next=3,Ah(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,uh._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Rh.apply(this,arguments)}var Ph=function(){function e(t,n){go(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return ko(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Oh._fromServerResponse(e,t):Wl(e,"internal-error")}}]),e}(),Oh=function(e){fs(n,e);var t=ms(n);function n(e){var r;return go(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return ko(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Ph);function Dh(e,t,n){var r;$l((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),$l("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&($l(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&($l(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Lh(){return Lh=$s(Hs().mark((function e(t,n,r){var i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gs(t),a={requestType:"PASSWORD_RESET",email:n},r&&Dh(i,a,r),e.next=5,Td(i,a);case 5:case"end":return e.stop()}}),e)}))),Lh.apply(this,arguments)}function Mh(){return Mh=$s(Hs().mark((function e(t,n,r){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vd(Gs(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Mh.apply(this,arguments)}function Fh(){return Fh=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bd(Gs(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Fh.apply(this,arguments)}function Vh(e,t){return Uh.apply(this,arguments)}function Uh(){return Uh=$s(Hs().mark((function e(t,n){var r,i,a,o;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gs(t),e.next=3,vd(r,{oobCode:n});case 3:i=e.sent,$l(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return $l(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:$l(i.mfaInfo,r,"internal-error");case 13:$l(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Ph._fromServerResponse(cd(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Uh.apply(this,arguments)}function jh(){return jh=$s(Hs().mark((function e(t,n){var r,i;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vh(Gs(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),jh.apply(this,arguments)}function zh(e,t,n){return Bh.apply(this,arguments)}function Bh(){return Bh=$s(Hs().mark((function e(t,n,r){var i,a,o;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cd(t),e.next=3,ah(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,uh._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Bh.apply(this,arguments)}function qh(){return qh=$s(Hs().mark((function e(t,n,r){var i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gs(t),a={requestType:"EMAIL_SIGNIN",email:n},$l(r.handleCodeInApp,i,"argument-error"),r&&Dh(i,a,r),e.next=6,Ad(i,a);case 6:case"end":return e.stop()}}),e)}))),qh.apply(this,arguments)}function Wh(){return Wh=$s(Hs().mark((function e(t,n,r){var i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gs(t),$l((a=$d.credentialWithLink(n,r||ef()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Sh(i,a));case 4:case"end":return e.stop()}}),e)}))),Wh.apply(this,arguments)}function Kh(e,t){return Gh.apply(this,arguments)}function Gh(){return Gh=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lf(t,"POST","/v1/accounts:createAuthUri",cf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Gh.apply(this,arguments)}function Hh(){return Hh=$s(Hs().mark((function e(t,n){var r,i,a,o;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tf()?ef():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Kh(Gs(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Hh.apply(this,arguments)}function Qh(){return(Qh=$s(Hs().mark((function e(t,n){var r,i,a,o;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gs(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Dh(r.auth,a,n),e.next=8,Ed(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $h(){return($h=$s(Hs().mark((function e(t,n,r){var i,a,o,u;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gs(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Dh(i.auth,o,r),e.next=8,Rd(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yh(e,t){return Xh.apply(this,arguments)}function Xh(){return Xh=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lf(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Xh.apply(this,arguments)}function Jh(){return(Jh=$s(Hs().mark((function e(t,n){var r,i,a,o,u,s,c;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Gs(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Af(a,Yh(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zh(e,t,n){return ep.apply(this,arguments)}function ep(){return ep=$s(Hs().mark((function e(t,n,r){var i,a,o,u;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Af(t,yd(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),ep.apply(this,arguments)}var tp=ko((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};go(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),np=function(e){fs(n,e);var t=ms(n);function n(e,r,i,a){var o;return go(this,n),(o=t.call(this,e,r,i)).username=a,o}return ko(n)}(tp),rp=function(e){fs(n,e);var t=ms(n);function n(e,r){return go(this,n),t.call(this,e,"facebook.com",r)}return ko(n)}(tp),ip=function(e){fs(n,e);var t=ms(n);function n(e,r){return go(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return ko(n)}(np),ap=function(e){fs(n,e);var t=ms(n);function n(e,r){return go(this,n),t.call(this,e,"google.com",r)}return ko(n)}(tp),op=function(e){fs(n,e);var t=ms(n);function n(e,r,i){return go(this,n),t.call(this,e,"twitter.com",r,i)}return ko(n)}(np);function up(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Cf(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new tp(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new rp(a,i);case"github.com":return new ip(a,i);case"google.com":return new ap(a,i);case"twitter.com":return new op(a,i,e.screenName||null);case"custom":case"anonymous":return new tp(a,null);default:return new tp(a,r,i)}}(n)}var sp=function(){function e(t,n){go(this,e),this.type=t,this.credential=n}return ko(e,[{key:"toJSON",value:function(){return{multiFactorSession:nt({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),cp=function(){function e(t,n,r){go(this,e),this.session=t,this.hints=n,this.signInResolver=r}return ko(e,[{key:"resolveSignIn",value:function(){var e=$s(Hs().mark((function e(t){var n;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=cd(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Ph._fromServerResponse(r,e)}));$l(i.mfaPendingCredential,r,"internal-error");var o=sp._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=$s(Hs().mark((function e(t){var a,u,s;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,uh._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return $l(n.user,r,"internal-error"),e.abrupt("return",uh._forOperation(n.user,n.operationType,u));case 17:Wl(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function lp(e,t){return lf(e,"POST","/v2/accounts/mfaEnrollment:start",cf(e,t))}function fp(e,t){return lf(e,"POST","/v2/accounts/mfaEnrollment:withdraw",cf(e,t))}var dp=function(){function e(t){var n=this;go(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Ph._fromServerResponse(t.auth,e)})))}))}return ko(e,[{key:"getSession",value:function(){var e=$s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=sp,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=$s(Hs().mark((function e(t,n){var r,i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Af(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=$s(Hs().mark((function e(t){var n,r,i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Af(this.user,fp(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),hp=new WeakMap;var pp="__sak",vp=function(){function e(t,n){go(this,e),this.storageRetriever=t,this.type=n}return ko(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(pp,"1"),this.storage.removeItem(pp),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var mp=function(e){fs(n,e);var t=ms(n);function n(){var e;return go(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=_s();return Yf(e)||nd(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ad(),e._shouldAllowMigration=!0,e}return ko(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);id()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=$s(Hs().mark((function e(t,r){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Il(ds(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=$s(Hs().mark((function e(t){var r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Il(ds(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Il(ds(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(vp);mp.type="LOCAL";var yp=mp,gp=function(e){fs(n,e);var t=ms(n);function n(){return go(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return ko(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(vp);gp.type="SESSION";var bp=gp;function kp(e){return Promise.all(e.map(function(){var e=$s(Hs().mark((function e(t){var n;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var wp=function(){function e(t){go(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return ko(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=$s(Hs().mark((function e(t){var n,r,i,a,o,u,s,c;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,kp(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function xp(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}wp.receivers=[];var Sp=function(){function e(t){go(this,e),this.target=t,this.handlers=new Set}return ko(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=$s(Hs().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=xp("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ip(){return window}function Ep(){return"undefined"!==typeof Ip().WorkerGlobalScope&&"function"===typeof Ip().importScripts}function _p(){return Tp.apply(this,arguments)}function Tp(){return(Tp=$s(Hs().mark((function e(){var t;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Cp(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ap="firebaseLocalStorageDb",Np="firebaseLocalStorage",Rp="fbase_key",Pp=function(){function e(t){go(this,e),this.request=t}return ko(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Op(e,t){return e.transaction([Np],t?"readwrite":"readonly").objectStore(Np)}function Dp(){var e=indexedDB.deleteDatabase(Ap);return new Pp(e).toPromise()}function Lp(){var e=indexedDB.open(Ap,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Np,{keyPath:Rp})}catch(r){n(r)}})),e.addEventListener("success",$s(Hs().mark((function n(){var r;return Hs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Np)){n.next=12;break}return r.close(),n.next=5,Dp();case 5:return n.t0=t,n.next=8,Lp();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Mp(e,t,n){return Fp.apply(this,arguments)}function Fp(){return Fp=$s(Hs().mark((function e(t,n,r){var i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Op(t,!0).put((nt(i={},Rp,n),nt(i,"value",r),i)),e.abrupt("return",new Pp(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Fp.apply(this,arguments)}function Vp(e,t){return Up.apply(this,arguments)}function Up(){return Up=$s(Hs().mark((function e(t,n){var r,i;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Op(t,!1).get(n),e.next=3,new Pp(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Up.apply(this,arguments)}function jp(e,t){var n=Op(e,!0).delete(t);return new Pp(n).toPromise()}var zp=function(){function e(){go(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return ko(e,[{key:"_openDb",value:function(){var e=$s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Lp();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=$s(Hs().mark((function e(t){var n,r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=$s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ep()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=$s(Hs().mark((function e(){var t=this;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=wp._getInstance(Ep()?self:null),this.receiver._subscribe("keyChanged",function(){var e=$s(Hs().mark((function e(n,r){var i;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=$s(Hs().mark((function e(){var t,n,r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_p();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Sp(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Cp()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=$s(Hs().mark((function e(){var t;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Lp();case 5:return t=e.sent,e.next=8,Mp(t,pp,"1");case 8:return e.next=10,jp(t,pp);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=$s(Hs().mark((function e(t,n){var r=this;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite($s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Mp(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=$s(Hs().mark((function e(t){var n;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Vp(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=$s(Hs().mark((function e(t){var n=this;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite($s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return jp(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=$s(Hs().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Op(e,!1).getAll();return new Pp(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=cs(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval($s(Hs().mark((function t(){return Hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();zp.type="LOCAL";var Bp=zp;function qp(e,t){return lf(e,"POST","/v2/accounts/mfaSignIn:start",cf(e,t))}function Wp(e){return Kp.apply(this,arguments)}function Kp(){return Kp=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lf(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Kp.apply(this,arguments)}function Gp(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Kl("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Hp(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Qp=1e12,$p=function(){function e(t){go(this,e),this.auth=t,this.counter=Qp,this._widgets=new Map}return ko(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Yp(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Qp;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Qp;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=$s(Hs().mark((function e(t){var n,r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Qp,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Yp=function(){function e(t,n,r){var i=this;go(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;$l(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return ko(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Xp=Hp("rcb"),Jp=new rf(3e4,6e4),Zp="https://www.google.com/recaptcha/api.js?",ev=function(){function e(){var t;go(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Ip().grecaptcha)||void 0===t?void 0:t.render)}return ko(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return $l(tv(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Ip().grecaptcha):new Promise((function(r,i){var a=Ip().setTimeout((function(){i(Kl(e,"network-request-failed"))}),Jp.get());Ip()[Xp]=function(){Ip().clearTimeout(a),delete Ip()[Xp];var o=Ip().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Kl(e,"internal-error"))},Gp("".concat(Zp,"?").concat(js({onload:Xp,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Kl(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Ip().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function tv(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var nv=function(){function e(){go(this,e)}return ko(e,[{key:"load",value:function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new $p(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),rv="recaptcha",iv={theme:"light",type:"image"},av=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},iv),r=arguments.length>2?arguments[2]:void 0;go(this,e),this.parameters=n,this.type=rv,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=cd(r),this.isInvisible="invisible"===this.parameters.size,$l("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;$l(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nv:new ev,this.validateStartingState()}return ko(e,[{key:"verify",value:function(){var e=$s(Hs().mark((function e(){var t,n,r,i=this;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){$l(!this.parameters.sitekey,this.auth,"argument-error"),$l(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),$l("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ip()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){$l(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=$s(Hs().mark((function e(){var t,n;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=$s(Hs().mark((function e(){var t;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $l(tf()&&!Ep(),this.auth,"internal-error"),e.next=3,ov();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Wp(this.auth);case 8:$l(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return $l(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function ov(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var uv=function(){function e(t,n){go(this,e),this.verificationId=t,this.onConfirmation=n}return ko(e,[{key:"confirm",value:function(e){var t=Hd._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function sv(){return sv=$s(Hs().mark((function e(t,n,r){var i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cd(t),e.next=3,dv(i,n,Gs(r));case 3:return a=e.sent,e.abrupt("return",new uv(a,(function(e){return Sh(i,e)})));case 5:case"end":return e.stop()}}),e)}))),sv.apply(this,arguments)}function cv(e,t,n){return lv.apply(this,arguments)}function lv(){return(lv=$s(Hs().mark((function e(t,n,r){var i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gs(t),e.next=3,yh(!1,i,"phone");case 3:return e.next=5,dv(i.auth,n,Gs(r));case 5:return a=e.sent,e.abrupt("return",new uv(a,(function(e){return Eh(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fv(){return(fv=$s(Hs().mark((function e(t,n,r){var i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gs(t),e.next=3,dv(i.auth,n,Gs(r));case 3:return a=e.sent,e.abrupt("return",new uv(a,(function(e){return Th(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dv(e,t,n){return hv.apply(this,arguments)}function hv(){return hv=$s(Hs().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,$l("string"===typeof a,t,"argument-error"),$l(r.type===rv,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return $l("enroll"===u.type,t,"internal-error"),e.next=13,lp(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return $l("signin"===u.type,t,"internal-error"),$l(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,qp(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,zd(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),hv.apply(this,arguments)}function pv(){return(pv=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vh(Gs(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vv=function(){function e(t){go(this,e),this.providerId=e.PROVIDER_ID,this.auth=cd(t)}return ko(e,[{key:"verifyPhoneNumber",value:function(e,t){return dv(this.auth,e,Gs(t))}}],[{key:"credential",value:function(e,t){return Hd._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Hd._fromTokenResponse(n,r):null}}]),e}();function mv(e,t){return t?Zl(t):($l(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}vv.PROVIDER_ID="phone",vv.PHONE_SIGN_IN_METHOD="phone";var yv=function(e){fs(n,e);var t=ms(n);function n(e){var r;return go(this,n),(r=t.call(this,"custom","custom")).params=e,r}return ko(n,[{key:"_getIdTokenResponse",value:function(e){return Vd(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Vd(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Vd(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(pd);function gv(e){return wh(e.auth,new yv(e),e.bypassAuthState)}function bv(e){var t=e.auth,n=e.user;return $l(n,t,"internal-error"),bh(n,new yv(e),e.bypassAuthState)}function kv(e){return wv.apply(this,arguments)}function wv(){return wv=$s(Hs().mark((function e(t){var n,r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,$l(r=t.user,n,"internal-error"),e.abrupt("return",vh(r,new yv(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),wv.apply(this,arguments)}var xv=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];go(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return ko(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=$s(Hs().mark((function t(n,r){return Hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=$s(Hs().mark((function e(t){var n,r,i,a,o,u,s;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gv;case"linkViaPopup":case"linkViaRedirect":return kv;case"reauthViaPopup":case"reauthViaRedirect":return bv;default:Wl(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Xl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Xl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Sv=new rf(2e3,1e4);function Iv(e,t,n){return Ev.apply(this,arguments)}function Ev(){return Ev=$s(Hs().mark((function e(t,n,r){var i,a,o;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cd(t),Hl(t,n,Yd),a=mv(i,r),o=new Av(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Ev.apply(this,arguments)}function _v(){return(_v=$s(Hs().mark((function e(t,n,r){var i,a,o;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hl((i=Gs(t)).auth,n,Yd),a=mv(i.auth,r),o=new Av(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tv(e,t,n){return Cv.apply(this,arguments)}function Cv(){return(Cv=$s(Hs().mark((function e(t,n,r){var i,a,o;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hl((i=Gs(t)).auth,n,Yd),a=mv(i.auth,r),o=new Av(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Av=function(e){fs(n,e);var t=ms(n);function n(e,r,i,a,o){var u;return go(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=ls(u),u}return ko(n,[{key:"executeNotNull",value:function(){var e=$s(Hs().mark((function e(){var t;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return $l(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=$s(Hs().mark((function e(){var t,n=this;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xl(1===this.filter.length,"Popup operations only handle one event"),t=xp(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Kl(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Kl(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Kl(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Sv.get())}()}}]),n}(xv);Av.currentPopupAction=null;var Nv=new Map,Rv=function(e){fs(n,e);var t=ms(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return go(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return ko(n,[{key:"execute",value:function(){var e=$s(Hs().mark((function e(){var t,r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Nv.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Pv(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Il(ds(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Nv.set(this.auth._key(),t);case 21:return this.bypassAuthState||Nv.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=$s(Hs().mark((function e(t){var r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Il(ds(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Il(ds(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=$s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(xv);function Pv(e,t){return Ov.apply(this,arguments)}function Ov(){return Ov=$s(Hs().mark((function e(t,n){var r,i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vv(n),i=Fv(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Ov.apply(this,arguments)}function Dv(e,t){return Lv.apply(this,arguments)}function Lv(){return Lv=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fv(t)._set(Vv(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Lv.apply(this,arguments)}function Mv(e,t){Nv.set(e._key(),t)}function Fv(e){return Zl(e._redirectPersistence)}function Vv(e){return Gf("pendingRedirect",e.config.apiKey,e.name)}function Uv(e,t,n){return function(e,t,n){return jv.apply(this,arguments)}(e,t,n)}function jv(){return jv=$s(Hs().mark((function e(t,n,r){var i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cd(t),Hl(t,n,Yd),a=mv(i,r),e.next=5,Dv(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),jv.apply(this,arguments)}function zv(e,t,n){return function(e,t,n){return Bv.apply(this,arguments)}(e,t,n)}function Bv(){return(Bv=$s(Hs().mark((function e(t,n,r){var i,a,o;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hl((i=Gs(t)).auth,n,Yd),a=mv(i.auth,r),e.next=5,Dv(a,i.auth);case 5:return e.next=7,$v(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qv(e,t,n){return function(e,t,n){return Wv.apply(this,arguments)}(e,t,n)}function Wv(){return(Wv=$s(Hs().mark((function e(t,n,r){var i,a,o;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hl((i=Gs(t)).auth,n,Yd),a=mv(i.auth,r),e.next=5,yh(!1,i,n.providerId);case 5:return e.next=7,Dv(a,i.auth);case 7:return e.next=9,$v(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kv(e,t){return Gv.apply(this,arguments)}function Gv(){return Gv=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cd(t)._initializationPromise;case 2:return e.abrupt("return",Hv(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Gv.apply(this,arguments)}function Hv(e,t){return Qv.apply(this,arguments)}function Qv(){return Qv=$s(Hs().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=cd(t),a=mv(i,n),o=new Rv(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Qv.apply(this,arguments)}function $v(e){return Yv.apply(this,arguments)}function Yv(){return(Yv=$s(Hs().mark((function e(t){var n;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xp("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xv=function(){function e(t){go(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return ko(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zv(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Zv(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Kl(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jv(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Jv(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Jv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Zv(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function em(e){return tm.apply(this,arguments)}function tm(){return tm=$s(Hs().mark((function e(t){var n,r=arguments;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",lf(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),tm.apply(this,arguments)}var nm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rm=/^https?/;function im(){return im=$s(Hs().mark((function e(t){var n,r,i,a,o;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,em(t);case 4:n=e.sent,r=n.authorizedDomains,i=cs(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!am(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Wl(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),im.apply(this,arguments)}function am(e){var t=ef(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!rm.test(r))return!1;if(nm.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var om=new rf(3e4,6e4);function um(){var e=Ip().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=b(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var sm=null;function cm(e){return sm=sm||function(e){return new Promise((function(t,n){var r,i,a;function o(){um(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){um(),n(Kl(e,"network-request-failed"))},timeout:om.get()})}if(null===(i=null===(r=Ip().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ip().gapi)||void 0===a?void 0:a.load)){var u=Hp("iframefcb");return Ip()[u]=function(){gapi.load?o():n(Kl(e,"network-request-failed"))},Gp("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw sm=null,e}))}(e),sm}var lm=new rf(5e3,15e3),fm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hm(e){var t=e.config;$l(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?af(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Gc},i=dm.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(js(r).slice(1))}function pm(e){return vm.apply(this,arguments)}function vm(){return vm=$s(Hs().mark((function e(t){var n,r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cm(t);case 2:return n=e.sent,$l(r=Ip().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:hm(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fm,dontclear:!0},(function(e){return new Promise(function(){var n=$s(Hs().mark((function n(r,i){var a,o,u;return Hs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Ip().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Kl(t,"network-request-failed"),o=Ip().setTimeout((function(){i(a)}),lm.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),vm.apply(this,arguments)}var mm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ym="_blank",gm="http://localhost",bm=function(){function e(t){go(this,e),this.window=t,this.associatedEvent=null}return ko(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function km(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},mm),{width:r.toString(),height:i.toString(),top:a,left:o}),l=_s().toLowerCase();n&&(u=Xf(l)?ym:n),$f(l)&&(t=t||gm,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(rd(l)&&"_self"!==u)return wm(t||"",u),new bm(null);var d=window.open(t||"",u,f);$l(d,e,"popup-blocked");try{d.focus()}catch(h){}return new bm(d)}function wm(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var xm="__/auth/handler",Sm="emulator/auth/handler";function Im(e,t,n,r,i,a){$l(e.config.authDomain,e,"auth-domain-config-required"),$l(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Gc,eventId:i};if(t instanceof Yd){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],d=l[1];o[f]=d}}if(t instanceof Xd){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(xm);return af(t,Sm)}(e),"?").concat(js(p).slice(1))}var Em="webStorageSupport",_m=function(){function e(){go(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bp,this._completeRedirectFn=Hv,this._overrideRedirectResult=Mv}return ko(e,[{key:"_openPopup",value:function(){var e=$s(Hs().mark((function e(t,n,r,i){var a,o;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xl(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Im(t,n,r,ef(),i),e.abrupt("return",km(t,o,xp()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=$s(Hs().mark((function e(t,n,r,i){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Im(t,n,r,ef(),i),Ip().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Xl(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=$s(Hs().mark((function e(t){var n,r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pm(t);case 2:return n=e.sent,r=new Xv(t),n.register("authEvent",(function(e){return $l(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Em,{type:Em},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Wl(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return im.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ad()||Yf()||nd()}}]),e}(),Tm=_m,Cm=function(){function e(t){go(this,e),this.factorId=t}return ko(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Yl("unexpected MultiFactorSessionType")}}}]),e}(),Am=function(e){fs(n,e);var t=ms(n);function n(e){var r;return go(this,n),(r=t.call(this,"phone")).credential=e,r}return ko(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return lf(e,"POST","/v2/accounts/mfaEnrollment:finalize",cf(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return lf(e,"POST","/v2/accounts/mfaSignIn:finalize",cf(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Cm),Nm=function(){function e(){go(this,e)}return ko(e,null,[{key:"assertion",value:function(e){return Am._fromCredential(e)}}]),e}();Nm.FACTOR_ID="phone";var Rm,Pm="@firebase/auth",Om="0.20.5",Dm=function(){function e(t){go(this,e),this.auth=t,this.internalListeners=new Map}return ko(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=$s(Hs().mark((function e(t){var n;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){$l(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Lm(){return window}Rm="Browser",Uc(new Ys("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){$l(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),$l(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Rm,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:od(Rm)},i=new sd(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zl);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Uc(new Ys("auth-internal",(function(e){return function(e){return new Dm(e)}(cd(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Jc(Pm,Om,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Rm)),Jc(Pm,Om,"esm2017");function Mm(e,t,n){return Fm.apply(this,arguments)}function Fm(){return Fm=$s(Hs().mark((function e(t,n,r){var i,a,o,u,s;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Lm(),o=a.BuildInfo,Xl(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,qm(n.sessionId);case 4:return u=e.sent,s={},nd()?s.ibi=o.packageName:Zf()?s.apn=o.packageName:Wl(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Im(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Fm.apply(this,arguments)}function Vm(){return Vm=$s(Hs().mark((function e(t){var n,r,i;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Lm(),r=n.BuildInfo,i={},nd()?i.iosBundleId=r.packageName:Zf()?i.androidPackageName=r.packageName:Wl(t,"operation-not-supported-in-this-environment"),e.next=5,em(t,i);case 5:case"end":return e.stop()}}),e)}))),Vm.apply(this,arguments)}function Um(e){var t=Lm().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function jm(e,t,n){return zm.apply(this,arguments)}function zm(){return zm=$s(Hs().mark((function e(t,n,r){var i,a,o;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lm(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Kl(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Zf()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),zm.apply(this,arguments)}function Bm(e){var t,n,r,i,a,o,u,s,c,l,f=Lm();$l("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),$l("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),$l("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$l("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$l("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function qm(e){return Wm.apply(this,arguments)}function Wm(){return(Wm=$s(Hs().mark((function e(t){var n,r,i;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Km(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Km(e){if(Xl(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Gm=function(e){fs(n,e);var t=ms(n);function n(){var e;return go(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return ko(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Il(ds(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=$s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Xv);function Hm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Jm(),postBody:null,tenantId:e.tenantId,error:Kl(e,"no-auth-event")}}function Qm(e,t){return Zm()._set(ey(e),t)}function $m(e){return Ym.apply(this,arguments)}function Ym(){return Ym=$s(Hs().mark((function e(t){var n;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zm()._get(ey(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Zm()._remove(ey(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Ym.apply(this,arguments)}function Xm(e,t){var n,r,i=function(e){var t=ty(e),n=t.link?decodeURIComponent(t.link):void 0,r=ty(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return ty(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=ty(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Kl(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Jm(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Zm(){return Zl(yp)}function ey(e){return Gf("authEvent",e.config.apiKey,e.name)}function ty(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||g(t)||u(t)||s();r[0];return zs(r.slice(1).join("?"))}var ny=function(){function e(){go(this,e),this._redirectPersistence=bp,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Hv,this._overrideRedirectResult=Mv}return ko(e,[{key:"_initialize",value:function(){var e=$s(Hs().mark((function e(t){var n,r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Gm(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Wl(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=$s(Hs().mark((function e(t,n,r,i){var a,o,u,s;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bm(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Nv.clear(),e.next=10,this._originValidation(t);case 10:return o=Hm(t,r,i),e.next=13,Qm(t,o);case 13:return e.next=15,Mm(t,o,n);case 15:return u=e.sent,e.next=18,Um(u);case 18:return s=e.sent,e.abrupt("return",jm(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Vm.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Lm(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout($s(Hs().mark((function n(){return Hs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$m(e);case 2:t.onEvent(iy());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=$s(Hs().mark((function n(r){var i,a;return Hs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,$m(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Xm(i,r.url)),t.onEvent(a||iy());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Lm().handleOpenURL=function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),ry=ny;function iy(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Kl("no-auth-event")}}function ay(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function oy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s();return!("file:"!==ay()&&"ionic:"!==ay()&&"capacitor:"!==ay()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function uy(){return Rs()&&11===(null===document||void 0===document?void 0:document.documentMode)}function sy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s();return/Edge\/\d+/.test(e)}function cy(){try{var e=self.localStorage,t=xp();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s();return uy()||sy(e)}()||Ps()}catch(n){return ly()&&Ps()}return!1}function ly(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function fy(){return("http:"===ay()||"https:"===ay()||As()||oy())&&!(Ns()||Cs())&&cy()&&!ly()}function dy(){return oy()&&"undefined"!==typeof document}function hy(){return py.apply(this,arguments)}function py(){return(py=$s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dy()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vy={LOCAL:"local",NONE:"none",SESSION:"session"},my=$l,yy="persistence";function gy(e,t){my(Object.values(vy).includes(t),e,"invalid-persistence-type"),Ns()?my(t!==vy.SESSION,e,"unsupported-persistence-type"):Cs()?my(t===vy.NONE,e,"unsupported-persistence-type"):ly()?my(t===vy.NONE||t===vy.LOCAL&&Ps(),e,"unsupported-persistence-type"):my(t===vy.NONE||cy(),e,"unsupported-persistence-type")}function by(e){return ky.apply(this,arguments)}function ky(){return ky=$s(Hs().mark((function e(t){var n,r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=wy(),r=Gf(yy,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),ky.apply(this,arguments)}function wy(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var xy=$l,Sy=function(){function e(){go(this,e),this.browserResolver=Zl(Tm),this.cordovaResolver=Zl(ry),this.underlyingResolver=null,this._redirectPersistence=bp,this._completeRedirectFn=Hv,this._overrideRedirectResult=Mv}return ko(e,[{key:"_initialize",value:function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=$s(Hs().mark((function e(t,n,r,i){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=$s(Hs().mark((function e(t,n,r,i){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return dy()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return xy(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=$s(Hs().mark((function e(){var t;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,hy();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Iy(e){return e.unwrap()}function Ey(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new Ny(e,function(e,t){var n,r=Gs(e),i=t;return $l(t.customData.operationType,r,"argument-error"),$l(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),cp._fromError(r,i)}(e,t));else if(i){var a=_y(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function _y(e){var t=(e instanceof Os?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Os)&&"temporaryProof"in t&&"phoneNumber"in t)return vv.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Nl)return null;switch(r){case Al:n=eh;break;case Tl:n=Zd;break;case Cl:n=th;break;case Rl:n=ih;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?nh._create(r,u):jd._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Jd(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Os?n.credentialFromError(e):n.credentialFromResult(e)}function Ty(e,t){return t.catch((function(t){throw t instanceof Os&&Ey(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,_y(t)),additionalUserInfo:up(e),user:Ry.getOrCreate(r)}}))}function Cy(e,t){return Ay.apply(this,arguments)}function Ay(){return Ay=$s(Hs().mark((function e(t,n){var r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Ty(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Ay.apply(this,arguments)}var Ny=function(){function e(t,n){go(this,e),this.resolver=n,this.auth=t.wrapped()}return ko(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Ty(Iy(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Ry=function(){function e(t){go(this,e),this._delegate=t,this.multiFactor=function(e){var t=Gs(e);return hp.has(t)||hp.set(t,dp._fromUser(t)),hp.get(t)}(t)}return ko(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ty(this.auth,Eh(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cy(this.auth,cv(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ty(this.auth,Tv(this._delegate,t,Sy)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,by(cd(this.auth));case 2:return e.abrupt("return",qv(this._delegate,t,Sy));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ty(this.auth,Th(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Cy(this.auth,function(e,t,n){return fv.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Ty(this.auth,function(e,t,n){return _v.apply(this,arguments)}(this._delegate,e,Sy))}},{key:"reauthenticateWithRedirect",value:function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,by(cd(this.auth));case 2:return e.abrupt("return",zv(this._delegate,t,Sy));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Qh.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hh(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Zh(Gs(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Zh(Gs(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return pv.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Jh.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return $h.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Ry.USER_MAP=new WeakMap;var Py=$l,Oy=function(){function e(t,n){if(go(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Py(r,"invalid-api-key",{appName:t.name}),Py(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Sy:void 0;this._delegate=n.initialize({options:{persistence:Ly(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Ul),this.linkUnderlyingAuth()}return ko(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Ry.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){fd(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Fh.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Vh(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Mh.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ty(this._delegate,zh(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Hh.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Qd.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=$s(Hs().mark((function e(){var t;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Py(fy(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Kv(this._delegate,Sy);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Ty(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){cd(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Dy(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Dy(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return qh.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Lh.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=$s(Hs().mark((function e(t){var n,r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gy(this._delegate,t),e.t0=t,e.next=e.t0===vy.SESSION?4:e.t0===vy.LOCAL?6:e.t0===vy.NONE?11:13;break;case 4:return n=bp,e.abrupt("break",14);case 6:return e.next=8,Zl(Bp)._isAvailable();case 8:return r=e.sent,n=r?Bp:yp,e.abrupt("break",14);case 11:return n=Kf,e.abrupt("break",14);case 13:return e.abrupt("return",Wl("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Ty(this._delegate,function(e){return ch.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Ty(this._delegate,Sh(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Ty(this._delegate,function(e,t){return Rh.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Ty(this._delegate,function(e,t,n){return Sh(Gs(e),$d.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Ty(this._delegate,function(e,t,n){return Wh.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Cy(this._delegate,function(e,t,n){return sv.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Py(fy(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Ty(this._delegate,Iv(this._delegate,t,Sy)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Py(fy(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,by(this._delegate);case 3:return e.abrupt("return",Uv(this._delegate,t,Sy));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return jh.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Dy(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Ry.getOrCreate(e))},error:t,complete:n}}function Ly(e,t){var n=function(e,t){var n=wy();if(!n)return[];var r=Gf(yy,e,t);switch(n.getItem(r)){case vy.NONE:return[Kf];case vy.LOCAL:return[Bp,bp];case vy.SESSION:return[bp];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Bp)||n.push(Bp),"undefined"!==typeof window)for(var r=0,i=[yp,bp];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Kf)||n.push(Kf),n}Oy.Persistence=vy;var My=function(){function e(){go(this,e),this.providerId="phone",this._delegate=new vv(Iy(xl.auth()))}return ko(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return vv.credential(e,t)}}]),e}();My.PHONE_SIGN_IN_METHOD=vv.PHONE_SIGN_IN_METHOD,My.PROVIDER_ID=vv.PROVIDER_ID;var Fy,Vy=$l,Uy=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xl.app();go(this,e),Vy(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new av(t,n,i.auth()),this.type=this._delegate.type}return ko(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Fy=xl).INTERNAL.registerComponent(new Ys("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Oy(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Pl,PASSWORD_RESET:Ol,RECOVER_EMAIL:Dl,REVERT_SECOND_FACTOR_ADDITION:Ll,VERIFY_AND_CHANGE_EMAIL:Ml,VERIFY_EMAIL:Fl}},EmailAuthProvider:$d,FacebookAuthProvider:Zd,GithubAuthProvider:th,GoogleAuthProvider:eh,OAuthProvider:Jd,SAMLAuthProvider:rh,PhoneAuthProvider:My,PhoneMultiFactorGenerator:Nm,RecaptchaVerifier:Uy,TwitterAuthProvider:ih,Auth:Oy,AuthCredential:pd,Error:Os}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Fy.registerVersion("@firebase/auth-compat","0.2.18");var jy,zy="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},By={},qy=qy||{},Wy=zy||self;function Ky(){}function Gy(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Hy(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Qy="closure_uid_"+(1e9*Math.random()>>>0),$y=0;function Yy(e,t,n){return e.call.apply(e.bind,arguments)}function Xy(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Jy(e,t,n){return(Jy=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yy:Xy).apply(null,arguments)}function Zy(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function eg(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function tg(){this.s=this.s,this.o=this.o}var ng={};tg.prototype.s=!1,tg.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Qy)&&e[Qy]||(e[Qy]=++$y)}(this);delete ng[e]}},tg.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var rg=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ig=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function ag(e){return Array.prototype.concat.apply([],arguments)}function og(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ug(e){return/^[\s\xa0]*$/.test(e)}var sg,cg=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function lg(e,t){return-1!=e.indexOf(t)}function fg(e,t){return e<t?-1:e>t?1:0}e:{var dg=Wy.navigator;if(dg){var hg=dg.userAgent;if(hg){sg=hg;break e}}sg=""}function pg(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function vg(e){var t={};for(var n in e)t[n]=e[n];return t}var mg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yg(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<mg.length;a++)n=mg[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function gg(e){return gg[" "](e),e}gg[" "]=Ky;var bg,kg=lg(sg,"Opera"),wg=lg(sg,"Trident")||lg(sg,"MSIE"),xg=lg(sg,"Edge"),Sg=xg||wg,Ig=lg(sg,"Gecko")&&!(lg(sg.toLowerCase(),"webkit")&&!lg(sg,"Edge"))&&!(lg(sg,"Trident")||lg(sg,"MSIE"))&&!lg(sg,"Edge"),Eg=lg(sg.toLowerCase(),"webkit")&&!lg(sg,"Edge");function _g(){var e=Wy.document;return e?e.documentMode:void 0}e:{var Tg="",Cg=function(){var e=sg;return Ig?/rv:([^\);]+)(\)|;)/.exec(e):xg?/Edge\/([\d\.]+)/.exec(e):wg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Eg?/WebKit\/(\S+)/.exec(e):kg?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Cg&&(Tg=Cg?Cg[1]:""),wg){var Ag=_g();if(null!=Ag&&Ag>parseFloat(Tg)){bg=String(Ag);break e}}bg=Tg}var Ng,Rg={};function Pg(){return function(e){var t=Rg;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=cg(String(bg)).split("."),n=cg("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=fg(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||fg(0==a[2].length,0==o[2].length)||fg(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Wy.document&&wg){var Og=_g();Ng=Og||(parseInt(bg,10)||void 0)}else Ng=void 0;var Dg=Ng,Lg=function(){if(!Wy.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Wy.addEventListener("test",Ky,t),Wy.removeEventListener("test",Ky,t)}catch(n){}return e}();function Mg(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Fg(e,t){if(Mg.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ig){e:{try{gg(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Vg[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Fg.Z.h.call(this)}}Mg.prototype.h=function(){this.defaultPrevented=!0},eg(Fg,Mg);var Vg={2:"touch",3:"pen",4:"mouse"};Fg.prototype.h=function(){Fg.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ug="closure_listenable_"+(1e6*Math.random()|0),jg=0;function zg(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++jg,this.ca=this.fa=!1}function Bg(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function qg(e){this.src=e,this.g={},this.h=0}function Wg(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=rg(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Bg(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Kg(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}qg.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Kg(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new zg(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Gg="closure_lm_"+(1e6*Math.random()|0),Hg={};function Qg(e,t,n,r,i){if(r&&r.once)return Yg(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Qg(e,t[a],n,r,i);return null}return n=rb(n),e&&e[Ug]?e.N(t,n,Hy(r)?!!r.capture:!!r,i):$g(e,t,n,!1,r,i)}function $g(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Hy(i)?!!i.capture:!!i,u=tb(e);if(u||(e[Gg]=u=new qg(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=eb;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Lg||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Zg(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Yg(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Yg(e,t[a],n,r,i);return null}return n=rb(n),e&&e[Ug]?e.O(t,n,Hy(r)?!!r.capture:!!r,i):$g(e,t,n,!0,r,i)}function Xg(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Xg(e,t[a],n,r,i);else r=Hy(r)?!!r.capture:!!r,n=rb(n),e&&e[Ug]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Kg(a=e.g[t],n,r,i))&&(Bg(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=tb(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Kg(t,n,r,i)),(n=-1<e?t[e]:null)&&Jg(n))}function Jg(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ug])Wg(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Zg(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=tb(t))?(Wg(n,e),0==n.h&&(n.src=null,t[Gg]=null)):Bg(e)}}}function Zg(e){return e in Hg?Hg[e]:Hg[e]="on"+e}function eb(e,t){if(e.ca)e=!0;else{t=new Fg(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Jg(e),e=n.call(r,t)}return e}function tb(e){return(e=e[Gg])instanceof qg?e:null}var nb="__closure_events_fn_"+(1e9*Math.random()>>>0);function rb(e){return"function"===typeof e?e:(e[nb]||(e[nb]=function(t){return e.handleEvent(t)}),e[nb])}function ib(){tg.call(this),this.i=new qg(this),this.P=this,this.I=null}function ab(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Mg(t,e);else if(t instanceof Mg)t.target=t.target||e;else{var i=t;yg(t=new Mg(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ob(o,r,!0,t)&&i}if(i=ob(o=t.g=e,r,!0,t)&&i,i=ob(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ob(o=t.g=n[a],r,!1,t)&&i}function ob(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Wg(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}eg(ib,tg),ib.prototype[Ug]=!0,ib.prototype.removeEventListener=function(e,t,n,r){Xg(this,e,t,n,r)},ib.prototype.M=function(){if(ib.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Bg(n[r]);delete t.g[e],t.h--}}this.I=null},ib.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ib.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ub=Wy.JSON.stringify;function sb(){var e=mb,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var cb,lb=function(){function e(){go(this,e),this.h=this.g=null}return ko(e,[{key:"add",value:function(e,t){var n=fb.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),fb=new(function(){function e(t,n){go(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return ko(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new db}),(function(e){return e.reset()})),db=function(){function e(){go(this,e),this.next=this.g=this.h=null}return ko(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function hb(e){Wy.setTimeout((function(){throw e}),0)}function pb(e,t){cb||function(){var e=Wy.Promise.resolve(void 0);cb=function(){e.then(yb)}}(),vb||(cb(),vb=!0),mb.add(e,t)}var vb=!1,mb=new lb;function yb(){for(var e;e=sb();){try{e.h.call(e.g)}catch(n){hb(n)}var t=fb;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}vb=!1}function gb(e,t){ib.call(this),this.h=e||1,this.g=t||Wy,this.j=Jy(this.kb,this),this.l=Date.now()}function bb(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function kb(e,t,n){if("function"===typeof e)n&&(e=Jy(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Jy(e.handleEvent,e)}return 2147483647<Number(t)?-1:Wy.setTimeout(e,t||0)}function wb(e){e.g=kb((function(){e.g=null,e.i&&(e.i=!1,wb(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}eg(gb,ib),(jy=gb.prototype).da=!1,jy.S=null,jy.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ab(this,"tick"),this.da&&(bb(this),this.start()))}},jy.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},jy.M=function(){gb.Z.M.call(this),bb(this),delete this.g};var xb=function(e){fs(n,e);var t=ms(n);function n(e,r){var i;return go(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return ko(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:wb(this)}},{key:"M",value:function(){Il(ds(n.prototype),"M",this).call(this),this.g&&(Wy.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(tg);function Sb(e){tg.call(this),this.h=e,this.g={}}eg(Sb,tg);var Ib=[];function Eb(e,t,n,r){Array.isArray(n)||(n&&(Ib[0]=n.toString()),n=Ib);for(var i=0;i<n.length;i++){var a=Qg(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function _b(e){pg(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Jg(e)}),e),e.g={}}function Tb(){this.g=!0}function Cb(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ub(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Sb.prototype.M=function(){Sb.Z.M.call(this),_b(this)},Sb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Tb.prototype.Aa=function(){this.g=!1},Tb.prototype.info=function(){};var Ab={},Nb=null;function Rb(){return Nb=Nb||new ib}function Pb(e){Mg.call(this,Ab.Ma,e)}function Ob(e){var t=Rb();ab(t,new Pb(t,e))}function Db(e,t){Mg.call(this,Ab.STAT_EVENT,e),this.stat=t}function Lb(e){var t=Rb();ab(t,new Db(t,e))}function Mb(e,t){Mg.call(this,Ab.Na,e),this.size=t}function Fb(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Wy.setTimeout((function(){e()}),t)}Ab.Ma="serverreachability",eg(Pb,Mg),Ab.STAT_EVENT="statevent",eg(Db,Mg),Ab.Na="timingevent",eg(Mb,Mg);var Vb={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ub={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function jb(){}function zb(e){return e.h||(e.h=e.i())}function Bb(){}jb.prototype.h=null;var qb,Wb={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Kb(){Mg.call(this,"d")}function Gb(){Mg.call(this,"c")}function Hb(){}function Qb(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Sb(this),this.P=Yb,e=Sg?125:void 0,this.W=new gb(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $b}function $b(){this.i=null,this.g="",this.h=!1}eg(Kb,Mg),eg(Gb,Mg),eg(Hb,jb),Hb.prototype.g=function(){return new XMLHttpRequest},Hb.prototype.i=function(){return{}},qb=new Hb;var Yb=45e3,Xb={},Jb={};function Zb(e,t,n){e.K=1,e.v=xk(mk(t)),e.s=n,e.U=!0,ek(e,null)}function ek(e,t){e.F=Date.now(),ik(e),e.A=mk(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Lk(n.h,"t",r),e.C=0,n=e.l.H,e.h=new $b,e.g=Fw(e.l,n?t:null,!e.s),0<e.O&&(e.L=new xb(Jy(e.Ia,e,e.g),e.O)),Eb(e.V,e.g,"readystatechange",e.gb),t=e.H?vg(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ob(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function tk(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function nk(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=rk(e,n))==Jb){4==t&&(e.o=4,Lb(14),i=!1),Cb(e.j,e.m,null,"[Incomplete Response]");break}if(r==Xb){e.o=4,Lb(15),Cb(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Cb(e.j,e.m,r,null),ck(e,r)}tk(e)&&r!=Jb&&r!=Xb&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Lb(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Aw(t),t.L=!0,Lb(11))):(Cb(e.j,e.m,n,"[Invalid Chunked Response]"),sk(e),uk(e))}function rk(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Jb:(n=Number(t.substring(n,r)),isNaN(n)?Xb:(r+=1)+n>t.length?Jb:(t=t.substr(r,n),e.C=r+n,t))}function ik(e){e.Y=Date.now()+e.P,ak(e,e.P)}function ak(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Fb(Jy(e.eb,e),t)}function ok(e){e.B&&(Wy.clearTimeout(e.B),e.B=null)}function uk(e){0==e.l.G||e.I||Pw(e.l,e)}function sk(e){ok(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,bb(e.W),_b(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ck(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||qk(n.i,e)))if(n.I=e.N,!e.J&&qk(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Rw(n),kw(n)}Cw(n),Lb(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Fb(Jy(n.ab,n),6e3));if(1>=Bk(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Dw(n,11)}else if((e.J||n.g==e)&&Rw(n),!ug(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(lg(l,"spdy")||lg(l,"quic")||lg(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Wk(f,f.h),f.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,wk(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var h=e;if((r=n).oa=Mw(r,r.H?r.la:null,r.W),h.J){Kk(r.i,h);var p=h,v=r.K;v&&p.setTimeout(v),p.B&&(ok(p),ik(p)),r.g=h}else Tw(r);0<n.l.length&&Sw(n)}else"stop"!=a[0]&&"close"!=a[0]||Dw(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Dw(n,7):bw(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Ob(4)}catch(a){}}function lk(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Gy(e)||"string"===typeof e)ig(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Gy(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Gy(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function fk(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof fk)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function dk(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];hk(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)hk(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function hk(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(jy=Qb.prototype).setTimeout=function(e){this.P=e},jy.gb=function(e){e=e.target;var t=this.L;t&&3==pw(e)?t.l():this.Ia(e)},jy.Ia=function(e){try{if(e==this.g)e:{var t=pw(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Sg||this.g&&(this.h.h||this.g.ga()||vw(this.g)))){this.I||4!=t||7==n||Ob(8==n||0>=r?3:2),ok(this);var i=this.g.ba();this.N=i;t:if(tk(this)){var a=vw(this.g);e="";var o=a.length,u=4==pw(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){sk(this),uk(this);var s="";break t}this.h.i=new Wy.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ug(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Lb(12),sk(this),uk(this);break e}Cb(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ck(this,i)}this.U?(nk(this,t,s),Sg&&this.i&&3==t&&(Eb(this.V,this.W,"tick",this.fb),this.W.start())):(Cb(this.j,this.m,s,null),ck(this,s)),4==t&&sk(this),this.i&&!this.I&&(4==t?Pw(this.l,this):(this.i=!1,ik(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Lb(12)):(this.o=0,Lb(13)),sk(this),uk(this)}}}catch(t){}},jy.fb=function(){if(this.g){var e=pw(this.g),t=this.g.ga();this.C<t.length&&(ok(this),nk(this,e,t),this.i&&4!=e&&ik(this))}},jy.cancel=function(){this.I=!0,sk(this)},jy.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ob(3),Lb(17)),sk(this),this.o=2,uk(this)):ak(this,this.Y-e)},(jy=fk.prototype).R=function(){dk(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},jy.T=function(){return dk(this),this.g.concat()},jy.get=function(e,t){return hk(this.h,e)?this.h[e]:t},jy.set=function(e,t){hk(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},jy.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var pk=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vk(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof vk){this.g=void 0!==t?t:e.g,yk(this,e.j),this.s=e.s,gk(this,e.i),bk(this,e.m),this.l=e.l,t=e.h;var n=new Rk;n.i=t.i,t.g&&(n.g=new fk(t.g),n.h=t.h),kk(this,n),this.o=e.o}else e&&(n=String(e).match(pk))?(this.g=!!t,yk(this,n[1]||"",!0),this.s=Sk(n[2]||""),gk(this,n[3]||"",!0),bk(this,n[4]),this.l=Sk(n[5]||"",!0),kk(this,n[6]||"",!0),this.o=Sk(n[7]||"")):(this.g=!!t,this.h=new Rk(null,this.g))}function mk(e){return new vk(e)}function yk(e,t,n){e.j=n?Sk(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function gk(e,t,n){e.i=n?Sk(t,!0):t}function bk(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function kk(e,t,n){t instanceof Rk?(e.h=t,function(e,t){t&&!e.j&&(Pk(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ok(this,t),Lk(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Ik(t,Ak)),e.h=new Rk(t,e.g))}function wk(e,t,n){e.h.set(t,n)}function xk(e){return wk(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Sk(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ik(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ek),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ek(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}vk.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ik(t,_k,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ik(t,_k,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ik(n,"/"==n.charAt(0)?Ck:Tk,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ik(n,Nk)),e.join("")};var _k=/[#\/\?@]/g,Tk=/[#\?:]/g,Ck=/[#\?]/g,Ak=/[#\?@]/g,Nk=/#/g;function Rk(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Pk(e){e.g||(e.g=new fk,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ok(e,t){Pk(e),t=Mk(e,t),hk(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,hk((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&dk(e)))}function Dk(e,t){return Pk(e),t=Mk(e,t),hk(e.g.h,t)}function Lk(e,t,n){Ok(e,t),0<n.length&&(e.i=null,e.g.set(Mk(e,t),og(n)),e.h+=n.length)}function Mk(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(jy=Rk.prototype).add=function(e,t){Pk(this),this.i=null,e=Mk(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},jy.forEach=function(e,t){Pk(this),this.g.forEach((function(n,r){ig(n,(function(n){e.call(t,n,r,this)}),this)}),this)},jy.T=function(){Pk(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},jy.R=function(e){Pk(this);var t=[];if("string"===typeof e)Dk(this,e)&&(t=ag(t,this.g.get(Mk(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=ag(t,e[n])}return t},jy.set=function(e,t){return Pk(this),this.i=null,Dk(this,e=Mk(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},jy.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},jy.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Fk=ko((function e(t,n){go(this,e),this.h=t,this.g=n}));function Vk(e){this.l=e||jk,Wy.PerformanceNavigationTiming?e=0<(e=Wy.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Wy.g&&Wy.g.Ea&&Wy.g.Ea()&&Wy.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Uk,jk=10;function zk(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Bk(e){return e.h?1:e.g?e.g.size:0}function qk(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Wk(e,t){e.g?e.g.add(t):e.h=t}function Kk(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Gk(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=cs(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return og(e.i)}function Hk(){}function Qk(){this.g=new Hk}function $k(e,t,n){var r=n||"";try{lk(e,(function(e,n){var i=e;Hy(e)&&(i=ub(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Yk(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Xk(e){this.l=e.$b||null,this.j=e.ib||!1}function Jk(e,t){ib.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Zk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vk.prototype.cancel=function(){if(this.i=Gk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=cs(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Hk.prototype.stringify=function(e){return Wy.JSON.stringify(e,void 0)},Hk.prototype.parse=function(e){return Wy.JSON.parse(e,void 0)},eg(Xk,jb),Xk.prototype.g=function(){return new Jk(this.l,this.j)},Xk.prototype.i=(Uk={},function(){return Uk}),eg(Jk,ib);var Zk=0;function ew(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function tw(e){e.readyState=4,e.l=null,e.j=null,e.A=null,nw(e)}function nw(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(jy=Jk.prototype).open=function(e,t){if(this.readyState!=Zk)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,nw(this)},jy.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Wy).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},jy.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tw(this)),this.readyState=Zk},jy.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,nw(this)),this.g&&(this.readyState=3,nw(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Wy.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ew(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},jy.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tw(this):nw(this),3==this.readyState&&ew(this)}},jy.Ua=function(e){this.g&&(this.response=this.responseText=e,tw(this))},jy.Ta=function(e){this.g&&(this.response=e,tw(this))},jy.ha=function(){this.g&&tw(this)},jy.setRequestHeader=function(e,t){this.v.append(e,t)},jy.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},jy.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Jk.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var rw=Wy.JSON.parse;function iw(e){ib.call(this),this.headers=new fk,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=aw,this.K=this.L=!1}eg(iw,ib);var aw="",ow=/^https?$/i,uw=["POST","PUT"];function sw(e){return"content-type"==e.toLowerCase()}function cw(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,lw(e),dw(e)}function lw(e){e.D||(e.D=!0,ab(e,"complete"),ab(e,"error"))}function fw(e){if(e.h&&"undefined"!=typeof qy&&(!e.C[1]||4!=pw(e)||2!=e.ba()))if(e.v&&4==pw(e))kb(e.Fa,0,e);else if(ab(e,"readystatechange"),4==pw(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(pk)[1]||null;if(!a&&Wy.self&&Wy.self.location){var o=Wy.self.location.protocol;a=o.substr(0,o.length-1)}i=!ow.test(a?a.toLowerCase():"")}t=i}if(t)ab(e,"complete"),ab(e,"success");else{e.m=6;try{var u=2<pw(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",lw(e)}}finally{dw(e)}}}function dw(e,t){if(e.g){hw(e);var n=e.g,r=e.C[0]?Ky:null;e.g=null,e.C=null,t||ab(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function hw(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Wy.clearTimeout(e.A),e.A=null)}function pw(e){return e.g?e.g.readyState:0}function vw(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case aw:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function mw(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return pg(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):wk(e,t,n))}function yw(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function gw(e){this.za=0,this.l=[],this.h=new Tb,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=yw("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=yw("baseRetryDelayMs",5e3,e),this.$a=yw("retryDelaySeedMs",1e4,e),this.Ya=yw("forwardChannelMaxRetries",2,e),this.ra=yw("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Vk(e&&e.concurrentRequestLimit),this.Ca=new Qk,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function bw(e){if(ww(e),3==e.G){var t=e.V++,n=mk(e.F);wk(n,"SID",e.J),wk(n,"RID",t),wk(n,"TYPE","terminate"),Ew(e,n),(t=new Qb(e,e.h,t,void 0)).K=2,t.v=xk(mk(n)),n=!1,Wy.navigator&&Wy.navigator.sendBeacon&&(n=Wy.navigator.sendBeacon(t.v.toString(),"")),!n&&Wy.Image&&((new Image).src=t.v,n=!0),n||(t.g=Fw(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ik(t)}Lw(e)}function kw(e){e.g&&(Aw(e),e.g.cancel(),e.g=null)}function ww(e){kw(e),e.u&&(Wy.clearTimeout(e.u),e.u=null),Rw(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Wy.clearTimeout(e.m),e.m=null)}function xw(e,t){e.l.push(new Fk(e.Za++,t)),3==e.G&&Sw(e)}function Sw(e){zk(e.i)||e.m||(e.m=!0,pb(e.Ha,e),e.C=0)}function Iw(e,t){var n;n=t?t.m:e.V++;var r=mk(e.F);wk(r,"SID",e.J),wk(r,"RID",n),wk(r,"AID",e.U),Ew(e,r),e.o&&e.s&&mw(r,e.o,e.s),n=new Qb(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=_w(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Wk(e.i,n),Zb(n,r,t)}function Ew(e,t){e.j&&lk({},(function(e,n){wk(t,n,e)}))}function _w(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Jy(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{$k(l,o,"req"+c+"_")}catch(fx){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Tw(e){e.g||e.u||(e.Y=1,pb(e.Ga,e),e.A=0)}function Cw(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Fb(Jy(e.Ga,e),Ow(e,e.A)),e.A++,!0)}function Aw(e){null!=e.B&&(Wy.clearTimeout(e.B),e.B=null)}function Nw(e){e.g=new Qb(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=mk(e.oa);wk(t,"RID","rpc"),wk(t,"SID",e.J),wk(t,"CI",e.N?"0":"1"),wk(t,"AID",e.U),Ew(e,t),wk(t,"TYPE","xmlhttp"),e.o&&e.s&&mw(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=xk(mk(t)),n.s=null,n.U=!0,ek(n,e)}function Rw(e){null!=e.v&&(Wy.clearTimeout(e.v),e.v=null)}function Pw(e,t){var n=null;if(e.g==t){Rw(e),Aw(e),e.g=null;var r=2}else{if(!qk(e.i,t))return;n=t.D,Kk(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ab(r=Rb(),new Mb(r,n,t,i)),Sw(e)}else Tw(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Bk(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Fb(Jy(e.Ha,e,t),Ow(e,e.C)),e.C++,!0))}(e,t)||2==r&&Cw(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Dw(e,5);break;case 4:Dw(e,10);break;case 3:Dw(e,6);break;default:Dw(e,2)}}function Ow(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Dw(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Jy(e.jb,e);n||(n=new vk("//www.google.com/images/cleardot.gif"),Wy.location&&"http"==Wy.location.protocol||yk(n,"https"),xk(n)),function(e,t){var n=new Tb;if(Wy.Image){var r=new Image;r.onload=Zy(Yk,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Zy(Yk,n,r,"TestLoadImage: error",!1,t),r.onabort=Zy(Yk,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Zy(Yk,n,r,"TestLoadImage: timeout",!1,t),Wy.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Lb(2);e.G=0,e.j&&e.j.va(t),Lw(e),ww(e)}function Lw(e){e.G=0,e.I=-1,e.j&&(0==Gk(e.i).length&&0==e.l.length||(e.i.i.length=0,og(e.l),e.l.length=0),e.j.ua())}function Mw(e,t,n){var r=function(e){return e instanceof vk?mk(e):new vk(e,void 0)}(n);if(""!=r.i)t&&gk(r,t+"."+r.i),bk(r,r.m);else{var i=Wy.location;r=function(e,t,n,r){var i=new vk(null,void 0);return e&&yk(i,e),t&&gk(i,t),n&&bk(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&pg(e.aa,(function(e,t){wk(r,t,e)})),t=e.D,n=e.sa,t&&n&&wk(r,t,n),wk(r,"VER",e.ma),Ew(e,r),r}function Fw(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new iw(new Xk({ib:!0})):new iw(e.qa)).L=e.H,t}function Vw(){}function Uw(){if(wg&&!(10<=Number(Dg)))throw Error("Environmental error: no available transport.")}function jw(e,t){ib.call(this),this.g=new gw(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ug(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ug(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new qw(this)}function zw(e){Kb.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Bw(){Gb.call(this),this.status=1}function qw(e){this.g=e}(jy=iw.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qb.g(),this.C=this.u?zb(this.u):zb(qb),this.g.onreadystatechange=Jy(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void cw(this,a)}e=n||"";var i=new fk(this.headers);r&&lk(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=sw,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Wy.FormData&&e instanceof Wy.FormData,!(0<=rg(uw,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hw(this),0<this.B&&((this.K=function(e){return wg&&Pg()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jy(this.pa,this)):this.A=kb(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){cw(this,a)}},jy.pa=function(){"undefined"!=typeof qy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ab(this,"timeout"),this.abort(8))},jy.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ab(this,"complete"),ab(this,"abort"),dw(this))},jy.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dw(this,!0)),iw.Z.M.call(this)},jy.Fa=function(){this.s||(this.F||this.v||this.l?fw(this):this.cb())},jy.cb=function(){fw(this)},jy.ba=function(){try{return 2<pw(this)?this.g.status:-1}catch(Uk){return-1}},jy.ga=function(){try{return this.g?this.g.responseText:""}catch(Uk){return""}},jy.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),rw(t)}},jy.Da=function(){return this.m},jy.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(jy=gw.prototype).ma=8,jy.G=1,jy.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},jy.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Qb(this,this.h,e,void 0),n=this.s;if(this.P&&(n?yg(n=vg(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=_w(this,t,r),wk(i=mk(this.F),"RID",e),wk(i,"CVER",22),this.D&&wk(i,"X-HTTP-Session-Id",this.D),Ew(this,i),this.o&&n&&mw(i,this.o,n),Wk(this.i,t),this.Ra&&wk(i,"TYPE","init"),this.ja?(wk(i,"$req",r),wk(i,"SID","null"),t.$=!0,Zb(t,i,null)):Zb(t,i,r),this.G=2}}else 3==this.G&&(e?Iw(this,e):0==this.l.length||zk(this.i)||Iw(this))},jy.Ga=function(){if(this.u=null,Nw(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Fb(Jy(this.bb,this),e)}},jy.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Lb(10),kw(this),Nw(this))},jy.ab=function(){null!=this.v&&(this.v=null,kw(this),Cw(this),Lb(19))},jy.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Lb(2)):(this.h.info("Failed to ping google.com"),Lb(1))},(jy=Vw.prototype).xa=function(){},jy.wa=function(){},jy.va=function(){},jy.ua=function(){},jy.Oa=function(){},Uw.prototype.g=function(e,t){return new jw(e,t)},eg(jw,ib),jw.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),pb(Jy(e.hb,e,t))),Lb(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Mw(e,null,e.W),Sw(e)},jw.prototype.close=function(){bw(this.g)},jw.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,xw(this.g,t)}else this.v?((t={}).__data__=ub(e),xw(this.g,t)):xw(this.g,e)},jw.prototype.M=function(){this.g.j=null,delete this.j,bw(this.g),delete this.g,jw.Z.M.call(this)},eg(zw,Kb),eg(Bw,Gb),eg(qw,Vw),qw.prototype.xa=function(){ab(this.g,"a")},qw.prototype.wa=function(e){ab(this.g,new zw(e))},qw.prototype.va=function(e){ab(this.g,new Bw(e))},qw.prototype.ua=function(){ab(this.g,"b")},Uw.prototype.createWebChannel=Uw.prototype.g,jw.prototype.send=jw.prototype.u,jw.prototype.open=jw.prototype.m,jw.prototype.close=jw.prototype.close,Vb.NO_ERROR=0,Vb.TIMEOUT=8,Vb.HTTP_ERROR=6,Ub.COMPLETE="complete",Bb.EventType=Wb,Wb.OPEN="a",Wb.CLOSE="b",Wb.ERROR="c",Wb.MESSAGE="d",ib.prototype.listen=ib.prototype.N,iw.prototype.listenOnce=iw.prototype.O,iw.prototype.getLastError=iw.prototype.La,iw.prototype.getLastErrorCode=iw.prototype.Da,iw.prototype.getStatus=iw.prototype.ba,iw.prototype.getResponseJson=iw.prototype.Qa,iw.prototype.getResponseText=iw.prototype.ga,iw.prototype.send=iw.prototype.ea;var Ww=By.createWebChannelTransport=function(){return new Uw},Kw=By.getStatEventTarget=function(){return Rb()},Gw=By.ErrorCode=Vb,Hw=By.EventType=Ub,Qw=By.Event=Ab,$w=By.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Yw=By.FetchXmlHttpFactory=Xk,Xw=By.WebChannel=Bb,Jw=By.XhrIo=iw,Zw="@firebase/firestore",ex=function(){function e(t){go(this,e),this.uid=t}return ko(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ex.UNAUTHENTICATED=new ex(null),ex.GOOGLE_CREDENTIALS=new ex("google-credentials-uid"),ex.FIRST_PARTY=new ex("first-party-uid"),ex.MOCK_USER=new ex("mock-user");var tx="9.9.2",nx=new sc("@firebase/firestore");function rx(){return nx.logLevel}function ix(e){if(nx.logLevel<=tc.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ux);nx.debug.apply(nx,["Firestore (".concat(tx,"): ").concat(e)].concat(b(i)))}}function ax(e){if(nx.logLevel<=tc.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ux);nx.error.apply(nx,["Firestore (".concat(tx,"): ").concat(e)].concat(b(i)))}}function ox(e){if(nx.logLevel<=tc.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ux);nx.warn.apply(nx,["Firestore (".concat(tx,"): ").concat(e)].concat(b(i)))}}function ux(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function sx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(tx,") INTERNAL ASSERTION FAILED: ")+e;throw ax(t),new Error(t)}function cx(e,t){e||sx()}function lx(e,t){return e}var fx={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},dx=function(e){fs(n,e);var t=ms(n);function n(e,r){var i;return go(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return ko(n)}(Os),hx=ko((function e(){var t=this;go(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),px=ko((function e(t,n){go(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),vx=function(){function e(){go(this,e)}return ko(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ex.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),mx=function(){function e(t){go(this,e),this.token=t,this.changeListener=null}return ko(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),yx=function(){function e(t){go(this,e),this.t=t,this.currentUser=ex.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return ko(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new hx;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new hx,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable($s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){ix("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(ix("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new hx)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(ix("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(cx("string"==typeof n.accessToken),new px(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return cx(null===e||"string"==typeof e),new ex(e)}}]),e}(),gx=ko((function e(t,n,r){go(this,e),this.type="FirstParty",this.user=ex.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),bx=function(){function e(t,n,r){go(this,e),this.h=t,this.l=n,this.m=r}return ko(e,[{key:"getToken",value:function(){return Promise.resolve(new gx(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ex.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),kx=ko((function e(t){go(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),wx=function(){function e(t){go(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return ko(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&ix("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,ix("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){ix("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):ix("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(cx("string"==typeof t.token),e.p=t.token,new kx(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function xx(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Sx=function(){function e(){go(this,e)}return ko(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=xx(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Ix(e,t){return e<t?-1:e>t?1:0}function Ex(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function _x(e){return e+"\0"}var Tx=function(){function e(t,n){if(go(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new dx(fx.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new dx(fx.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new dx(fx.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dx(fx.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return ko(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Ix(this.nanoseconds,e.nanoseconds):Ix(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Cx=function(){function e(t){go(this,e),this.timestamp=t}return ko(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Tx(0,0))}},{key:"max",value:function(){return new e(new Tx(253402300799,999999999))}}]),e}(),Ax=function(){function e(t,n,r){go(this,e),void 0===n?n=0:n>t.length&&sx(),void 0===r?r=t.length-n:r>t.length-n&&sx(),this.segments=t,this.offset=n,this.len=r}return ko(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Nx=function(e){fs(n,e);var t=ms(n);function n(){return go(this,n),t.apply(this,arguments)}return ko(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new dx(fx.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,b(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ax),Rx=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Px=function(e){fs(n,e);var t=ms(n);function n(){return go(this,n),t.apply(this,arguments)}return ko(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Rx.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new dx(fx.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new dx(fx.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new dx(fx.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new dx(fx.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ax),Ox=function(){function e(t){go(this,e),this.path=t}return ko(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Nx.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Nx.fromString(t))}},{key:"fromName",value:function(t){return new e(Nx.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Nx.emptyPath())}},{key:"comparator",value:function(e,t){return Nx.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Nx(t.slice()))}}]),e}(),Dx=ko((function e(t,n,r,i){go(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Lx(e){return e.fields.find((function(e){return 2===e.kind}))}function Mx(e){return e.fields.filter((function(e){return 2!==e.kind}))}Dx.UNKNOWN_ID=-1;var Fx=ko((function e(t,n){go(this,e),this.fieldPath=t,this.kind=n}));var Vx=function(){function e(t,n){go(this,e),this.sequenceNumber=t,this.offset=n}return ko(e,null,[{key:"empty",value:function(){return new e(0,zx.min())}}]),e}();function Ux(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Cx.fromTimestamp(1e9===r?new Tx(n+1,0):new Tx(n,r));return new zx(i,Ox.empty(),t)}function jx(e){return new zx(e.readTime,e.key,-1)}var zx=function(){function e(t,n,r){go(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return ko(e,null,[{key:"min",value:function(){return new e(Cx.min(),Ox.empty(),-1)}},{key:"max",value:function(){return new e(Cx.max(),Ox.empty(),-1)}}]),e}();function Bx(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Ox.comparator(e.documentKey,t.documentKey))?n:Ix(e.largestBatchId,t.largestBatchId)}var qx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Wx=function(){function e(){go(this,e),this.onCommittedListeners=[]}return ko(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Kx(e){return Gx.apply(this,arguments)}function Gx(){return Gx=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===fx.FAILED_PRECONDITION&&t.message===qx){e.next=2;break}throw t;case 2:ix("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Gx.apply(this,arguments)}var Hx=function(){function e(t){var n=this;go(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return ko(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&sx(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=cs(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Qx=function(){function e(t,n){var r=this;go(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new hx,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new Xx(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=nS(e.target.error);r.T.reject(new Xx(t,n))}}return ko(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(ix("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Zx(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Xx(n,t)}}}]),e}(),$x=function(){function e(t,n,r){go(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(_s())&&ax("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return ko(e,[{key:"k",value:function(){var e=$s(Hs().mark((function e(t){var n=this;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return ix("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Xx(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new dx(fx.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new dx(fx.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Xx(t,n))},i.onupgradeneeded=function(e){ix("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.M(t,i.transaction,e.oldVersion,n.version).next((function(){ix("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.O&&(this.db.onversionchange=function(e){return n.O(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.O=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=$s(Hs().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Hs().mark((function e(){var n,o;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.k(t);case 2:return l.db=e.sent,n=Qx.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),Hx.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,ix("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return ix("SimpleDb","Removing database:",e),eS(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!Ps())return!1;if(e.S())return!0;var t=_s(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Yx=function(){function e(t){go(this,e),this.$=t,this.B=!1,this.L=null}return ko(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return eS(this.$.delete())}}]),e}(),Xx=function(e){fs(n,e);var t=ms(n);function n(e,r){var i;return go(this,n),(i=t.call(this,fx.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return ko(n)}(dx);function Jx(e){return"IndexedDbTransactionError"===e.name}var Zx=function(){function e(t){go(this,e),this.store=t}return ko(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(ix("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ix("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),eS(n)}},{key:"add",value:function(e){return ix("SimpleDb","ADD",this.store.name,e,e),eS(this.store.add(e))}},{key:"get",value:function(e){var t=this;return eS(this.store.get(e)).next((function(n){return void 0===n&&(n=null),ix("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return ix("SimpleDb","DELETE",this.store.name,e),eS(this.store.delete(e))}},{key:"count",value:function(){return ix("SimpleDb","COUNT",this.store.name),eS(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Hx((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Hx((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){ix("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new Hx((function(n,r){t.onerror=function(e){var t=nS(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new Hx((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Yx(i),o=t(i.primaryKey,i.value,a);if(o instanceof Hx){var u=o.catch((function(e){return a.done(),Hx.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return Hx.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function eS(e){return new Hx((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=nS(e.target.error);n(t)}}))}var tS=!1;function nS(e){var t=$x.v(_s());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new dx("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return tS||(tS=!0,setTimeout((function(){throw r}),0)),r}}return e}var rS=function(){function e(t,n){go(this,e),this.asyncQueue=t,this.X=n,this.task=null}return ko(e,[{key:"start",value:function(){this.Z(15)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;ix("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,$s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=ix,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Jx(e.t4)){e.next=17;break}ix("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Kx(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),iS=function(){function e(t,n){go(this,e),this.localStore=t,this.persistence=n}return ko(e,[{key:"tt",value:function(){var e=$s(Hs().mark((function e(){var t,n=this,r=arguments;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Hx.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return ix("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return ix("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=jx(t);Bx(r,n)>0&&(n=r)})),new zx(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),aS=function(){function e(t,n){var r=this;go(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return ko(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function oS(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function uS(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function sS(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}aS.ot=-1;var cS=function(){function e(t,n){go(this,e),this.comparator=t,this.root=n||fS.EMPTY}return ko(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,fS.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fS.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new lS(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new lS(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new lS(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new lS(this.root,e,this.comparator,!0)}}]),e}(),lS=function(){function e(t,n,r,i){go(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return ko(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),fS=function(){function e(t,n,r,i,a){go(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return ko(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw sx();if(this.right.isRed())throw sx();var e=this.left.check();if(e!==this.right.check())throw sx();return e+(this.isRed()?0:1)}}]),e}();fS.EMPTY=null,fS.RED=!0,fS.BLACK=!1,fS.EMPTY=new(function(){function e(){go(this,e),this.size=0}return ko(e,[{key:"key",get:function(){throw sx()}},{key:"value",get:function(){throw sx()}},{key:"color",get:function(){throw sx()}},{key:"left",get:function(){throw sx()}},{key:"right",get:function(){throw sx()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new fS(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var dS=function(){function e(t){go(this,e),this.comparator=t,this.data=new cS(this.comparator)}return ko(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new hS(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new hS(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),hS=function(){function e(t){go(this,e),this.iter=t}return ko(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function pS(e){return e.hasNext()?e.getNext():void 0}var vS=function(){function e(t){go(this,e),this.fields=t,t.sort(Px.comparator)}return ko(e,[{key:"unionWith",value:function(t){var n,r=new dS(Px.comparator),i=cs(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=cs(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=cs(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ex(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var mS=function(e){function t(e){go(this,t),this.binaryString=e}return ko(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Ix(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();mS.EMPTY_BYTE_STRING=new mS("");var yS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gS(e){if(cx(!!e),"string"==typeof e){var t=0,n=yS.exec(e);if(cx(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:bS(e.seconds),nanos:bS(e.nanos)}}function bS(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function kS(e){return"string"==typeof e?mS.fromBase64String(e):mS.fromUint8Array(e)}function wS(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xS(e){var t=e.mapValue.fields.__previous_value__;return wS(t)?xS(t):t}function SS(e){var t=gS(e.mapValue.fields.__local_write_time__.timestampValue);return new Tx(t.seconds,t.nanos)}var IS=ko((function e(t,n,r,i,a,o,u,s){go(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),ES=function(){function e(t,n){go(this,e),this.projectId=t,this.database=n||"(default)"}return ko(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function _S(e){return null==e}function TS(e){return 0===e&&1/e==-1/0}function CS(e){return"number"==typeof e&&Number.isInteger(e)&&!TS(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var AS={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},NS={nullValue:"NULL_VALUE"};function RS(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?wS(e)?4:KS(e)?9007199254740991:10:sx()}function PS(e,t){if(e===t)return!0;var n=RS(e);if(n!==RS(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return SS(e).isEqual(SS(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=gS(e.timestampValue),r=gS(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return kS(e.bytesValue).isEqual(kS(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return bS(e.geoPointValue.latitude)===bS(t.geoPointValue.latitude)&&bS(e.geoPointValue.longitude)===bS(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return bS(e.integerValue)===bS(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=bS(e.doubleValue),r=bS(t.doubleValue);return n===r?TS(n)===TS(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ex(e.arrayValue.values||[],t.arrayValue.values||[],PS);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(oS(n)!==oS(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!PS(n[i],r[i])))return!1;return!0}(e,t);default:return sx()}}function OS(e,t){return void 0!==(e.values||[]).find((function(e){return PS(e,t)}))}function DS(e,t){if(e===t)return 0;var n=RS(e),r=RS(t);if(n!==r)return Ix(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ix(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=bS(e.integerValue||e.doubleValue),r=bS(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return LS(e.timestampValue,t.timestampValue);case 4:return LS(SS(e),SS(t));case 5:return Ix(e.stringValue,t.stringValue);case 6:return function(e,t){var n=kS(e),r=kS(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Ix(n[i],r[i]);if(0!==a)return a}return Ix(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ix(bS(e.latitude),bS(t.latitude));return 0!==n?n:Ix(bS(e.longitude),bS(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=DS(n[i],r[i]);if(a)return a}return Ix(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===AS.mapValue&&t===AS.mapValue)return 0;if(e===AS.mapValue)return 1;if(t===AS.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Ix(r[o],a[o]);if(0!==u)return u;var s=DS(n[r[o]],i[a[o]]);if(0!==s)return s}return Ix(r.length,a.length)}(e.mapValue,t.mapValue);default:throw sx()}}function LS(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ix(e,t);var n=gS(e),r=gS(t),i=Ix(n.seconds,r.seconds);return 0!==i?i:Ix(n.nanos,r.nanos)}function MS(e){return FS(e)}function FS(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=gS(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?kS(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ox.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=cs(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=FS(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=cs(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(FS(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):sx();var t,n}function VS(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function US(e){return!!e&&"integerValue"in e}function jS(e){return!!e&&"arrayValue"in e}function zS(e){return!!e&&"nullValue"in e}function BS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function qS(e){return!!e&&"mapValue"in e}function WS(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return uS(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=WS(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=WS(e.arrayValue.values[r]);return n}return Object.assign({},e)}function KS(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function GS(e){return"nullValue"in e?NS:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?VS(ES.empty(),Ox.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:sx()}function HS(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?VS(ES.empty(),Ox.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?AS:sx()}function QS(e,t){var n=DS(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function $S(e,t){var n=DS(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var YS=function(){function e(t){go(this,e),this.value=t}return ko(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!qS(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=WS(t)}},{key:"setAll",value:function(e){var t=this,n=Px.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=WS(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());qS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return PS(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];qS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){uS(t,(function(t,n){return e[t]=n}));var r,i=cs(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(WS(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function XS(e){var t=[];return uS(e.fields,(function(e,n){var r=new Px([e]);if(qS(n)){var i=XS(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=cs(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new vS(t)}var JS=function(){function e(t,n,r,i,a,o){go(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return ko(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=YS.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=YS.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Cx.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Cx.min(),Cx.min(),YS.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Cx.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Cx.min(),YS.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Cx.min(),YS.empty(),2)}}]),e}(),ZS=ko((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;go(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ut=null}));function eI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new ZS(e,t,n,r,i,a,o)}function tI(e){var t=lx(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+MS(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),_S(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return MS(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return MS(e)})).join(",")),t.ut=n}return t.ut}function nI(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!gI(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!PS(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!kI(e.startAt,t.startAt)&&kI(e.endAt,t.endAt)}function rI(e){return Ox.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function iI(e,t){return e.filters.filter((function(e){return e instanceof uI&&e.field.isEqual(t)}))}function aI(e,t,n){var r,i=NS,a=!0,o=cs(iI(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=NS,c=!0;switch(u.op){case"<":case"<=":s=GS(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=NS}QS({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];QS({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function oI(e,t,n){var r,i=AS,a=!0,o=cs(iI(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=AS,c=!0;switch(u.op){case">=":case">":s=HS(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=AS}$S({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];$S({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var uI=function(e){fs(n,e);var t=ms(n);function n(e,r,i){var a;return go(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return ko(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(DS(t,this.value)):null!==t&&RS(this.value)===RS(t)&&this.at(DS(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return sx()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new sI(e,t,r):"array-contains"===t?new dI(e,r):"in"===t?new hI(e,r):"not-in"===t?new pI(e,r):"array-contains-any"===t?new vI(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new cI(e,n):new lI(e,n)}}]),n}(function(){return ko((function e(){go(this,e)}))}()),sI=function(e){fs(n,e);var t=ms(n);function n(e,r,i){var a;return go(this,n),(a=t.call(this,e,r,i)).key=Ox.fromName(i.referenceValue),a}return ko(n,[{key:"matches",value:function(e){var t=Ox.comparator(e.key,this.key);return this.at(t)}}]),n}(uI),cI=function(e){fs(n,e);var t=ms(n);function n(e,r){var i;return go(this,n),(i=t.call(this,e,"in",r)).keys=fI("in",r),i}return ko(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(uI),lI=function(e){fs(n,e);var t=ms(n);function n(e,r){var i;return go(this,n),(i=t.call(this,e,"not-in",r)).keys=fI("not-in",r),i}return ko(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(uI);function fI(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ox.fromName(e.referenceValue)}))}var dI=function(e){fs(n,e);var t=ms(n);function n(e,r){return go(this,n),t.call(this,e,"array-contains",r)}return ko(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return jS(t)&&OS(t.arrayValue,this.value)}}]),n}(uI),hI=function(e){fs(n,e);var t=ms(n);function n(e,r){return go(this,n),t.call(this,e,"in",r)}return ko(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&OS(this.value.arrayValue,t)}}]),n}(uI),pI=function(e){fs(n,e);var t=ms(n);function n(e,r){return go(this,n),t.call(this,e,"not-in",r)}return ko(n,[{key:"matches",value:function(e){if(OS(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!OS(this.value.arrayValue,t)}}]),n}(uI),vI=function(e){fs(n,e);var t=ms(n);function n(e,r){return go(this,n),t.call(this,e,"array-contains-any",r)}return ko(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!jS(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return OS(t.value.arrayValue,e)}))}}]),n}(uI),mI=ko((function e(t,n){go(this,e),this.position=t,this.inclusive=n})),yI=ko((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";go(this,e),this.field=t,this.dir=n}));function gI(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function bI(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ox.comparator(Ox.fromName(o.referenceValue),n.key):DS(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function kI(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!PS(e.position[n],t.position[n]))return!1;return!0}var wI=ko((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;go(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.lt=null,this.ft=null,this.startAt,this.endAt}));function xI(e,t,n,r,i,a,o,u){return new wI(e,t,n,r,i,a,o,u)}function SI(e){return new wI(e)}function II(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function EI(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function _I(e){var t,n=cs(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function TI(e){return null!==e.collectionGroup}function CI(e){var t=lx(e);if(null===t.lt){t.lt=[];var n=_I(t),r=EI(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new yI(n)),t.lt.push(new yI(Px.keyField(),"asc"));else{var i,a=!1,o=cs(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.lt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new yI(Px.keyField(),s))}}}return t.lt}function AI(e){var t=lx(e);if(!t.ft)if("F"===t.limitType)t.ft=eI(t.path,t.collectionGroup,CI(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=cs(CI(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new yI(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new mI(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new mI(t.startAt.position,t.startAt.inclusive):null;t.ft=eI(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.ft}function NI(e,t,n){return new wI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function RI(e,t){return nI(AI(e),AI(t))&&e.limitType===t.limitType}function PI(e){return"".concat(tI(AI(e)),"|lt:").concat(e.limitType)}function OI(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(MS(t.value));var t})).join(", "),"]")),_S(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return MS(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return MS(e)})).join(",")),"Target(".concat(t,")")}(AI(e)),"; limitType=").concat(e.limitType,")")}function DI(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ox.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=cs(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=cs(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=bI(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,CI(e),t))&&!(e.endAt&&!function(e,t,n){var r=bI(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,CI(e),t))}(e,t)}function LI(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function MI(e){return function(t,n){var r,i=!1,a=cs(CI(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=FI(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function FI(e,t,n){var r=e.field.isKeyField()?Ox.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?DS(r,i):sx()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return sx()}}function VI(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:TS(t)?"-0":t}}function UI(e){return{integerValue:""+e}}function jI(e,t){return CS(t)?UI(t):VI(e,t)}var zI=ko((function e(){go(this,e),this._=void 0}));function BI(e,t,n){return e instanceof KI?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof GI?HI(e,t):e instanceof QI?$I(e,t):function(e,t){var n=WI(e,t),r=XI(n)+XI(e._t);return US(n)&&US(e._t)?UI(r):VI(e.wt,r)}(e,t)}function qI(e,t,n){return e instanceof GI?HI(e,t):e instanceof QI?$I(e,t):n}function WI(e,t){return e instanceof YI?US(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var KI=function(e){fs(n,e);var t=ms(n);function n(){return go(this,n),t.apply(this,arguments)}return ko(n)}(zI),GI=function(e){fs(n,e);var t=ms(n);function n(e){var r;return go(this,n),(r=t.call(this)).elements=e,r}return ko(n)}(zI);function HI(e,t){var n,r=JI(t),i=cs(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return PS(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var QI=function(e){fs(n,e);var t=ms(n);function n(e){var r;return go(this,n),(r=t.call(this)).elements=e,r}return ko(n)}(zI);function $I(e,t){var n,r=JI(t),i=cs(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!PS(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var YI=function(e){fs(n,e);var t=ms(n);function n(e,r){var i;return go(this,n),(i=t.call(this)).wt=e,i._t=r,i}return ko(n)}(zI);function XI(e){return bS(e.integerValue||e.doubleValue)}function JI(e){return jS(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ZI=ko((function e(t,n){go(this,e),this.field=t,this.transform=n}));var eE=ko((function e(t,n){go(this,e),this.version=t,this.transformResults=n})),tE=function(){function e(t,n){go(this,e),this.updateTime=t,this.exists=n}return ko(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function nE(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var rE=ko((function e(){go(this,e)}));function iE(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new mE(e.key,tE.none()):new cE(e.key,e.data,tE.none());var n,r=e.data,i=YS.empty(),a=new dS(Px.comparator),o=cs(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new lE(e.key,i,new vS(a.toArray()),tE.none())}function aE(e,t,n){e instanceof cE?function(e,t,n){var r=e.value.clone(),i=dE(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof lE?function(e,t,n){if(nE(e.precondition,t)){var r=dE(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(fE(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function oE(e,t,n,r){return e instanceof cE?function(e,t,n,r){if(!nE(e.precondition,t))return n;var i=e.value.clone(),a=hE(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof lE?function(e,t,n,r){if(!nE(e.precondition,t))return n;var i=hE(e.fieldTransforms,r,t),a=t.data;return a.setAll(fE(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return nE(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function uE(e,t){var n,r=null,i=cs(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=WI(a.transform,o||null);null!=u&&(null===r&&(r=YS.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function sE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ex(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof GI&&t instanceof GI||e instanceof QI&&t instanceof QI?Ex(e.elements,t.elements,PS):e instanceof YI&&t instanceof YI?PS(e._t,t._t):e instanceof KI&&t instanceof KI}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var cE=function(e){fs(n,e);var t=ms(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return go(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return ko(n,[{key:"getFieldMask",value:function(){return null}}]),n}(rE),lE=function(e){fs(n,e);var t=ms(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return go(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return ko(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(rE);function fE(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function dE(e,t,n){var r=new Map;cx(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,qI(o,u,n[i]))}return r}function hE(e,t,n){var r,i=new Map,a=cs(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,BI(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var pE,vE,mE=function(e){fs(n,e);var t=ms(n);function n(e,r){var i;return go(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ko(n,[{key:"getFieldMask",value:function(){return null}}]),n}(rE),yE=function(e){fs(n,e);var t=ms(n);function n(e,r){var i;return go(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ko(n,[{key:"getFieldMask",value:function(){return null}}]),n}(rE),gE=ko((function e(t){go(this,e),this.count=t}));function bE(e){switch(e){default:return sx();case fx.CANCELLED:case fx.UNKNOWN:case fx.DEADLINE_EXCEEDED:case fx.RESOURCE_EXHAUSTED:case fx.INTERNAL:case fx.UNAVAILABLE:case fx.UNAUTHENTICATED:return!1;case fx.INVALID_ARGUMENT:case fx.NOT_FOUND:case fx.ALREADY_EXISTS:case fx.PERMISSION_DENIED:case fx.FAILED_PRECONDITION:case fx.ABORTED:case fx.OUT_OF_RANGE:case fx.UNIMPLEMENTED:case fx.DATA_LOSS:return!0}}function kE(e){if(void 0===e)return ax("GRPC error has no .code"),fx.UNKNOWN;switch(e){case pE.OK:return fx.OK;case pE.CANCELLED:return fx.CANCELLED;case pE.UNKNOWN:return fx.UNKNOWN;case pE.DEADLINE_EXCEEDED:return fx.DEADLINE_EXCEEDED;case pE.RESOURCE_EXHAUSTED:return fx.RESOURCE_EXHAUSTED;case pE.INTERNAL:return fx.INTERNAL;case pE.UNAVAILABLE:return fx.UNAVAILABLE;case pE.UNAUTHENTICATED:return fx.UNAUTHENTICATED;case pE.INVALID_ARGUMENT:return fx.INVALID_ARGUMENT;case pE.NOT_FOUND:return fx.NOT_FOUND;case pE.ALREADY_EXISTS:return fx.ALREADY_EXISTS;case pE.PERMISSION_DENIED:return fx.PERMISSION_DENIED;case pE.FAILED_PRECONDITION:return fx.FAILED_PRECONDITION;case pE.ABORTED:return fx.ABORTED;case pE.OUT_OF_RANGE:return fx.OUT_OF_RANGE;case pE.UNIMPLEMENTED:return fx.UNIMPLEMENTED;case pE.DATA_LOSS:return fx.DATA_LOSS;default:return sx()}}(vE=pE||(pE={}))[vE.OK=0]="OK",vE[vE.CANCELLED=1]="CANCELLED",vE[vE.UNKNOWN=2]="UNKNOWN",vE[vE.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vE[vE.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vE[vE.NOT_FOUND=5]="NOT_FOUND",vE[vE.ALREADY_EXISTS=6]="ALREADY_EXISTS",vE[vE.PERMISSION_DENIED=7]="PERMISSION_DENIED",vE[vE.UNAUTHENTICATED=16]="UNAUTHENTICATED",vE[vE.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vE[vE.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vE[vE.ABORTED=10]="ABORTED",vE[vE.OUT_OF_RANGE=11]="OUT_OF_RANGE",vE[vE.UNIMPLEMENTED=12]="UNIMPLEMENTED",vE[vE.INTERNAL=13]="INTERNAL",vE[vE.UNAVAILABLE=14]="UNAVAILABLE",vE[vE.DATA_LOSS=15]="DATA_LOSS";var wE=function(){function e(t,n){go(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return ko(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=cs(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){uS(this.inner,(function(t,n){var r,i=cs(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return sS(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),xE=new cS(Ox.comparator);function SE(){return xE}var IE=new cS(Ox.comparator);function EE(){for(var e=IE,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function _E(e){var t=IE;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function TE(){return AE()}function CE(){return AE()}function AE(){return new wE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var NE=new cS(Ox.comparator),RE=new dS(Ox.comparator);function PE(){for(var e=RE,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var OE=new dS(Ix);function DE(){return OE}var LE=function(){function e(t,n,r,i,a){go(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return ko(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,ME.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Cx.min(),r,DE(),SE(),PE())}}]),e}(),ME=function(){function e(t,n,r,i,a){go(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return ko(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(mS.EMPTY_BYTE_STRING,n,PE(),PE(),PE())}}]),e}(),FE=ko((function e(t,n,r,i){go(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),VE=ko((function e(t,n){go(this,e),this.targetId=t,this.It=n})),UE=ko((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mS.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;go(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),jE=function(){function e(){go(this,e),this.Tt=0,this.Et=qE(),this.At=mS.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return ko(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=PE(),t=PE(),n=PE();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:sx()}})),new ME(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=qE()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Mt",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),zE=function(){function e(t){go(this,e),this.Ot=t,this.Ft=new Map,this.$t=SE(),this.Bt=BE(),this.Lt=new dS(Ix)}return ko(e,[{key:"Ut",value:function(e){var t,n=cs(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(u){n.e(u)}finally{n.f()}var i,a=cs(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:sx()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(rI(i))if(0===n){var a=new Ox(i.path);this.Kt(t,a,JS.newNoDocument(a,Cx.min()))}else cx(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&rI(a.target)){var o=new Ox(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,JS.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=PE();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new LE(e,n,this.Lt,this.$t,r);return this.$t=SE(),this.Bt=BE(),this.Lt=new dS(Ix),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new jE,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new dS(Ix),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||ix("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new jE),this.Ot.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}]),e}();function BE(){return new cS(Ox.comparator)}function qE(){return new cS(Ox.comparator)}var WE={asc:"ASCENDING",desc:"DESCENDING"},KE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GE=ko((function e(t,n){go(this,e),this.databaseId=t,this.dt=n}));function HE(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function QE(e,t){return e.dt?t.toBase64():t.toUint8Array()}function $E(e,t){return HE(e,t.toTimestamp())}function YE(e){return cx(!!e),Cx.fromTimestamp(function(e){var t=gS(e);return new Tx(t.seconds,t.nanos)}(e))}function XE(e,t){return function(e){return new Nx(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function JE(e){var t=Nx.fromString(e);return cx(w_(t)),t}function ZE(e,t){return XE(e.databaseId,t.path)}function e_(e,t){var n=JE(t);if(n.get(1)!==e.databaseId.projectId)throw new dx(fx.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new dx(fx.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ox(i_(n))}function t_(e,t){return XE(e.databaseId,t)}function n_(e){var t=JE(e);return 4===t.length?Nx.emptyPath():i_(t)}function r_(e){return new Nx(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function i_(e){return cx(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function a_(e,t,n){return{name:ZE(e,t),fields:n.value.mapValue.fields}}function o_(e,t,n){var r=e_(e,t.name),i=YE(t.updateTime),a=new YS({mapValue:{fields:t.fields}}),o=JS.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function u_(e,t){return"found"in t?function(e,t){cx(!!t.found),t.found.name,t.found.updateTime;var n=e_(e,t.found.name),r=YE(t.found.updateTime),i=new YS({mapValue:{fields:t.found.fields}});return JS.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){cx(!!t.missing),cx(!!t.readTime);var n=e_(e,t.missing),r=YE(t.readTime);return JS.newNoDocument(n,r)}(e,t):sx()}function s_(e,t){var n;if(t instanceof cE)n={update:a_(e,t.key,t.value)};else if(t instanceof mE)n={delete:ZE(e,t.key)};else if(t instanceof lE)n={update:a_(e,t.key,t.data),updateMask:k_(t.fieldMask)};else{if(!(t instanceof yE))return sx();n={verify:ZE(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof KI)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof GI)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof QI)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof YI)return{fieldPath:t.field.canonicalString(),increment:n._t};throw sx()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:$E(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:sx()}(e,t.precondition)),n}function c_(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?tE.updateTime(YE(e.updateTime)):void 0!==e.exists?tE.exists(e.exists):tE.none()}(t.currentDocument):tE.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)cx("REQUEST_TIME"===t.setToServerValue),n=new KI;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new GI(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new QI(i)}else"increment"in t?n=new YI(e,t.increment):sx();var a=Px.fromServerFormat(t.fieldPath);return new ZI(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=e_(e,t.update.name),a=new YS({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new vS(t.map((function(e){return Px.fromServerFormat(e)})))}(t.updateMask);return new lE(i,a,o,n,r)}return new cE(i,a,n,r)}if(t.delete){var u=e_(e,t.delete);return new mE(u,n)}if(t.verify){var s=e_(e,t.verify);return new yE(s,n)}return sx()}function l_(e,t){return{documents:[t_(e,t.path)]}}function f_(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=t_(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=t_(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(BS(e.value))return{unaryFilter:{field:m_(e.field),op:"IS_NAN"}};if(zS(e.value))return{unaryFilter:{field:m_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(BS(e.value))return{unaryFilter:{field:m_(e.field),op:"IS_NOT_NAN"}};if(zS(e.value))return{unaryFilter:{field:m_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:m_(e.field),op:v_(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:m_(e.field),direction:p_(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.dt||_S(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function d_(e){var t=n_(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){cx(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=h_(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new yI(y_(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return _S(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new mI(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new mI(n,t)}(n.endAt)),xI(t,i,u,o,s,"F",c,l)}function h_(e){return e?void 0!==e.unaryFilter?[b_(e)]:void 0!==e.fieldFilter?[g_(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return h_(e)})).reduce((function(e,t){return e.concat(t)})):sx():[]}function p_(e){return WE[e]}function v_(e){return KE[e]}function m_(e){return{fieldPath:e.canonicalString()}}function y_(e){return Px.fromServerFormat(e.fieldPath)}function g_(e){return uI.create(y_(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return sx()}}(e.fieldFilter.op),e.fieldFilter.value)}function b_(e){switch(e.unaryFilter.op){case"IS_NAN":var t=y_(e.unaryFilter.field);return uI.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=y_(e.unaryFilter.field);return uI.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=y_(e.unaryFilter.field);return uI.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=y_(e.unaryFilter.field);return uI.create(i,"!=",{nullValue:"NULL_VALUE"});default:return sx()}}function k_(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function w_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function x_(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=I_(t)),t=S_(e.get(n),t);return I_(t)}function S_(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function I_(e){return e+"\x01\x01"}function E_(e){var t=e.length;if(cx(t>=2),2===t)return cx("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Nx.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&sx(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:sx()}a=o+2}return new Nx(r)}var __=["userId","batchId"];function T_(e,t){return[e,x_(t)]}function C_(e,t,n){return[e,x_(t),n]}var A_={},N_=["prefixPath","collectionGroup","readTime","documentId"],R_=["prefixPath","collectionGroup","documentId"],P_=["collectionGroup","readTime","prefixPath","documentId"],O_=["canonicalId","targetId"],D_=["targetId","path"],L_=["path","targetId"],M_=["collectionId","parent"],F_=["indexId","uid"],V_=["uid","sequenceNumber"],U_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],j_=["indexId","uid","orderedDocumentKey"],z_=["userId","collectionPath","documentId"],B_=["userId","collectionPath","largestBatchId"],q_=["userId","collectionGroup","largestBatchId"],W_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),K_=[].concat(b(W_),["documentOverlays"]),G_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],H_=G_,Q_=[].concat(H_,["indexConfiguration","indexState","indexEntries"]),$_=function(e){fs(n,e);var t=ms(n);function n(e,r){var i;return go(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return ko(n)}(Wx);function Y_(e,t){var n=lx(e);return $x.N(n.ee,t)}var X_=function(){function e(t,n,r,i){go(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return ko(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&aE(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=cs(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=oE(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=cs(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=oE(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=CE();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=iE(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Cx.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),PE())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ex(this.mutations,e.mutations,(function(e,t){return sE(e,t)}))&&Ex(this.baseMutations,e.baseMutations,(function(e,t){return sE(e,t)}))}}]),e}(),J_=function(){function e(t,n,r,i){go(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return ko(e,null,[{key:"from",value:function(t,n,r){cx(t.mutations.length===r.length);for(var i=NE,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Z_=function(){function e(t,n){go(this,e),this.largestBatchId=t,this.mutation=n}return ko(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),eT=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Cx.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Cx.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:mS.EMPTY_BYTE_STRING;go(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return ko(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),tT=ko((function e(t){go(this,e),this.ne=t}));function nT(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:rT(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:ZE(e,t.key),fields:t.data.value.mapValue.fields,updateTime:HE(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:iT(t.version)};else{if(!t.isUnknownDocument())return sx();r.unknownDocument={path:n.path.toArray(),version:iT(t.version)}}return r}function rT(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function iT(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function aT(e){var t=new Tx(e.seconds,e.nanoseconds);return Cx.fromTimestamp(t)}function oT(e,t){for(var n=(t.baseMutations||[]).map((function(t){return c_(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return c_(e.ne,t)})),u=Tx.fromMillis(t.localWriteTimeMs);return new X_(t.batchId,u,n,o)}function uT(e){var t,n,r=aT(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?aT(e.lastLimboFreeSnapshotVersion):Cx.min();return void 0!==e.query.documents?(cx(1===(n=e.query).documents.length),t=AI(SI(n_(n.documents[0])))):t=function(e){return AI(d_(e))}(e.query),new eT(t,e.targetId,0,e.lastListenSequenceNumber,r,i,mS.fromBase64String(e.resumeToken))}function sT(e,t){var n,r=iT(t.snapshotVersion),i=iT(t.lastLimboFreeSnapshotVersion);n=rI(t.target)?l_(e.ne,t.target):f_(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:tI(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function cT(e){var t=d_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?NI(t,t.limit,"L"):t}function lT(e,t){return new Z_(t.largestBatchId,c_(e.ne,t.overlayMutation))}function fT(e,t){var n=t.path.lastSegment();return[e,x_(t.path.popLast()),n]}function dT(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:iT(r.readTime),documentKey:x_(r.documentKey.path),largestBatchId:r.largestBatchId}}var hT=function(){function e(){go(this,e)}return ko(e,[{key:"getBundleMetadata",value:function(e,t){return pT(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:aT(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return pT(e).put({bundleId:(n=t).id,createTime:iT(YE(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return vT(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:cT(t.bundledQuery),readTime:aT(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return vT(e).put(function(e){return{name:e.name,readTime:iT(YE(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function pT(e){return Y_(e,"bundles")}function vT(e){return Y_(e,"namedQueries")}var mT=function(){function e(t,n){go(this,e),this.wt=t,this.userId=n}return ko(e,[{key:"getOverlay",value:function(e,t){var n=this;return yT(e).get(fT(this.userId,t)).next((function(e){return e?lT(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=TE();return Hx.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Z_(t,a);i.push(r.ie(e,o))})),Hx.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(x_(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(yT(e).W("collectionPathOverlayIndex",i))})),Hx.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=TE(),a=x_(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return yT(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=cs(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=lT(r.wt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=TE(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return yT(e).J({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=lT(a.wt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return yT(e).put(function(e,t,n){var r=c(fT(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:s_(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function yT(e){return Y_(e,"documentOverlays")}var gT=function(){function e(){go(this,e)}return ko(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(bS(e.integerValue));else if("doubleValue"in e){var n=bS(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),TS(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(kS(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?KS(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):sx()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=cs(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),Ox.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function bT(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function kT(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=bT(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}gT.ye=new gT;var wT=function(){function e(){go(this,e),this.buffer=new Uint8Array(1024),this.position=0}return ko(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=cs(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=cs(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=kT(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=kT(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Me",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),xT=function(){function e(t){go(this,e),this.Oe=t}return ko(e,[{key:"de",value:function(e){this.Oe.pe(e)}},{key:"he",value:function(e){this.Oe.be(e)}},{key:"ae",value:function(e){this.Oe.ve(e)}},{key:"ue",value:function(){this.Oe.Ce()}}]),e}(),ST=function(){function e(t){go(this,e),this.Oe=t}return ko(e,[{key:"de",value:function(e){this.Oe.Ee(e)}},{key:"he",value:function(e){this.Oe.Pe(e)}},{key:"ae",value:function(e){this.Oe.De(e)}},{key:"ue",value:function(){this.Oe.Ne()}}]),e}(),IT=function(){function e(){go(this,e),this.Oe=new wT,this.Fe=new xT(this.Oe),this.$e=new ST(this.Oe)}return ko(e,[{key:"seed",value:function(e){this.Oe.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Me",value:function(){return this.Oe.Me()}},{key:"reset",value:function(){this.Oe.reset()}}]),e}(),ET=function(){function e(t,n,r,i){go(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return ko(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function _T(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=TT(e.arrayValue,t.arrayValue))?n:0!==(n=TT(e.directionalValue,t.directionalValue))?n:Ox.comparator(e.documentKey,t.documentKey)}function TT(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var CT=function(){function e(t){go(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=cs(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return ko(e,[{key:"Ge",value:function(e){var t=Lx(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=Mx(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=cs(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),AT=function(){function e(){go(this,e),this.ze=new NT}return ko(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),Hx.resolve()}},{key:"getCollectionParents",value:function(e,t){return Hx.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Hx.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Hx.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Hx.resolve(null)}},{key:"getIndexType",value:function(e,t){return Hx.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Hx.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Hx.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Hx.resolve(zx.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Hx.resolve(zx.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Hx.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Hx.resolve()}}]),e}(),NT=function(){function e(){go(this,e),this.index={}}return ko(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new dS(Nx.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new dS(Nx.comparator)).toArray()}}]),e}(),RT=new Uint8Array(0),PT=function(){function e(t,n){go(this,e),this.user=t,this.databaseId=n,this.He=new NT,this.Je=new wE((function(e){return tI(e)}),(function(e,t){return nI(e,t)})),this.uid=t.uid||""}return ko(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:x_(i)};return OT(e).put(a)}return Hx.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[_x(t),""],!1,!0);return OT(e).K(r).next((function(e){var r,i=cs(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(E_(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=LT(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=MT(e);return a.next((function(e){o.put(dT(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=LT(e),r=MT(e),i=DT(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=DT(e),i=!0,a=new Map;return Hx.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=PE(),o=[];return Hx.forEach(a,(function(i,a){var u;ix("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(tI(t)));var s=function(e,t){var n=Lx(t);if(void 0===n)return null;var r,i=cs(iI(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=cs(Mx(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=cs(iI(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=cs(Mx(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?aI(e,o.fieldPath,e.startAt):oI(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new mI(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=cs(Mx(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?oI(e,o.fieldPath,e.endAt):aI(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new mI(r,i)}(a,i),d=n.Ze(i,a,l),h=n.Ze(i,a,f),p=n.tn(i,a,c),v=n.en(i.indexId,s,d,l.inclusive,h,f.inclusive,p);return Hx.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=Ox.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Hx.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.nn(t[s/c]):RT,d=u.sn(e,f,n[s%c],r),h=u.rn(e,f,i[s%c],a),p=o.map((function(t){return u.sn(e,f,t,!0)}));l.push.apply(l,b(u.createRange(d,h,p)))},d=0;d<s;++d)f(d);return l}},{key:"sn",value:function(e,t,n,r){var i=new ET(e,Ox.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new ET(e,Ox.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new CT(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=cs(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Hx.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new dS(Px.comparator),r=!1,i=cs(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=cs(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new IT,i=cs(Mx(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Be(a.kind);gT.ye.re(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Me()}},{key:"nn",value:function(e){var t=new IT;return gT.ye.re(e,t.Be(0)),t.Me()}},{key:"un",value:function(e,t){var n=new IT;return gT.ye.re(VS(this.databaseId,t),n.Be(function(e){var t=Mx(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Me()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new IT);var i,a=0,o=cs(Mx(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=cs(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.cn(t,s.fieldPath)&&jS(c))r=this.an(r,s,c);else{var d=f.Be(s.kind);gT.ye.re(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Me();return t}},{key:"an",value:function(e,t,n){var r,i=b(e),a=[],o=cs(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=cs(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new IT;f.seed(l.Me()),gT.ye.re(s,f.Be(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof uI&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=LT(e),i=MT(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return Hx.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Vx(t.sequenceNumber,new zx(aT(t.readTime),new Ox(E_(t.documentKey)),t.largestBatchId)):Vx.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new Fx(Px.fromServerFormat(n),r)}));return new Dx(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ix(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=LT(e),a=MT(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Hx.forEach(t,(function(t){return a.put(dT(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Hx.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Hx.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Hx.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?Hx.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return DT(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return DT(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=DT(e),i=new dS(_T);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new ET(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new dS(_T),r=this.on(t,e);if(null==r)return n;var i=Lx(t);if(null!=i){var a=e.data.field(i.fieldPath);if(jS(a)){var o,u=cs(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new ET(t.indexId,e.key,this.nn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new ET(t.indexId,e.key,RT,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;ix("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=pS(a),s=pS(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=pS(o)):l?(i(u),u=pS(a)):(u=pS(a),s=pS(o))}}(r,i,_T,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),Hx.waitFor(o)}},{key:"ln",value:function(e){var t=1;return MT(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return _T(e,t)})).filter((function(e,t,n){return!t||0!==_T(e,n[t-1])}));var r=[];r.push(e);var i,a=cs(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=_T(o,e),s=_T(o,t);if(0===u)r[0]=e.Le();else if(u>0&&s<0)r.push(o),r.push(o.Le());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,RT,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,RT,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(FT)}},{key:"getMinOffset",value:function(e,t){var n=this;return Hx.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||sx()}))})).next(FT)}}]),e}();function OT(e){return Y_(e,"collectionParents")}function DT(e){return Y_(e,"indexEntries")}function LT(e){return Y_(e,"indexConfiguration")}function MT(e){return Y_(e,"indexState")}function FT(e){cx(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Bx(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new zx(t.readTime,t.documentKey,n)}var VT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UT=function(){function e(t,n,r){go(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return ko(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function jT(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.J({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){cx(1===u)})));var c,l=[],f=cs(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=C_(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return Hx.waitFor(a).next((function(){return l}))}function zT(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw sx();t=e.noDocument}return JSON.stringify(t).length}UT.DEFAULT_COLLECTION_PERCENTILE=10,UT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,UT.DEFAULT=new UT(41943040,UT.DEFAULT_COLLECTION_PERCENTILE,UT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),UT.DISABLED=new UT(-1,0,0);var BT=function(){function e(t,n,r,i){go(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return ko(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return WT(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=KT(e),o=WT(e);return o.add({}).next((function(u){cx("number"==typeof u);var s,c=new X_(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return s_(e.ne,t)})),i=n.mutations.map((function(t){return s_(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],d=new dS((function(e,t){return Ix(e.canonicalString(),t.canonicalString())})),h=cs(r);try{for(h.s();!(s=h.n()).done;){var p=s.value,v=C_(i.userId,p.key.path,u);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,A_))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[u]=c.keys()})),Hx.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return WT(e).get(t).next((function(e){return e?(cx(e.userId===n.userId),oT(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?Hx.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return WT(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(cx(t.batchId>=r),a=oT(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return WT(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return WT(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return oT(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=T_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return KT(e).J({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],d=E_(l);if(s===n.userId&&t.path.isEqual(d))return WT(e).get(f).next((function(e){if(!e)throw sx();cx(e.userId===n.userId),a.push(oT(n.wt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new dS(Ix),i=[];return t.forEach((function(t){var a=T_(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=KT(e).J({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=E_(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),Hx.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=T_(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new dS(Ix);return KT(e).J({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],d=E_(l);s===n.userId&&r.isPrefixOf(d)?d.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.pn(e,u)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(WT(e).get(t).next((function(e){if(null===e)throw sx();cx(e.userId===n.userId),r.push(oT(n.wt,e))})))})),Hx.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return jT(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),Hx.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Hx.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return KT(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=E_(e[1]);i.push(a)}else r.done()})).next((function(){cx(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return qT(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return GT(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return cx(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function qT(e,t,n){var r=T_(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return KT(e).J({range:a,H:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function WT(e){return Y_(e,"mutations")}function KT(e){return Y_(e,"documentMutations")}function GT(e){return Y_(e,"mutationQueues")}var HT=function(){function e(t){go(this,e),this.En=t}return ko(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),QT=function(){function e(t,n){go(this,e),this.referenceDelegate=t,this.wt=n}return ko(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new HT(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return Cx.fromTimestamp(new Tx(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return $T(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return cx(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return $T(e).J((function(o,u){var s=uT(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Hx.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return $T(e).J((function(e,n){var r=uT(n);t(r)}))}},{key:"bn",value:function(e){return YT(e).get("targetGlobalKey").next((function(e){return cx(null!==e),e}))}},{key:"Pn",value:function(e,t){return YT(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return $T(e).put(sT(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=tI(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return $T(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=uT(n);nI(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=XT(e);return t.forEach((function(t){var o=x_(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Hx.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=XT(e);return Hx.forEach(t,(function(t){var a=x_(t.path);return Hx.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=XT(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=XT(e),i=PE();return r.J({range:n,H:!0},(function(e,t,n){var r=E_(e[1]),a=new Ox(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=x_(t.path),r=IDBKeyRange.bound([n],[_x(n)],!1,!0),i=0;return XT(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return $T(e).get(t).next((function(e){return e?uT(e):null}))}}]),e}();function $T(e){return Y_(e,"targets")}function YT(e){return Y_(e,"targetGlobal")}function XT(e){return Y_(e,"targetDocuments")}function JT(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=Ix(r,o);return 0===s?Ix(i,u):s}var ZT=function(){function e(t){go(this,e),this.Sn=t,this.buffer=new dS(JT),this.Dn=0}return ko(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();JT(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),eC=function(){function e(t,n,r){go(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return ko(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;ix("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,$s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Jx(e.t0)){e.next=12;break}ix("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Kx(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),tC=function(){function e(t,n){go(this,e),this.Mn=t,this.params=n}return ko(e,[{key:"calculateTargetCount",value:function(e,t){return this.Mn.On(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Hx.resolve(aS.ot);var r=new ZT(t);return this.Mn.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.Mn.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Mn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Mn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ix("LruGarbageCollector","Garbage collection skipped; disabled"),Hx.resolve(VT)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ix("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),VT):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Mn.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(ix("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),rx()<=tc.DEBUG&&ix("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Hx.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),nC=function(){function e(t,n){go(this,e),this.db=t,this.garbageCollector=function(e,t){return new tC(e,t)}(this,n)}return ko(e,[{key:"On",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return rC(e,n)}},{key:"removeReference",value:function(e,t,n){return rC(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return rC(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return GT(e).Y((function(r){return qT(e,r,t).next((function(e){return e&&(n=!0),Hx.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,u){if(u<=t){var s=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Cx.min()),XT(e).delete([0,x_(o.path)])}))}));i.push(s)}})).next((function(){return Hx.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return rC(e,t)}},{key:"Ln",value:function(e,t){var n,r=XT(e),i=aS.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==aS.ot&&t(new Ox(E_(n)),i),i=s,n=u):i=aS.ot})).next((function(){i!==aS.ot&&t(new Ox(E_(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function rC(e,t){return XT(e).put(function(e,t){return{targetId:0,path:x_(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var iC=function(){function e(){go(this,e),this.changes=new wE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return ko(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,JS.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Hx.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),aC=function(){function e(t){go(this,e),this.wt=t}return ko(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return cC(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return cC(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],rT(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=JS.newInvalidDocument(t);return cC(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(lC(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:JS.newInvalidDocument(t)};return cC(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(lC(t))},(function(e,i){r={document:n.Kn(t,i),size:zT(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=SE();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=SE(),i=new cS(Ox.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,zT(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return Hx.resolve();var r=new dS(dC);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(lC(r.first()),lC(r.last())),a=r.getIterator(),o=a.getNext();return cC(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Ox.fromSegments([].concat(b(t.prefixPath),[t.collectionGroup,t.documentId]));o&&dC(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(lC(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),rT(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return cC(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=SE(),i=cs(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(Ox.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=SE(),o=fC(t,n),u=fC(t,zx.max());return cC(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Kn(Ox.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new uC(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return sC(e).get("remoteDocumentGlobalKey").next((function(e){return cx(!!e),e}))}},{key:"qn",value:function(e,t){return sC(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=o_(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Ox.fromSegments(t.noDocument.path),i=aT(t.noDocument.readTime);n=JS.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return sx();var a=Ox.fromSegments(t.unknownDocument.path),o=aT(t.unknownDocument.version);n=JS.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Tx(e[0],e[1]);return Cx.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(Cx.min()))return n}return JS.newInvalidDocument(e)}}]),e}();function oC(e){return new aC(e)}var uC=function(e){fs(n,e);var t=ms(n);function n(e,r){var i;return go(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new wE((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return ko(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new dS((function(e,t){return Ix(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=nT(t.zn.wt,o);i=i.add(a.path.popLast());var c=zT(s);r+=c-u.size,n.push(t.zn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=nT(t.zn.wt,o.convertToNoDocument(Cx.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),Hx.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(iC);function sC(e){return Y_(e,"remoteDocumentGlobal")}function cC(e){return Y_(e,"remoteDocumentsV14")}function lC(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function fC(e,t){var n=t.documentKey.path.toArray();return[e,rT(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function dC(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Ix(n[a],r[a]))return i;return(i=Ix(n.length,r.length))||((i=Ix(n[n.length-2],r[r.length-2]))||Ix(n[n.length-1],r[r.length-1]))}var hC=ko((function e(t,n){go(this,e),this.overlayedDocument=t,this.mutatedFields=n})),pC=function(){function e(t,n,r,i){go(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return ko(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&oE(r.mutation,e,vS.empty(),Tx.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,PE()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:PE(),i=TE();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=EE();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=TE();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,PE())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=SE(),a=AE(),o=AE();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof lE)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),oE(o.mutation,t,o.mutation.getFieldMask(),Tx.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new hC(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=AE(),i=new cS((function(e,t){return e-t})),a=PE();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=cs(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||vS.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||PE()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=CE();c.forEach((function(e){if(!a.has(e)){var n=iE(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Hx.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Ox.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):TI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Hx.resolve(TE()),u=-1,s=a;return o.next((function(t){return Hx.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Hx.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,PE())})).next((function(e){return{batchId:u,changes:_E(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Ox(t)).next((function(e){var t=EE();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=EE();return this.indexManager.getCollectionParents(e,i).next((function(o){return Hx.forEach(o,(function(o){var u=function(e,t){return new wI(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,JS.newInvalidDocument(n)))}));var n=EE();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&oE(a.mutation,i,vS.empty(),Tx.now()),DI(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Hx.resolve(JS.newInvalidDocument(t))}}]),e}(),vC=function(){function e(t){go(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return ko(e,[{key:"getBundleMetadata",value:function(e,t){return Hx.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:YE(n.createTime)}),Hx.resolve()}},{key:"getNamedQuery",value:function(e,t){return Hx.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:cT(e.bundledQuery),readTime:YE(e.readTime)}}(t)),Hx.resolve()}}]),e}(),mC=function(){function e(){go(this,e),this.overlays=new cS(Ox.comparator),this.Xn=new Map}return ko(e,[{key:"getOverlay",value:function(e,t){return Hx.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=TE();return Hx.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),Hx.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),Hx.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=TE(),i=t.length+1,a=new Ox(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Hx.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new cS((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=TE(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=TE(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Hx.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Z_(t,n));var a=this.Xn.get(t);void 0===a&&(a=PE(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),yC=function(){function e(){go(this,e),this.Zn=new dS(gC.ts),this.es=new dS(gC.ns)}return ko(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new gC(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new gC(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Ox(new Nx([])),r=new gC(n,e),i=new gC(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new Ox(new Nx([])),n=new gC(t,e),r=new gC(t,e+1),i=PE();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new gC(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),gC=function(){function e(t,n){go(this,e),this.key=t,this.ls=n}return ko(e,null,[{key:"ts",value:function(e,t){return Ox.comparator(e.key,t.key)||Ix(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Ix(e.ls,t.ls)||Ox.comparator(e.key,t.key)}}]),e}(),bC=function(){function e(t,n){go(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new dS(gC.ts)}return ko(e,[{key:"checkEmpty",value:function(e){return Hx.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new X_(i,t,n,r);this.mutationQueue.push(a);var o,u=cs(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ds=this.ds.add(new gC(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Hx.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Hx.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return Hx.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Hx.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return Hx.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new gC(t,0),i=new gC(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),Hx.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new dS(Ix);return t.forEach((function(e){var t=new gC(e,0),i=new gC(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),Hx.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ox.isDocumentKey(i)||(i=i.child(""));var a=new gC(new Ox(i),0),o=new dS(Ix);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),Hx.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;cx(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return Hx.forEach(t.mutations,(function(i){var a=new gC(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new gC(t,0),r=this.ds.firstAfterOrEqual(n);return Hx.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Hx.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),kC=function(){function e(t){go(this,e),this.ps=t,this.docs=new cS(Ox.comparator),this.size=0}return ko(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Hx.resolve(n?n.document.mutableCopy():JS.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=SE();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():JS.newInvalidDocument(e))})),Hx.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=SE(),i=new Ox(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Bx(jx(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Hx.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){sx()}},{key:"Is",value:function(e,t){return Hx.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new wC(this)}},{key:"getSize",value:function(e){return Hx.resolve(this.size)}}]),e}(),wC=function(e){fs(n,e);var t=ms(n);function n(e){var r;return go(this,n),(r=t.call(this)).zn=e,r}return ko(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),Hx.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(iC),xC=function(){function e(t){go(this,e),this.persistence=t,this.Ts=new wE((function(e){return tI(e)}),nI),this.lastRemoteSnapshotVersion=Cx.min(),this.highestTargetId=0,this.Es=0,this.As=new yC,this.targetCount=0,this.Rs=HT.An()}return ko(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),Hx.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Hx.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Hx.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),Hx.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),Hx.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new HT(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,Hx.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),Hx.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Hx.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Hx.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Hx.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return Hx.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),Hx.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Hx.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),Hx.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return Hx.resolve(n)}},{key:"containsKey",value:function(e,t){return Hx.resolve(this.As.containsKey(t))}}]),e}(),SC=function(){function e(t,n){var r=this;go(this,e),this.bs={},this.overlays={},this.Ps=new aS(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new xC(this),this.indexManager=new AT,this.remoteDocumentCache=new kC((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new tT(n),this.Ds=new vC(this.wt)}return ko(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new mC,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new bC(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;ix("MemoryPersistence","Starting transaction:",e);var i=new IC(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return Hx.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),IC=function(e){fs(n,e);var t=ms(n);function n(e){var r;return go(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return ko(n)}(Wx),EC=function(){function e(t){go(this,e),this.persistence=t,this.ks=new yC,this.Ms=null}return ko(e,[{key:"Fs",get:function(){if(this.Ms)return this.Ms;throw sx()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),Hx.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),Hx.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),Hx.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Ms=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Hx.forEach(this.Fs,(function(r){var i=Ox.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,Cx.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Hx.or([function(){return Hx.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Os",value:function(t){return new e(t)}}]),e}(),_C=function(){function e(t){go(this,e),this.wt=t}return ko(e,[{key:"M",value:function(e,t,n,r){var i=this,a=new Qx("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",__,{unique:!0}),e.createObjectStore("documentMutations")}(e),TC(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Hx.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),TC(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Cx.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",__,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Hx.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:z_});t.createIndex("collectionPathOverlayIndex",B_,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",q_,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:N_});t.createIndex("documentKeyIndex",R_),t.createIndex("collectionGroupIndex",P_)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:F_}).createIndex("sequenceNumberIndex",V_,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:U_}).createIndex("documentKeyIndex",j_,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=zT(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return Hx.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return Hx.forEach(r,(function(r){cx(r.userId===n.userId);var i=oT(t.wt,r);return jT(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new Nx(n),o=function(e){return[0,x_(e)]}(a);r.push(t.get(o).next((function(n){return n?Hx.resolve():function(n){return t.put({targetId:0,path:x_(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Hx.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:M_});var n=t.store("collectionParents"),r=new NT,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:x_(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new Nx(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],E_(r));return i(a.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=uT(r),a=sT(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Ox(Nx.fromString(i.document.name).popFirst(5)):i.noDocument?Ox.fromSegments(i.noDocument.path):i.unknownDocument?Ox.fromSegments(i.unknownDocument.path):sx()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Hx.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=oC(this.wt),a=new SC(EC.Os,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:PE();oT(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Hx.forEach(r,(function(e,r){var o=new ex(r),u=mT.se(n.wt,o),s=a.getIndexManager(o),c=BT.se(o,n.wt,s,a.referenceDelegate);return new pC(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new $_(t,aS.ot),e).next()}))}))}}]),e}();function TC(e){e.createObjectStore("targetDocuments",{keyPath:D_}).createIndex("documentTargetsIndex",L_,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",O_,{unique:!0}),e.createObjectStore("targetGlobal")}var CC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",AC=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(go(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=u,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new dx(fx.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new nC(this,i),this.ei=n+"main",this.wt=new tT(s),this.ni=new $x(this.ei,this.Hs,new _C(this.wt)),this.Vs=new QT(this.referenceDelegate,this.wt),this.remoteDocumentCache=oC(this.wt),this.Ds=new hT,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&ax("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return ko(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new dx(fx.FAILED_PRECONDITION,CC);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new aS(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=$s(Hs().mark((function n(r){return Hs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=$s(Hs().mark((function t(n){return Hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget($s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return RC(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(Jx(t))return ix("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return ix("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return NC(e).get("owner").next((function(e){return Hx.resolve(t.di(e))}))}},{key:"_i",value:function(e){return RC(e).delete(this.clientId)}},{key:"wi",value:function(){var e=$s(Hs().mark((function e(){var t,n,r,i,a=this;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Y_(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Hx.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=cs(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?Hx.resolve(!0):NC(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new dx(fx.FAILED_PRECONDITION,CC);return!1}}return!(!t.networkEnabled||!t.inForeground)||RC(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&ix("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=$s(Hs().mark((function e(){var t=this;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new $_(e,aS.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return RC(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return BT.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new PT(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return mT.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;ix("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Hs)?Q_:14===i?H_:13===i?G_:12===i?K_:11===i?W_:void sx();return this.ni.runTransaction(e,o,u,(function(i){return a=new $_(i,r.Ps?r.Ps.next():aS.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw ax("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new dx(fx.FAILED_PRECONDITION,qx);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return NC(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new dx(fx.FAILED_PRECONDITION,CC)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return NC(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=NC(e);return n.get("owner").next((function(e){return t.di(e)?(ix("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Hx.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(ax("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),!Cs()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return ix("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return ax("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(eg){ax("Failed to set zombie client id.",eg)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(eg){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return $x.V()}}]),e}();function NC(e){return Y_(e,"owner")}function RC(e){return Y_(e,"clientMetadata")}function PC(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var OC=function(){function e(t,n,r,i){go(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return ko(e,null,[{key:"Vi",value:function(t,n){var r,i=PE(),a=PE(),o=cs(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),DC=function(){function e(){go(this,e),this.Si=!1}return ko(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){var n=this;if(II(t))return Hx.resolve(null);var r=AI(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=NI(t,null,"F"),r=AI(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=PE.apply(void 0,b(i));return n.Di.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ki(t,i);return n.Mi(t,o,a,r.readTime)?n.Ci(e,NI(t,null,"F")):n.Oi(e,o,t,r)}))}))})))}))}},{key:"xi",value:function(e,t,n,r){var i=this;return II(t)||r.isEqual(Cx.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Mi(t,o,n,r)?i.Ni(e,t):(rx()<=tc.DEBUG&&ix("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),OI(t)),i.Oi(e,o,t,Ux(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new dS(MI(e));return t.forEach((function(t,r){DI(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return rx()<=tc.DEBUG&&ix("QueryEngine","Using full collection scan to execute query:",OI(t)),this.Di.getDocumentsMatchingQuery(e,t,zx.min())}},{key:"Oi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),LC=function(){function e(t,n,r,i){go(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new cS(Ix),this.Bi=new wE((function(e){return tI(e)}),nI),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return ko(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pC(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function MC(e,t,n,r){return new LC(e,t,n,r)}function FC(e,t){return VC.apply(this,arguments)}function VC(){return VC=$s(Hs().mark((function e(t,n){var r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lx(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=PE(),s=cs(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=cs(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;u=u.add(d.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var h,p=cs(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,y=cs(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),VC.apply(this,arguments)}function UC(e,t){var n=lx(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Hx.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);cx(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=PE(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function jC(e){var t=lx(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function zC(e,t){var n=lx(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(mS.EMPTY_BYTE_STRING,Cx.min()).withLastLimboFreeSnapshotVersion(Cx.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var u=SE(),s=PE();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(BC(e,a,t.documentUpdates).next((function(e){u=e.Gi,s=e.Qi}))),!r.isEqual(Cx.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Hx.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.$i=i,e}))}function BC(e,t,n){var r=PE(),i=PE();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=SE();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Cx.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):ix("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function qC(e,t){var n=lx(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function WC(e,t){var n=lx(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,Hx.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new eT(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function KC(e,t,n){return GC.apply(this,arguments)}function GC(){return GC=$s(Hs().mark((function e(t,n,r){var i,a,o;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=lx(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Jx(e.t1)){e.next=12;break}throw e.t1;case 12:ix("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),GC.apply(this,arguments)}function HC(e,t,n){var r=lx(e),i=Cx.min(),a=PE();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=lx(e),i=r.Bi.get(n);return void 0!==i?Hx.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,AI(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:Cx.min(),n?a:PE())})).next((function(e){return YC(r,LI(t),e),{documents:e,ji:a}}))}))}function QC(e,t){var n=lx(e),r=lx(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function $C(e,t){var n=lx(e),r=n.Li.get(t)||Cx.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,Ux(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return YC(n,t,e),e}))}function YC(e,t,n){var r=Cx.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function XC(e,t,n,r){return JC.apply(this,arguments)}function JC(){return JC=$s(Hs().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,d,h,p;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=lx(t),o=PE(),u=SE(),s=cs(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(o=o.add(f)),(d=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),u=u.insert(f,d)}catch(v){s.e(v)}finally{s.f()}return h=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,WC(a,function(e){return AI(SI(Nx.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return BC(e,h,u).next((function(t){return h.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Vs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),JC.apply(this,arguments)}function ZC(e,t){return eA.apply(this,arguments)}function eA(){return eA=$s(Hs().mark((function e(t,n){var r,i,a,o=arguments;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:PE(),e.next=3,WC(t,AI(cT(n.bundledQuery)));case 3:return i=e.sent,a=lx(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=YE(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(mS.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),eA.apply(this,arguments)}function tA(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function nA(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function rA(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var iA=function(){function e(t,n,r,i){go(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return ko(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new dx(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(ax("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),aA=function(){function e(t,n,r){go(this,e),this.targetId=t,this.state=n,this.error=r}return ko(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new dx(i.error.code,i.error.message))),a?new e(t,i.state,r):(ax("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),oA=function(){function e(t,n){go(this,e),this.clientId=t,this.activeTargetIds=n}return ko(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=DE(),o=0;i&&o<r.activeTargetIds.length;++o)i=CS(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(ax("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),uA=function(){function e(t,n){go(this,e),this.clientId=t,this.onlineState=n}return ko(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ax("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),sA=function(){function e(){go(this,e),this.activeTargetIds=DE()}return ko(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),cA=function(){function e(t,n,r,i,a){go(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new cS(Ix),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=tA(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new sA),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return ko(e,[{key:"start",value:function(){var e=$s(Hs().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,d=this;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=cs(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(tA(this.persistenceKey,i)))&&(o=oA.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=cs(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(h){c.e(h)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(rA(this.persistenceKey,e));if(n){var r=aA.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(rA(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return ix("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){ix("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){ix("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(ix("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void ax("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable($s(Hs().mark((function e(){var r,i,a,o,u,s,c;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=aS.ot;if(null!=e)try{var n=JSON.parse(e);cx("number"==typeof n),t=n}catch(e){ax("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==aS.ot&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new iA(this.currentUser,e,t,n),i=nA(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=nA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=rA(this.persistenceKey,e),i=new aA(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return oA.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return iA.Ji(new ex(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return aA.Ji(r,t)}},{key:"wr",value:function(e){return uA.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:ix("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Or(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=DE();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),lA=function(){function e(){go(this,e),this.Fr=new sA,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return ko(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new sA,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),fA=function(){function e(){go(this,e)}return ko(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),dA=function(){function e(){var t=this;go(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return ko(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){ix("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=cs(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){ix("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=cs(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),hA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},pA=function(){function e(t){go(this,e),this.jr=t.jr,this.Wr=t.Wr}return ko(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),vA=function(e){fs(n,e);var t=ms(n);function n(e){var r;return go(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return ko(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Jw;o.listenOnce(Hw.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Gw.NO_ERROR:var t=o.getResponseJson();ix("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Gw.TIMEOUT:ix("Connection",'RPC "'+e+'" timed out'),a(new dx(fx.DEADLINE_EXCEEDED,"Request time out"));break;case Gw.HTTP_ERROR:var n=o.getStatus();if(ix("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(fx).indexOf(t)>=0?t:fx.UNKNOWN}(r.status);a(new dx(u,r.message))}else a(new dx(fx.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new dx(fx.UNAVAILABLE,"Connection failed."));break;default:sx()}}finally{ix("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Ww(),a=Kw(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Yw({})),this.uo(o.initMessageHeaders,t,n),Ts()||Ns()||_s().indexOf("Electron/")>=0||Rs()||_s().indexOf("MSAppHost/")>=0||As()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");ix("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new pA({jr:function(e){l?ix("Connection","Not sending because WebChannel is closed:",e):(c||(ix("Connection","Opening WebChannel transport."),s.open(),c=!0),ix("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(s,Xw.EventType.OPEN,(function(){l||ix("Connection","WebChannel transport opened.")})),d(s,Xw.EventType.CLOSE,(function(){l||(l=!0,ix("Connection","WebChannel transport closed"),f.eo())})),d(s,Xw.EventType.ERROR,(function(e){l||(l=!0,ox("Connection","WebChannel transport errored:",e),f.eo(new dx(fx.UNAVAILABLE,"The operation could not be completed")))})),d(s,Xw.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];cx(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){ix("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=pE[e];if(void 0!==t)return kE(t)}(a),u=i.message;void 0===o&&(o=fx.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new dx(o,u)),s.close()}else ix("Connection","WebChannel received:",n),f.no(n)}})),d(a,Qw.STAT_EVENT,(function(e){e.stat===$w.PROXY?ix("Connection","Detected buffering proxy"):e.stat===$w.NOPROXY&&ix("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){go(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return ko(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);ix("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return ix("RestConnection","Received: ",e),e}),(function(t){throw ox("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+tx,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=hA[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function mA(){return"undefined"!=typeof window?window:null}function yA(){return"undefined"!=typeof document?document:null}function gA(e){return new GE(e,!0)}var bA=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;go(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return ko(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&ix("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),kA=function(){function e(t,n,r,i,a,o,u,s){go(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new bA(t,n)}return ko(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=$s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=$s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===fx.RESOURCE_EXHAUSTED?(ax(n.toString()),ax("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===fx.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new dx(fx.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io($s(Hs().mark((function t(){return Hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return ix("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(ix("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),wA=function(e){fs(n,e);var t=ms(n);function n(e,r,i,a,o,u){var s;return go(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s}return ko(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:sx()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(cx(void 0===t||"string"==typeof t),mS.fromBase64String(t||"")):(cx(void 0===t||t instanceof Uint8Array),mS.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?fx.UNKNOWN:kE(e.code);return new dx(t,e.message||"")}(o);n=new UE(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=e_(e,s.document.name),l=YE(s.document.updateTime),f=new YS({mapValue:{fields:s.document.fields}}),d=JS.newFoundDocument(c,l,f),h=s.targetIds||[],p=s.removedTargetIds||[];n=new FE(h,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=e_(e,v.document),y=v.readTime?YE(v.readTime):Cx.min(),g=JS.newNoDocument(m,y),b=v.removedTargetIds||[];n=new FE([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=e_(e,k.document),x=k.removedTargetIds||[];n=new FE([],x,w,null)}else{if(!("filter"in t))return sx();t.filter;var S=t.filter;S.targetId;var I=S.count||0,E=new gE(I),_=S.targetId;n=new VE(_,E)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return Cx.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Cx.min():t.readTime?YE(t.readTime):Cx.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=r_(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=rI(r)?{documents:l_(e,r)}:{query:f_(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=QE(e,t.resumeToken):t.snapshotVersion.compareTo(Cx.min())>0&&(n.readTime=HE(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return sx()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=r_(this.wt),t.removeTarget=e,this.Oo(t)}}]),n}(kA),xA=function(e){fs(n,e);var t=ms(n);function n(e,r,i,a,o,u){var s;return go(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s.Wo=!1,s}return ko(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Il(ds(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(cx(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(cx(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?YE(e.updateTime):YE(t);return n.isEqual(Cx.min())&&(n=YE(t)),new eE(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=YE(e.commitTime);return this.listener.Jo(n,t)}return cx(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=r_(this.wt),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return s_(t.wt,e)}))};this.Oo(n)}}]),n}(kA),SA=function(e){fs(n,e);var t=ms(n);function n(e,r,i,a){var o;return go(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return ko(n,[{key:"tu",value:function(){if(this.Zo)throw new dx(fx.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===fx.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new dx(fx.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),u=o[0],s=o[1];return i.bo.ao(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===fx.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new dx(fx.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return ko((function e(){go(this,e)}))}()),IA=function(){function e(t,n){go(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return ko(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(ax(t),this.su=!1):ix("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),EA=ko((function e(t,n,r,i,a){var o=this;go(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget($s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=MA(o),!e.t0){e.next=5;break}return ix("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=$s(Hs().mark((function e(t){var n;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=lx(t)).lu.add(4),e.next=4,CA(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,_A(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new IA(r,i)}));function _A(e){return TA.apply(this,arguments)}function TA(){return TA=$s(Hs().mark((function e(t){var n,r,i;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!MA(t)){e.next=18;break}n=cs(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),TA.apply(this,arguments)}function CA(e){return AA.apply(this,arguments)}function AA(){return AA=$s(Hs().mark((function e(t){var n,r,i;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=cs(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),AA.apply(this,arguments)}function NA(e,t){var n=lx(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),LA(n)?DA(n):fN(n).Co()&&PA(n,t))}function RA(e,t){var n=lx(e),r=fN(n);n.hu.delete(t),r.Co()&&OA(n,t),0===n.hu.size&&(r.Co()?r.ko():MA(n)&&n._u.set("Unknown"))}function PA(e,t){e.wu.Nt(t.targetId),fN(e).Qo(t)}function OA(e,t){e.wu.Nt(t),fN(e).jo(t)}function DA(e){e.wu=new zE({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),fN(e).start(),e._u.iu()}function LA(e){return MA(e)&&!fN(e).Do()&&e.hu.size>0}function MA(e){return 0===lx(e).lu.size}function FA(e){e.wu=void 0}function VA(e){return UA.apply(this,arguments)}function UA(){return UA=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){PA(t,e)}));case 1:case"end":return e.stop()}}),e)}))),UA.apply(this,arguments)}function jA(e,t){return zA.apply(this,arguments)}function zA(){return zA=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:FA(t),LA(t)?(t._u.uu(n),DA(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),zA.apply(this,arguments)}function BA(e,t,n){return qA.apply(this,arguments)}function qA(){return qA=$s(Hs().mark((function e(t,n,r){var i;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof UE&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=$s(Hs().mark((function e(t,n){var r,i,a,o;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=cs(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),ix("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,WA(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof FE?t.wu.Ut(n):n instanceof VE?t.wu.zt(n):t.wu.Gt(n),r.isEqual(Cx.min())){e.next=29;break}return e.prev=14,e.next=17,jC(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(mS.EMPTY_BYTE_STRING,n.snapshotVersion)),OA(e,t);var r=new eT(n.target,t,1,n.sequenceNumber);PA(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),ix("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,WA(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),qA.apply(this,arguments)}function WA(e,t,n){return KA.apply(this,arguments)}function KA(){return KA=$s(Hs().mark((function e(t,n,r){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Jx(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,CA(t);case 5:t._u.set("Offline"),r||(r=function(){return jC(t.localStore)}),t.asyncQueue.enqueueRetryable($s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ix("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,_A(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),KA.apply(this,arguments)}function GA(e,t){return t().catch((function(n){return WA(e,n,t)}))}function HA(e){return QA.apply(this,arguments)}function QA(){return QA=$s(Hs().mark((function e(t){var n,r,i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=lx(t),r=dN(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!$A(n)){e.next=19;break}return e.prev=3,e.next=6,qC(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,YA(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,WA(n,e.t0);case 17:e.next=2;break;case 19:XA(n)&&JA(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),QA.apply(this,arguments)}function $A(e){return MA(e)&&e.au.length<10}function YA(e,t){e.au.push(t);var n=dN(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function XA(e){return MA(e)&&!dN(e).Do()&&e.au.length>0}function JA(e){dN(e).start()}function ZA(e){return eN.apply(this,arguments)}function eN(){return eN=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dN(t).Xo();case 1:case"end":return e.stop()}}),e)}))),eN.apply(this,arguments)}function tN(e){return nN.apply(this,arguments)}function nN(){return nN=$s(Hs().mark((function e(t){var n,r,i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=dN(t),r=cs(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),nN.apply(this,arguments)}function rN(e,t,n){return iN.apply(this,arguments)}function iN(){return iN=$s(Hs().mark((function e(t,n,r){var i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=J_.from(i,n,r),e.next=3,GA(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,HA(t);case 5:case"end":return e.stop()}}),e)}))),iN.apply(this,arguments)}function aN(e,t){return oN.apply(this,arguments)}function oN(){return oN=$s(Hs().mark((function e(t,n){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&dN(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=$s(Hs().mark((function e(t,n){var r,i;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!bE(i=n.code)||i===fx.ABORTED){e.next=7;break}return r=t.au.shift(),dN(t).No(),e.next=5,GA(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,HA(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:XA(t)&&JA(t);case 5:case"end":return e.stop()}}),e)}))),oN.apply(this,arguments)}function uN(e,t){return sN.apply(this,arguments)}function sN(){return sN=$s(Hs().mark((function e(t,n){var r,i;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=lx(t)).asyncQueue.verifyOperationInProgress(),ix("RemoteStore","RemoteStore received new credentials"),i=MA(r),r.lu.add(3),e.next=6,CA(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,_A(r);case 12:case"end":return e.stop()}}),e)}))),sN.apply(this,arguments)}function cN(e,t){return lN.apply(this,arguments)}function lN(){return lN=$s(Hs().mark((function e(t,n){var r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=lx(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,_A(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,CA(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),lN.apply(this,arguments)}function fN(e){return e.mu||(e.mu=function(e,t,n){var r=lx(e);return r.tu(),new wA(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:VA.bind(null,e),Jr:jA.bind(null,e),Go:BA.bind(null,e)}),e.fu.push(function(){var t=$s(Hs().mark((function t(n){return Hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),LA(e)?DA(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:FA(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function dN(e){return e.gu||(e.gu=function(e,t,n){var r=lx(e);return r.tu(),new xA(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:ZA.bind(null,e),Jr:aN.bind(null,e),Yo:tN.bind(null,e),Jo:rN.bind(null,e)}),e.fu.push(function(){var t=$s(Hs().mark((function t(n){return Hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,HA(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(ix("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var hN=function(){function e(t,n,r,i,a){go(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new hx,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return ko(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dx(fx.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function pN(e,t){if(ax("AsyncQueue","".concat(t,": ").concat(e)),Jx(e))return new dx(fx.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var vN=function(){function e(t){go(this,e),this.comparator=t?function(e,n){return t(e,n)||Ox.comparator(e.key,n.key)}:function(e,t){return Ox.comparator(e.key,t.key)},this.keyedMap=EE(),this.sortedSet=new cS(this.comparator)}return ko(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),mN=function(){function e(){go(this,e),this.yu=new cS(Ox.comparator)}return ko(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):sx():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),yN=function(){function e(t,n,r,i,a,o,u,s){go(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return ko(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&RI(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,vN.emptySet(n),a,r,i,!0,!1)}}]),e}(),gN=ko((function e(){go(this,e),this.Iu=void 0,this.listeners=[]})),bN=ko((function e(){go(this,e),this.queries=new wE((function(e){return PI(e)}),RI),this.onlineState="Unknown",this.Tu=new Set}));function kN(e,t){return wN.apply(this,arguments)}function wN(){return wN=$s(Hs().mark((function e(t,n){var r,i,a,o,u;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=lx(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new gN),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=pN(e.t0,"Initialization of query '".concat(OI(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&_N(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),wN.apply(this,arguments)}function xN(e,t){return SN.apply(this,arguments)}function SN(){return SN=$s(Hs().mark((function e(t,n){var r,i,a,o,u;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=lx(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),SN.apply(this,arguments)}function IN(e,t){var n,r=lx(e),i=!1,a=cs(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=cs(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&_N(r)}function EN(e,t,n){var r=lx(e),i=r.queries.get(t);if(i){var a,o=cs(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function _N(e){e.Tu.forEach((function(e){e.next()}))}var TN=function(){function e(t,n,r){go(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return ko(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=cs(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new yN(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=yN.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),CN=function(){function e(t,n){go(this,e),this.payload=t,this.byteLength=n}return ko(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),AN=function(){function e(t){go(this,e),this.wt=t}return ko(e,[{key:"Wi",value:function(e){return e_(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?o_(this.wt,e.document,!1):JS.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return YE(e)}}]),e}(),NN=function(){function e(t,n,r){go(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=RN(t)}return ko(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Nx.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new AN(this.wt),i=cs(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Wi(a.metadata.name),s=cs(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||PE()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=$s(Hs().mark((function e(){var t,n,r,i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XC(this.localStore,new AN(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=cs(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,ZC(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function RN(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var PN=ko((function e(t){go(this,e),this.key=t})),ON=ko((function e(t){go(this,e),this.key=t})),DN=function(){function e(t,n){go(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=PE(),this.mutatedKeys=PE(),this.Lu=MI(t),this.Uu=new vN(this.Lu)}return ko(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new mN,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=DI(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Mi:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sx()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new yN(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new mN,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=PE(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new ON(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new PN(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=PE();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return yN.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),LN=ko((function e(t,n,r){go(this,e),this.query=t,this.targetId=n,this.view=r})),MN=ko((function e(t){go(this,e),this.key=t,this.Xu=!1})),FN=function(){function e(t,n,r,i,a,o){go(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new wE((function(e){return PI(e)}),RI),this.ec=new Map,this.nc=new Set,this.sc=new cS(Ox.comparator),this.ic=new Map,this.rc=new yC,this.oc={},this.uc=new Map,this.cc=HT.Rn(),this.onlineState="Unknown",this.ac=void 0}return ko(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function VN(e,t){return UN.apply(this,arguments)}function UN(){return UN=$s(Hs().mark((function e(t,n){var r,i,a,o,u,s;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=RR(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,WC(r.localStore,AI(n));case 8:return u=e.sent,r.isPrimaryClient&&NA(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,jN(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),UN.apply(this,arguments)}function jN(e,t,n,r){return zN.apply(this,arguments)}function zN(){return zN=$s(Hs().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=$s(Hs().mark((function e(t,n,r,i){var a,o,u;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,HC(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(uR(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,HC(t.localStore,n,!0);case 3:return a=e.sent,o=new DN(n,a.ji),u=o.Ku(a.documents),s=ME.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),uR(t,r,c.zu),l=new LN(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),zN.apply(this,arguments)}function BN(e,t){return qN.apply(this,arguments)}function qN(){return qN=$s(Hs().mark((function e(t,n){var r,i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=lx(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!RI(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,KC(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),RA(r.remoteStore,i.targetId),aR(r,i.targetId)})).catch(Kx);case 9:e.next=14;break;case 11:return aR(r,i.targetId),e.next=14,KC(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),qN.apply(this,arguments)}function WN(e,t,n){return KN.apply(this,arguments)}function KN(){return KN=$s(Hs().mark((function e(t,n,r){var i,a,o;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=PR(t),e.prev=1,e.next=4,function(e,t){var n,r,i=lx(e),a=Tx.now(),o=t.reduce((function(e,t){return e.add(t.key)}),PE());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=SE(),s=PE();return i.Ui.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=cs(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=uE(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new lE(c.key,l,XS(l.value.mapValue),tE.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:_E(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new cS(Ix)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,lR(i,a.changes);case 9:return e.next=11,HA(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=pN(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),KN.apply(this,arguments)}function GN(e,t){return HN.apply(this,arguments)}function HN(){return HN=$s(Hs().mark((function e(t,n){var r,i;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lx(t),e.prev=1,e.next=4,zC(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(cx(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?cx(n.Xu):e.removedDocuments.size>0&&(cx(n.Xu),n.Xu=!1))})),e.next=8,lR(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Kx(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),HN.apply(this,arguments)}function QN(e,t,n){var r=lx(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=lx(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=cs(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&_N(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function $N(e,t,n){return YN.apply(this,arguments)}function YN(){return YN=$s(Hs().mark((function e(t,n,r){var i,a,o,u,s,c;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=lx(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new cS(Ox.comparator)).insert(o,JS.newNoDocument(o,Cx.min())),s=PE().add(o),c=new LE(Cx.min(),new Map,new dS(Ix),u,s),e.next=9,GN(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),cR(i),e.next=16;break;case 14:return e.next=16,KC(i.localStore,n,!1).then((function(){return aR(i,n,r)})).catch(Kx);case 16:case"end":return e.stop()}}),e)}))),YN.apply(this,arguments)}function XN(e,t){return JN.apply(this,arguments)}function JN(){return JN=$s(Hs().mark((function e(t,n){var r,i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lx(t),i=n.batch.batchId,e.prev=1,e.next=4,UC(r.localStore,n);case 4:return a=e.sent,iR(r,i,null),rR(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,lR(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Kx(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),JN.apply(this,arguments)}function ZN(e,t,n){return eR.apply(this,arguments)}function eR(){return eR=$s(Hs().mark((function e(t,n,r){var i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=lx(t),e.prev=1,e.next=4,function(e,t){var n=lx(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return cx(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,iR(i,n,r),rR(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,lR(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Kx(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),eR.apply(this,arguments)}function tR(e,t){return nR.apply(this,arguments)}function nR(){return nR=$s(Hs().mark((function e(t,n){var r,i,a,o;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return MA((r=lx(t)).remoteStore)||ix("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=lx(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=pN(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),nR.apply(this,arguments)}function rR(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function iR(e,t,n){var r=lx(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function aR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=cs(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||oR(e,t)}))}function oR(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(RA(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),cR(e))}function uR(e,t,n){var r,i=cs(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof PN?(e.rc.addReference(a.key,t),sR(e,a)):a instanceof ON?(ix("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||oR(e,a.key)):sx()}}catch(o){i.e(o)}finally{i.f()}}function sR(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(ix("SyncEngine","New document in limbo: "+n),e.nc.add(r),cR(e))}function cR(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new Ox(Nx.fromString(t)),r=e.cc.next();e.ic.set(r,new MN(n)),e.sc=e.sc.insert(n,r),NA(e.remoteStore,new eT(AI(SI(n.path)),r,2,aS.ot))}}function lR(e,t,n){return fR.apply(this,arguments)}function fR(){return fR=$s(Hs().mark((function e(t,n,r){var i,a,o,u;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=lx(t),a=[],o=[],u=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){u.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=OC.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Go(a),e.next=9,function(){var e=$s(Hs().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lx(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Hx.forEach(n,(function(t){return Hx.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Hx.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Jx(e.t0)){e.next=10;break}throw e.t0;case 10:ix("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=cs(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.$i.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),fR.apply(this,arguments)}function dR(e,t){return hR.apply(this,arguments)}function hR(){return hR=$s(Hs().mark((function e(t,n){var r,i;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=lx(t)).currentUser.isEqual(n)){e.next=11;break}return ix("SyncEngine","User change. New user:",n.toKey()),e.next=5,FC(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new dx(fx.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,lR(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),hR.apply(this,arguments)}function pR(e,t){var n=lx(e),r=n.ic.get(t);if(r&&r.Xu)return PE().add(r.key);var i=PE(),a=n.ec.get(t);if(!a)return i;var o,u=cs(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.tc.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function vR(e,t){return mR.apply(this,arguments)}function mR(){return mR=$s(Hs().mark((function e(t,n){var r,i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lx(t),e.next=3,HC(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&uR(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),mR.apply(this,arguments)}function yR(e,t){return gR.apply(this,arguments)}function gR(){return gR=$s(Hs().mark((function e(t,n){var r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lx(t),e.abrupt("return",$C(r.localStore,n).then((function(e){return lR(r,e)})));case 2:case"end":return e.stop()}}),e)}))),gR.apply(this,arguments)}function bR(e,t,n,r){return kR.apply(this,arguments)}function kR(){return kR=$s(Hs().mark((function e(t,n,r,i){var a,o;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=lx(t),e.next=3,function(e,t){var n=lx(e),r=lx(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Hx.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,HA(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(iR(a,n,i||null),rR(a,n),function(e,t){lx(lx(e).mutationQueue).In(t)}(a.localStore,n)):sx();case 11:return e.next=13,lR(a,o);case 13:e.next=16;break;case 15:ix("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),kR.apply(this,arguments)}function wR(e,t){return xR.apply(this,arguments)}function xR(){return xR=$s(Hs().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(RR(r=lx(t)),PR(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,SR(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,cN(r.remoteStore,!0);case 9:o=cs(a);try{for(o.s();!(u=o.n()).done;)s=u.value,NA(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return aR(r,t),KC(r.localStore,t,!0)})),RA(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,SR(r,c);case 21:return function(e){var t=lx(e);t.ic.forEach((function(e,n){RA(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new cS(Ox.comparator)}(r),r.ac=!1,e.next=25,cN(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),xR.apply(this,arguments)}function SR(e,t,n){return IR.apply(this,arguments)}function IR(){return IR=$s(Hs().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,h,p,v,m,y;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=lx(t),a=[],o=[],u=cs(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,WC(i.localStore,AI(f[0]));case 11:l=e.sent,d=cs(f),e.prev=13,d.s();case 15:if((h=d.n()).done){e.next=24;break}return p=h.value,v=i.tc.get(p),e.next=20,vR(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,QC(i.localStore,c);case 36:return y=e.sent,e.next=39,WC(i.localStore,y);case 39:return l=e.sent,e.next=42,jN(i,ER(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),IR.apply(this,arguments)}function ER(e){return xI(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function _R(e){var t=lx(e);return lx(lx(t.localStore).persistence).Ri()}function TR(e,t,n,r){return CR.apply(this,arguments)}function CR(){return CR=$s(Hs().mark((function e(t,n,r,i){var a,o,u,s;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=lx(t)).ac){e.next=3;break}return e.abrupt("return",void ix("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,$C(a.localStore,LI(o[0]));case 10:return u=e.sent,s=LE.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,lR(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,KC(a.localStore,n,!0);case 17:return aR(a,n,i),e.abrupt("break",20);case 19:sx();case 20:case"end":return e.stop()}}),e)}))),CR.apply(this,arguments)}function AR(e,t,n){return NR.apply(this,arguments)}function NR(){return NR=$s(Hs().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=RR(t)).ac){e.next=45;break}a=cs(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ec.has(u)){e.next=10;break}return ix("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,QC(i.localStore,u);case 12:return s=e.sent,e.next=15,WC(i.localStore,s);case 15:return c=e.sent,e.next=18,jN(i,ER(s),c.targetId,!1);case 18:NA(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=cs(r),e.prev=30,d=Hs().mark((function e(){var t;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,KC(i.localStore,t,!1).then((function(){RA(i.remoteStore,t),aR(i,t)})).catch(Kx);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),NR.apply(this,arguments)}function RR(e){var t=lx(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=GN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$N.bind(null,t),t.Zu.Go=IN.bind(null,t.eventManager),t.Zu.lc=EN.bind(null,t.eventManager),t}function PR(e){var t=lx(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=XN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ZN.bind(null,t),t}function OR(e,t,n){var r=lx(e);(function(){var e=$s(Hs().mark((function e(t,n,r){var i,a,o,u,s;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=lx(e),r=YE(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(RN(i)),a=new NN(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,lR(t,s.Ou,void 0);case 31:return e.next=33,function(e,t){var n=lx(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(ox("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var DR=function(){function e(){go(this,e),this.synchronizeTabs=!1}return ko(e,[{key:"initialize",value:function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=gA(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return MC(this.persistence,new DC,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new SC(EC.Os,this.wt)}},{key:"dc",value:function(e){return new lA}},{key:"terminate",value:function(){var e=$s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),LR=function(e){fs(n,e);var t=ms(n);function n(e,r,i){var a;return go(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return ko(n,[{key:"initialize",value:function(){var e=$s(Hs().mark((function e(t){var r=this;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Il(ds(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,PR(this.yc.syncEngine);case 6:return e.next=8,HA(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return MC(this.persistence,new DC,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new eC(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new iS(t,this.persistence);return new rS(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=PC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?UT.withCacheSize(this.cacheSizeBytes):UT.DEFAULT;return new AC(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,mA(),yA(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new lA}}]),n}(DR),MR=function(e){fs(n,e);var t=ms(n);function n(e,r){var i;return go(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ko(n,[{key:"initialize",value:function(){var e=$s(Hs().mark((function e(t){var r,i=this;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Il(ds(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof cA,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:bR.bind(null,r),Mr:TR.bind(null,r),Or:AR.bind(null,r),Ri:_R.bind(null,r),Nr:yR.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wR(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=mA();if(!cA.V(t))throw new dx(fx.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=PC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cA(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(LR),FR=function(){function e(){go(this,e)}return ko(e,[{key:"initialize",value:function(){var e=$s(Hs().mark((function e(t,n){var r=this;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return QN(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=dR.bind(null,this.syncEngine),e.next=12,cN(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new bN}},{key:"createDatastore",value:function(e){var t,n=gA(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new vA(t));return function(e,t,n,r){return new SA(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return QN(o.syncEngine,e,0)},a=dA.V()?new dA:new fA,new EA(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new FN(e,t,n,r,i,a);return o&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=$s(Hs().mark((function e(t){var n;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=lx(t),ix("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,CA(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function VR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return $s(Hs().mark((function r(){var i;return Hs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return $s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var UR=function(){function e(t){go(this,e),this.observer=t,this.muted=!1}return ko(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):ax("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),jR=function(){function e(t,n){var r=this;go(this,e),this.Ec=t,this.wt=n,this.metadata=new hx,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return ko(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=$s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=$s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=$s(Hs().mark((function e(){var t,n,r,i;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new CN(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=$s(Hs().mark((function e(){var t,n;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=$s(Hs().mark((function e(t){var n;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=$s(Hs().mark((function e(){var t,n;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),zR=function(){function e(t){go(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return ko(e,[{key:"lookup",value:function(){var e=$s(Hs().mark((function e(t){var n,r=this;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new dx(fx.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=$s(Hs().mark((function e(t,n){var r,i,a,o,u,s;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lx(t),i=r_(r.wt)+"/documents",a={documents:n.map((function(e){return ZE(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=u_(r.wt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());cx(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new mE(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=$s(Hs().mark((function e(){var t,n=this;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Ox.fromPath(t);n.mutations.push(new yE(r,n.precondition(r)))})),e.next=7,function(){var e=$s(Hs().mark((function e(t,n){var r,i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lx(t),i=r_(r.wt)+"/documents",a={writes:n.map((function(e){return s_(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw sx();t=Cx.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new dx(fx.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?tE.updateTime(t):tE.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Cx.min()))throw new dx(fx.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tE.updateTime(t)}return tE.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),BR=function(){function e(t,n,r,i,a){go(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new bA(this.asyncQueue,"transaction_retry")}return ko(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io($s(Hs().mark((function t(){var n,r;return Hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new zR(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!_S(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!bE(t)}return!1}}]),e}(),qR=function(){function e(t,n,r,i){var a=this;go(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ex.UNAUTHENTICATED,this.clientId=Sx.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ix("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return ix("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return ko(e,[{key:"getConfiguration",value:function(){var e=$s(Hs().mark((function e(){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new dx(fx.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new hx;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted($s(Hs().mark((function n(){var r;return Hs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=pN(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function WR(e,t){return KR.apply(this,arguments)}function KR(){return KR=$s(Hs().mark((function e(t,n){var r,i;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),ix("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,FC(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),KR.apply(this,arguments)}function GR(e,t){return HR.apply(this,arguments)}function HR(){return HR=$s(Hs().mark((function e(t,n){var r,i;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,QR(t);case 3:return r=e.sent,ix("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return uN(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return uN(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),HR.apply(this,arguments)}function QR(e){return $R.apply(this,arguments)}function $R(){return $R=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return ix("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,WR(t,new DR);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),$R.apply(this,arguments)}function YR(e){return XR.apply(this,arguments)}function XR(){return XR=$s(Hs().mark((function e(t){return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return ix("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,GR(t,new FR);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),XR.apply(this,arguments)}function JR(e){return QR(e).then((function(e){return e.persistence}))}function ZR(e){return QR(e).then((function(e){return e.localStore}))}function eP(e){return YR(e).then((function(e){return e.remoteStore}))}function tP(e){return YR(e).then((function(e){return e.syncEngine}))}function nP(e){return rP.apply(this,arguments)}function rP(){return rP=$s(Hs().mark((function e(t){var n,r;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YR(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=VN.bind(null,n.syncEngine),r.onUnlisten=BN.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),rP.apply(this,arguments)}function iP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new hx;return e.asyncQueue.enqueueAndForget($s(Hs().mark((function i(){return Hs().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new UR({next:function(a){t.enqueueAndForget((function(){return xN(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new dx(fx.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new dx(fx.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new TN(SI(n.path),a,{includeMetadataChanges:!0,Du:!0});return kN(e,o)},i.next=3,nP(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function aP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new hx;return e.asyncQueue.enqueueAndForget($s(Hs().mark((function i(){return Hs().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new UR({next:function(n){t.enqueueAndForget((function(){return xN(e,o)})),n.fromCache&&"server"===r.source?i.reject(new dx(fx.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new TN(n,a,{includeMetadataChanges:!0,Du:!0});return kN(e,o)},i.next=3,nP(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var oP=new Map;function uP(e,t,n){if(!n)throw new dx(fx.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function sP(e,t,n,r){if(!0===t&&!0===r)throw new dx(fx.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function cP(e){if(!Ox.isDocumentKey(e))throw new dx(fx.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function lP(e){if(Ox.isDocumentKey(e))throw new dx(fx.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function fP(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":sx()}function dP(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new dx(fx.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=fP(e);throw new dx(fx.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function hP(e,t){if(t<=0)throw new dx(fx.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var pP=function(){function e(t){var n;if(go(this,e),void 0===t.host){if(void 0!==t.ssl)throw new dx(fx.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new dx(fx.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,sP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return ko(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),vP=function(){function e(t,n,r){go(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pP({}),this._settingsFrozen=!1,t instanceof ES?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new dx(fx.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ES(e.options.projectId)}(t))}return ko(e,[{key:"app",get:function(){if(!this._app)throw new dx(fx.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new dx(fx.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pP(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new vx;switch(e.type){case"gapi":var t=e.client;return cx(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new bx(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new dx(fx.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=oP.get(e);t&&(ix("ComponentProvider","Removing Datastore"),oP.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function mP(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=dP(e,vP))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&ox("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=ex.MOCK_USER;else{o=Es(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new dx(fx.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ex(s)}e._authCredentials=new mx(new px(o,u))}}var yP=function(){function e(t,n,r){go(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return ko(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new bP(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),gP=function(){function e(t,n,r){go(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return ko(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),bP=function(e){fs(n,e);var t=ms(n);function n(e,r,i){var a;return go(this,n),(a=t.call(this,e,r,SI(i)))._path=i,a.type="collection",a}return ko(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new yP(this.firestore,null,new Ox(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(gP);function kP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Gs(e),uP("collection","path",t),e instanceof vP){var a=Nx.fromString.apply(Nx,[t].concat(r));return lP(a),new bP(e,null,a)}if(!(e instanceof yP||e instanceof bP))throw new dx(fx.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Nx.fromString.apply(Nx,[t].concat(r)));return lP(o),new bP(e.firestore,null,o)}function wP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Gs(e),1===arguments.length&&(t=Sx.I()),uP("doc","path",t),e instanceof vP){var a=Nx.fromString.apply(Nx,[t].concat(r));return cP(a),new yP(e,null,new Ox(a))}if(!(e instanceof yP||e instanceof bP))throw new dx(fx.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Nx.fromString.apply(Nx,[t].concat(r)));return cP(o),new yP(e.firestore,e instanceof bP?e.converter:null,new Ox(o))}function xP(e,t){return e=Gs(e),t=Gs(t),(e instanceof yP||e instanceof bP)&&(t instanceof yP||t instanceof bP)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function SP(e,t){return e=Gs(e),t=Gs(t),e instanceof gP&&t instanceof gP&&e.firestore===t.firestore&&RI(e._query,t._query)&&e.converter===t.converter}var IP=function(){function e(){var t=this;go(this,e),this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new bA(this,"async_queue_retry"),this.Kc=function(){var e=yA();e&&ix("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=yA();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return ko(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=yA();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new hx;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Oc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=$s(Hs().mark((function e(){var t=this;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Oc.length){e.next=14;break}return e.prev=1,e.next=4,this.Oc[0]();case 4:this.Oc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Jx(e.t0)){e.next=12;break}throw e.t0;case 12:ix("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Oc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Mc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ax("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=hN.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&sx()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=$s(Hs().mark((function e(){var t;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Mc,e.next=3,t;case 3:if(t!==this.Mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=cs(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=cs(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function EP(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=cs(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var _P=function(){function e(){go(this,e),this._progressObserver={},this._taskCompletionResolver=new hx,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return ko(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),TP=function(e){fs(n,e);var t=ms(n);function n(e,r,i){var a;return go(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new IP,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return ko(n,[{key:"_terminate",value:function(){return this._firestoreClient||AP(this),this._firestoreClient.terminate()}}]),n}(vP);function CP(e){return e._firestoreClient||AP(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function AP(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new IS(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new qR(e._authCredentials,e._appCheckCredentials,e._queue,r)}function NP(e,t,n){var r=new hx;return e.asyncQueue.enqueue($s(Hs().mark((function i(){var a;return Hs().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,WR(e,n);case 3:return i.next=5,GR(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===fx.FAILED_PRECONDITION||e.code===fx.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:ox("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function RP(e){return function(e){return e.asyncQueue.enqueue($s(Hs().mark((function t(){var n,r;return Hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,JR(e);case 2:return n=t.sent,t.next=5,eP(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=lx(e);return t.lu.delete(0),_A(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(CP(e=dP(e,TP)))}function PP(e){return function(e){return e.asyncQueue.enqueue($s(Hs().mark((function t(){var n,r;return Hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,JR(e);case 2:return n=t.sent,t.next=5,eP(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=$s(Hs().mark((function e(t){var n;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=lx(t)).lu.add(0),e.next=4,CA(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(CP(e=dP(e,TP)))}function OP(e,t){var n=CP(e=dP(e,TP)),r=new _P;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new jR(e,t)}(function(e,t){if(e instanceof Uint8Array)return VR(e,t);if(e instanceof ArrayBuffer)return VR(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,gA(t));e.asyncQueue.enqueueAndForget($s(Hs().mark((function t(){return Hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=OR,t.next=3,tP(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function DP(e,t){return function(e,t){return e.asyncQueue.enqueue($s(Hs().mark((function n(){return Hs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=lx(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,ZR(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(CP(e=dP(e,TP)),t).then((function(t){return t?new gP(e,null,t.query):null}))}function LP(e){if(e._initialized||e._terminated)throw new dx(fx.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var MP=function(){function e(){go(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new dx(fx.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Px(n)}return ko(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var FP=function(){function e(t){go(this,e),this._byteString=t}return ko(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(mS.fromBase64String(t))}catch(t){throw new dx(fx.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(mS.fromUint8Array(t))}}]),e}(),VP=ko((function e(t){go(this,e),this._methodName=t})),UP=function(){function e(t,n){if(go(this,e),!isFinite(t)||t<-90||t>90)throw new dx(fx.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new dx(fx.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return ko(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Ix(this._lat,e._lat)||Ix(this._long,e._long)}}]),e}(),jP=/^__.*__$/,zP=function(){function e(t,n,r){go(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ko(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new lE(e,this.data,this.fieldMask,t,this.fieldTransforms):new cE(e,this.data,t,this.fieldTransforms)}}]),e}(),BP=function(){function e(t,n,r){go(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ko(e,[{key:"toMutation",value:function(e,t){return new lE(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function qP(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sx()}}var WP=function(){function e(t,n,r,i,a,o){go(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return ko(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return lO(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(qP(this.Zc)&&jP.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),KP=function(){function e(t,n,r){go(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||gA(t)}return ko(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new WP({Zc:e,methodName:t,ca:n,path:Px.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function GP(e){var t=e._freezeSettings(),n=gA(e._databaseId);return new KP(e._databaseId,!!t.ignoreUndefinedProperties,n)}function HP(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);oO("Data must be an object, but it was:",o,r);var u,s,c=iO(r,o);if(a.merge)u=new vS(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=cs(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=l.value,p=uO(t,h,n);if(!o.contains(p))throw new dx(fx.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));fO(f,p)||f.push(p)}}catch(v){d.e(v)}finally{d.f()}u=new vS(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new zP(new YS(c),u,s)}var QP=function(e){fs(n,e);var t=ms(n);function n(){return go(this,n),t.apply(this,arguments)}return ko(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(VP);function $P(e,t,n){return new WP({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var YP=function(e){fs(n,e);var t=ms(n);function n(){return go(this,n),t.apply(this,arguments)}return ko(n,[{key:"_toFieldTransform",value:function(e){return new ZI(e.path,new KI)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(VP),XP=function(e){fs(n,e);var t=ms(n);function n(e,r){var i;return go(this,n),(i=t.call(this,e)).ha=r,i}return ko(n,[{key:"_toFieldTransform",value:function(e){var t=$P(this,e,!0),n=this.ha.map((function(e){return rO(e,t)})),r=new GI(n);return new ZI(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(VP),JP=function(e){fs(n,e);var t=ms(n);function n(e,r){var i;return go(this,n),(i=t.call(this,e)).ha=r,i}return ko(n,[{key:"_toFieldTransform",value:function(e){var t=$P(this,e,!0),n=this.ha.map((function(e){return rO(e,t)})),r=new QI(n);return new ZI(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(VP),ZP=function(e){fs(n,e);var t=ms(n);function n(e,r){var i;return go(this,n),(i=t.call(this,e)).la=r,i}return ko(n,[{key:"_toFieldTransform",value:function(e){var t=new YI(e.wt,jI(e.wt,this.la));return new ZI(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(VP);function eO(e,t,n,r){var i=e.aa(1,t,n);oO("Data must be an object, but it was:",i,r);var a=[],o=YS.empty();uS(r,(function(e,r){var u=cO(t,e,n);r=Gs(r);var s=i.ia(u);if(r instanceof QP)a.push(u);else{var c=rO(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new vS(a);return new BP(o,u,i.fieldTransforms)}function tO(e,t,n,r,i,a){var o=e.aa(1,t,n),u=[uO(t,r,n)],s=[i];if(a.length%2!=0)throw new dx(fx.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(uO(t,a[c])),s.push(a[c+1]);for(var l=[],f=YS.empty(),d=u.length-1;d>=0;--d)if(!fO(l,u[d])){var h=u[d],p=s[d];p=Gs(p);var v=o.ia(h);if(p instanceof QP)l.push(h);else{var m=rO(p,v);null!=m&&(l.push(h),f.set(h,m))}}var y=new vS(l);return new BP(f,y,o.fieldTransforms)}function nO(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return rO(n,e.aa(r?4:3,t))}function rO(e,t){if(aO(e=Gs(e)))return oO("Unsupported field value:",t,e),iO(e,t);if(e instanceof VP)return function(e,t){if(!qP(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=cs(e);try{for(a.s();!(n=a.n()).done;){var o=rO(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Gs(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return jI(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Tx.fromDate(e);return{timestampValue:HE(t.wt,n)}}if(e instanceof Tx){var r=new Tx(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:HE(t.wt,r)}}if(e instanceof UP)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof FP)return{bytesValue:QE(t.wt,e._byteString)};if(e instanceof yP){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:XE(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(fP(e)))}(e,t)}function iO(e,t){var n={};return sS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):uS(e,(function(e,r){var i=rO(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function aO(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Tx||e instanceof UP||e instanceof FP||e instanceof yP||e instanceof VP)}function oO(e,t,n){if(!aO(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=fP(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function uO(e,t,n){if((t=Gs(t))instanceof MP)return t._internalPath;if("string"==typeof t)return cO(e,t);throw lO("Field path arguments must be of type string or ",e,!1,void 0,n)}var sO=new RegExp("[~\\*/\\[\\]]");function cO(e,t,n){if(t.search(sO)>=0)throw lO("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ys(MP,b(t.split(".")))._internalPath}catch(r){throw lO("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function lO(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new dx(fx.INVALID_ARGUMENT,u+e+s)}function fO(e,t){return e.some((function(e){return e.isEqual(t)}))}var dO=function(){function e(t,n,r,i,a){go(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return ko(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new yP(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new hO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(pO("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),hO=function(e){fs(n,e);var t=ms(n);function n(){return go(this,n),t.apply(this,arguments)}return ko(n,[{key:"data",value:function(){return Il(ds(n.prototype),"data",this).call(this)}}]),n}(dO);function pO(e,t){return"string"==typeof t?cO(e,t):t instanceof MP?t._internalPath:t._delegate._internalPath}var vO=function(){function e(t,n){go(this,e),this.hasPendingWrites=t,this.fromCache=n}return ko(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),mO=function(e){fs(n,e);var t=ms(n);function n(e,r,i,a,o,u){var s;return go(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return ko(n,[{key:"exists",value:function(){return Il(ds(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new yO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(pO("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(dO),yO=function(e){fs(n,e);var t=ms(n);function n(){return go(this,n),t.apply(this,arguments)}return ko(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Il(ds(n.prototype),"data",this).call(this,e)}}]),n}(mO),gO=function(){function e(t,n,r,i){go(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new vO(i.hasPendingWrites,i.fromCache),this.query=r}return ko(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new yO(n._firestore,n._userDataWriter,r.key,r,new vO(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new dx(fx.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new yO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new vO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new yO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new vO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:bO(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function bO(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sx()}}function kO(e,t){return e instanceof mO&&t instanceof mO?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof gO&&t instanceof gO&&e._firestore===t._firestore&&SP(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function wO(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new dx(fx.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var xO=ko((function e(){go(this,e)}));function SO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var IO=function(e){fs(n,e);var t=ms(n);function n(e,r,i){var a;return go(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return ko(n,[{key:"_apply",value:function(e){var t=GP(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new dx(fx.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){LO(o,a);var s,c=[],l=cs(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(DO(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=DO(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||LO(o,a),u=nO(n,"where",o,"in"===a||"not-in"===a);var d=uI.create(i,a,u);return function(e,t){if(t.ht()){var n=_I(e);if(null!==n&&!n.isEqual(t.field))throw new dx(fx.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=EI(e);null!==r&&MO(e,t.field,r)}var i=function(e,t){var n,r=cs(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(h){r.e(h)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new dx(fx.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new dx(fx.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new gP(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new wI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(xO);var EO=function(e){fs(n,e);var t=ms(n);function n(e,r){var i;return go(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return ko(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new dx(fx.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new dx(fx.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new yI(t,n);return function(e,t){if(null===EI(e)){var n=_I(e);null!==n&&MO(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new gP(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new wI(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(xO);var _O=function(e){fs(n,e);var t=ms(n);function n(e,r,i){var a;return go(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return ko(n,[{key:"_apply",value:function(e){return new gP(e.firestore,e.converter,NI(e._query,this.ma,this.ga))}}]),n}(xO);var TO=function(e){fs(n,e);var t=ms(n);function n(e,r,i){var a;return go(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return ko(n,[{key:"_apply",value:function(e){var t=OO(e,this.type,this.ya,this.pa);return new gP(e.firestore,e.converter,function(e,t){return new wI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(xO);function CO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new TO("startAt",t,!0)}function AO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new TO("startAfter",t,!1)}var NO=function(e){fs(n,e);var t=ms(n);function n(e,r,i){var a;return go(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return ko(n,[{key:"_apply",value:function(e){var t=OO(e,this.type,this.ya,this.pa);return new gP(e.firestore,e.converter,function(e,t){return new wI(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(xO);function RO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new NO("endBefore",t,!1)}function PO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new NO("endAt",t,!0)}function OO(e,t,n,r){if(n[0]=Gs(n[0]),n[0]instanceof dO)return function(e,t,n,r,i){if(!r)throw new dx(fx.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=cs(CI(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(VS(t,r.key));else{var c=r.data.field(s.field);if(wS(c))throw new dx(fx.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new dx(fx.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new mI(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=GP(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new dx(fx.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new dx(fx.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!TI(e)&&-1!==c.indexOf("/"))throw new dx(fx.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Nx.fromString(c));if(!Ox.isDocumentKey(l))throw new dx(fx.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Ox(l);u.push(VS(t,f))}else{var d=nO(n,r,c);u.push(d)}}return new mI(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function DO(e,t,n){if("string"==typeof(n=Gs(n))){if(""===n)throw new dx(fx.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TI(t)&&-1!==n.indexOf("/"))throw new dx(fx.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Nx.fromString(n));if(!Ox.isDocumentKey(r))throw new dx(fx.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return VS(e,new Ox(r))}if(n instanceof yP)return VS(e,n._key);throw new dx(fx.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(fP(n),"."))}function LO(e,t){if(!Array.isArray(e)||0===e.length)throw new dx(fx.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new dx(fx.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function MO(e,t,n){if(!n.isEqual(t))throw new dx(fx.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var FO={maxAttempts:5},VO=function(){function e(){go(this,e)}return ko(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(RS(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bS(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(kS(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw sx()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return uS(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new UP(bS(e.latitude),bS(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=xS(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(SS(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=gS(e);return new Tx(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Nx.fromString(e);cx(w_(n));var r=new ES(n.get(1),n.get(3)),i=new Ox(n.popFirst(5));return r.isEqual(t)||ax("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function UO(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var jO=function(e){fs(n,e);var t=ms(n);function n(e){var r;return go(this,n),(r=t.call(this)).firestore=e,r}return ko(n,[{key:"convertBytes",value:function(e){return new FP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new yP(this.firestore,null,t)}}]),n}(VO),zO=function(){function e(t,n){go(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=GP(t)}return ko(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=BO(e,this._firestore),i=UO(r.converter,t,n),a=HP(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,tE.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=BO(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Gs(t))||t instanceof MP?tO(this._dataReader,"WriteBatch.update",i._key,t,n,o):eO(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,tE.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=BO(e,this._firestore);return this._mutations=this._mutations.concat(new mE(t._key,tE.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new dx(fx.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function BO(e,t){if((e=Gs(e)).firestore!==t)throw new dx(fx.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var qO=function(e){fs(n,e);var t=ms(n);function n(e){var r;return go(this,n),(r=t.call(this)).firestore=e,r}return ko(n,[{key:"convertBytes",value:function(e){return new FP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new yP(this.firestore,null,t)}}]),n}(VO);function WO(e){e=dP(e,yP);var t=dP(e.firestore,TP),n=CP(t),r=new qO(t);return function(e,t){var n=new hx;return e.asyncQueue.enqueueAndForget($s(Hs().mark((function r(){return Hs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=$s(Hs().mark((function e(t,n,r){var i,a;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=lx(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new dx(fx.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=pN(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ZR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new mO(t,r,e._key,n,new vO(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function KO(e){e=dP(e,gP);var t=dP(e.firestore,TP),n=CP(t),r=new qO(t);return function(e,t){var n=new hx;return e.asyncQueue.enqueueAndForget($s(Hs().mark((function r(){return Hs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=$s(Hs().mark((function e(t,n,r){var i,a,o,u,s;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,HC(t,n,!0);case 3:i=e.sent,a=new DN(n,i.ji),o=a.Ku(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=pN(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ZR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new gO(t,r,e,n)}))}function GO(e,t,n){e=dP(e,yP);var r=dP(e.firestore,TP),i=UO(e.converter,t,n);return YO(r,[HP(GP(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,tE.none())])}function HO(e,t,n){e=dP(e,yP);for(var r=dP(e.firestore,TP),i=GP(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return YO(r,[("string"==typeof(t=Gs(t))||t instanceof MP?tO(i,"updateDoc",e._key,t,n,o):eO(i,"updateDoc",e._key,t)).toMutation(e._key,tE.exists(!0))])}function QO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Gs(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||EP(n[s])||(u=n[s],s++);var c,l,f,d={includeMetadataChanges:u.includeMetadataChanges};if(EP(n[s])){var h=n[s];n[s]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[s+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[s+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof yP)l=dP(e.firestore,TP),f=SI(e._key.path),c={next:function(t){n[s]&&n[s](XO(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=dP(e,gP);l=dP(p.firestore,TP),f=p._query;var v=new qO(l);c={next:function(e){n[s]&&n[s](new gO(l,v,p,e))},error:n[s+1],complete:n[s+2]},wO(e._query)}return function(e,t,n,r){var i=new UR(r),a=new TN(t,i,n);return e.asyncQueue.enqueueAndForget($s(Hs().mark((function t(){return Hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=kN,t.next=3,nP(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget($s(Hs().mark((function t(){return Hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=xN,t.next=3,nP(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(CP(l),f,d,c)}function $O(e,t){return function(e,t){var n=new UR(t);return e.asyncQueue.enqueueAndForget($s(Hs().mark((function t(){return Hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){lx(e).Tu.add(t),t.next()},t.next=3,nP(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget($s(Hs().mark((function t(){return Hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){lx(e).Tu.delete(t)},t.next=3,nP(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(CP(e=dP(e,TP)),EP(t)?t:{next:t})}function YO(e,t){return function(e,t){var n=new hx;return e.asyncQueue.enqueueAndForget($s(Hs().mark((function r(){return Hs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=WN,r.next=3,tP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(CP(e),t)}function XO(e,t,n){var r=n.docs.get(t._key),i=new qO(e);return new mO(e,i,t._key,r,new vO(n.hasPendingWrites,n.fromCache),t.converter)}var JO=function(e){fs(n,e);var t=ms(n);function n(e,r){var i;return go(this,n),(i=t.call(this,e,r))._firestore=e,i}return ko(n,[{key:"get",value:function(e){var t=this,r=BO(e,this._firestore),i=new qO(this._firestore);return Il(ds(n.prototype),"get",this).call(this,e).then((function(e){return new mO(t._firestore,i,r._key,e._document,new vO(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){go(this,e),this._firestore=t,this._transaction=n,this._dataReader=GP(t)}return ko(e,[{key:"get",value:function(e){var t=this,n=BO(e,this._firestore),r=new jO(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return sx();var i=e[0];if(i.isFoundDocument())return new dO(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new dO(t._firestore,r,n._key,null,n.converter);throw sx()}))}},{key:"set",value:function(e,t,n){var r=BO(e,this._firestore),i=UO(r.converter,t,n),a=HP(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=BO(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Gs(t))||t instanceof MP?tO(this._dataReader,"Transaction.update",i._key,t,n,o):eO(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=BO(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function ZO(e,t,n){e=dP(e,TP);var r=Object.assign(Object.assign({},FO),n);return function(e){if(e.maxAttempts<1)throw new dx(fx.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new hx;return e.asyncQueue.enqueueAndForget($s(Hs().mark((function i(){var a;return Hs().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return YR(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new BR(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(CP(e),(function(n){return t(new JO(e,n))}),r)}function eD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new XP("arrayUnion",t)}function tD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new JP("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){tx=e}(Gc),Uc(new Ys("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new TP(i,new yx(e.getProvider("auth-internal")),new wx(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Jc(Zw,"3.4.14",e),Jc(Zw,"3.4.14","esm2017")}();function nD(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new dx("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function rD(){if("undefined"===typeof Uint8Array)throw new dx("unimplemented","Uint8Arrays are not available in this environment.")}function iD(){if("undefined"==typeof atob)throw new dx("unimplemented","Blobs are unavailable in Firestore in this environment.")}var aD=function(){function e(t){go(this,e),this._delegate=t}return ko(e,[{key:"toBase64",value:function(){return iD(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return rD(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return iD(),new e(FP.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return rD(),new e(FP.fromUint8Array(t))}}]),e}();function oD(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=cs(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var uD=function(){function e(){go(this,e)}return ko(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){LP(e=dP(e,TP));var n=CP(e),r=e._freezeSettings(),i=new FR;return NP(n,i,new LR(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){LP(e=dP(e,TP));var t=CP(e),n=e._freezeSettings(),r=new FR;return NP(t,r,new MR(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new dx(fx.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new hx;return e._queue.enqueueAndForgetEvenWhileRestricted($s(Hs().mark((function n(){return Hs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=$s(Hs().mark((function e(t){var n;return Hs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($x.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,$x.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(PC(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),sD=function(){function e(t,n,r){var i=this;go(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof ES||(this._appCompat=t)}return ko(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||ox("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};mP(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return RP(this._delegate)}},{key:"disableNetwork",value:function(){return PP(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&sP("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new hx;return e.asyncQueue.enqueueAndForget($s(Hs().mark((function n(){return Hs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=tR,n.next=3,tP(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(CP(e=dP(e,TP)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return $O(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new dx("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new xD(this,kP(this._delegate,e))}catch(t){throw pD(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new hD(this,wP(this._delegate,e))}catch(t){throw pD(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new bD(this,function(e,t){if(e=dP(e,vP),uP("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new dx(fx.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new gP(e,null,function(e){return new wI(Nx.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw pD(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return ZO(this._delegate,(function(n){return e(new lD(t,n))}))}},{key:"batch",value:function(){var e=this;return CP(this._delegate),new fD(new zO(this._delegate,(function(t){return YO(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return OP(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return DP(this._delegate,e).then((function(e){return e?new bD(t,e):null}))}}]),e}(),cD=function(e){fs(n,e);var t=ms(n);function n(e){var r;return go(this,n),(r=t.call(this)).firestore=e,r}return ko(n,[{key:"convertBytes",value:function(e){return new aD(new FP(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return hD.forKey(t,this.firestore,null)}}]),n}(VO);var lD=function(){function e(t,n){go(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new cD(t)}return ko(e,[{key:"get",value:function(e){var t=this,n=SD(e);return this._delegate.get(n).then((function(e){return new yD(t._firestore,new mO(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=SD(e);return n?(nD("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=SD(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=SD(e);return this._delegate.delete(t),this}}]),e}(),fD=function(){function e(t){go(this,e),this._delegate=t}return ko(e,[{key:"set",value:function(e,t,n){var r=SD(e);return n?(nD("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=SD(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=SD(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),dD=function(){function e(t,n,r){go(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return ko(e,[{key:"fromFirestore",value:function(e,t){var n=new yO(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new gD(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new cD(t),n),i.set(n,a)),a}}]),e}();dD.INSTANCES=new WeakMap;var hD=function(){function e(t,n){go(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new cD(t)}return ko(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new xD(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new xD(this.firestore,kP(this._delegate,e))}catch(t){throw pD(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Gs(e))instanceof yP&&xP(this._delegate,e)}},{key:"set",value:function(e,t){t=nD("DocumentReference.set",t);try{return t?GO(this._delegate,e,t):GO(this._delegate,e)}catch(n){throw pD(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?HO(this._delegate,e):HO.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw pD(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return YO(dP(e.firestore,TP),[new mE(e._key,tE.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=vD(n),a=mD(n,(function(t){return new yD(e.firestore,new mO(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return QO(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?WO(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=dP(e,yP);var t=dP(e.firestore,TP);return iP(CP(t),e._key,{source:"server"}).then((function(n){return XO(t,e,n)}))}(this._delegate):function(e){e=dP(e,yP);var t=dP(e.firestore,TP);return iP(CP(t),e._key).then((function(n){return XO(t,e,n)}))}(this._delegate),t.then((function(e){return new yD(n.firestore,new mO(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(dD.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new dx("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new yP(n._delegate,r,new Ox(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new yP(n._delegate,r,t))}}]),e}();function pD(e,t,n){return e.message=e.message.replace(t,n),e}function vD(e){var t,n=cs(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!oD(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function mD(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=oD(e[0])?e[0]:oD(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var yD=function(){function e(t,n){go(this,e),this._firestore=t,this._delegate=n}return ko(e,[{key:"ref",get:function(){return new hD(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return kO(this._delegate,e._delegate)}}]),e}(),gD=function(e){fs(n,e);var t=ms(n);function n(){return go(this,n),t.apply(this,arguments)}return ko(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||sx()}(void 0!==t),t}}]),n}(yD),bD=function(){function e(t,n){go(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new cD(t)}return ko(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,SO(this._delegate,function(e,t,n){var r=t,i=pO("where",e);return new IO(i,r,n)}(t,n,r)))}catch(i){throw pD(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,SO(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=pO("orderBy",e);return new EO(n,t)}(t,n)))}catch(r){throw pD(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,SO(this._delegate,function(e){return hP("limit",e),new _O("limit",e,"F")}(t)))}catch(n){throw pD(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,SO(this._delegate,function(e){return hP("limitToLast",e),new _O("limitToLast",e,"L")}(t)))}catch(n){throw pD(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,SO(this._delegate,CO.apply(void 0,arguments)))}catch(t){throw pD(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,SO(this._delegate,AO.apply(void 0,arguments)))}catch(t){throw pD(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,SO(this._delegate,RO.apply(void 0,arguments)))}catch(t){throw pD(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,SO(this._delegate,PO.apply(void 0,arguments)))}catch(t){throw pD(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return SP(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?KO(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=dP(e,gP);var t=dP(e.firestore,TP),n=CP(t),r=new qO(t);return aP(n,e._query,{source:"server"}).then((function(n){return new gO(t,r,e,n)}))}(this._delegate):function(e){e=dP(e,gP);var t=dP(e.firestore,TP),n=CP(t),r=new qO(t);return wO(e._query),aP(n,e._query).then((function(n){return new gO(t,r,e,n)}))}(this._delegate),t.then((function(e){return new wD(n.firestore,new gO(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=vD(n),a=mD(n,(function(t){return new wD(e.firestore,new gO(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return QO(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(dD.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),kD=function(){function e(t,n){go(this,e),this._firestore=t,this._delegate=n}return ko(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new gD(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),wD=function(){function e(t,n){go(this,e),this._firestore=t,this._delegate=n}return ko(e,[{key:"query",get:function(){return new bD(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new gD(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new kD(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new gD(n._firestore,r))}))}},{key:"isEqual",value:function(e){return kO(this._delegate,e._delegate)}}]),e}(),xD=function(e){fs(n,e);var t=ms(n);function n(e,r){var i;return go(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return ko(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new hD(this.firestore,e):null}},{key:"doc",value:function(e){try{return new hD(this.firestore,void 0===e?wP(this._delegate):wP(this._delegate,e))}catch(t){throw pD(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=dP(e.firestore,TP),r=wP(e),i=UO(e.converter,t);return YO(n,[HP(GP(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,tE.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new hD(t.firestore,e)}))}},{key:"isEqual",value:function(e){return xP(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(dD.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(bD);function SD(e){return dP(e,yP)}var ID=function(){function e(){go(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=ys(MP,n)}return ko(e,[{key:"isEqual",value:function(e){return(e=Gs(e))instanceof MP&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Px.keyField().canonicalString())}}]),e}(),ED=function(){function e(t){go(this,e),this._delegate=t}return ko(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new YP("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new QP("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=eD.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=tD.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new ZP("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),_D={Firestore:sD,GeoPoint:UP,Timestamp:Tx,Blob:aD,Transaction:lD,WriteBatch:fD,DocumentReference:hD,DocumentSnapshot:yD,Query:bD,QueryDocumentSnapshot:gD,QuerySnapshot:wD,CollectionReference:xD,FieldPath:ID,FieldValue:ED,setLogLevel:function(e){!function(e){nx.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Ys("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},_D)))}(e,(function(e,t){return new sD(e,t,new uD)})),e.registerVersion("@firebase/firestore-compat","0.1.23")}(xl);var TD,CD=xl.initializeApp({apiKey:"AIzaSyBYMoNvIBoQ-xBxEgWXDRm3KlEt4egVaiA",authDomain:"todo-bb936.firebaseapp.com",projectId:"todo-bb936",storageBucket:"todo-bb936.appspot.com",messagingSenderId:"1041832947785",appId:"1:1041832947785:web:9214cb4b9d031e3f9b0f98",measurementId:"G-0NJY5FL05L"}).firestore(),AD=(xl.auth(),vo),ND=!0,RD=!1,PD={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function OD(e){e.metaKey||e.altKey||e.ctrlKey||(ND=!0)}function DD(){ND=!1}function LD(){"hidden"===this.visibilityState&&RD&&(ND=!0)}function MD(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return ND||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!PD[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var FD=function(){var e=t.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",OD,!0),t.addEventListener("mousedown",DD,!0),t.addEventListener("pointerdown",DD,!0),t.addEventListener("touchstart",DD,!0),t.addEventListener("visibilitychange",LD,!0))}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!MD(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(RD=!0,window.clearTimeout(TD),TD=window.setTimeout((function(){RD=!1}),100),n.current=!1,!0)},ref:e}};function VD(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function UD(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function jD(e,t,n){return null!=n[t]?n[t]:e.props[t]}function zD(e,n,r){var i=UD(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:jD(u,"exit",e),enter:jD(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:jD(u,"exit",e),enter:jD(u,"enter",e)})}})),a}var BD=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},qD=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(ls(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Qa(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,UD(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:jD(e,"appear",r),enter:jD(e,"enter",r),exit:jD(e,"exit",r)})}))):zD(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=UD(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=l({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=f(e,["component","childFactory"]),a=this.state.contextValue,o=BD(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(Ya.Provider,{value:a},o):t.createElement(Ya.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);qD.propTypes={},qD.defaultProps={component:"div",childFactory:function(e){return e}};var WD=qD;var KD=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,s=e.rippleSize,l=e.in,f=e.onExited,d=e.timeout,p=c(t.useState(!1),2),v=p[0],m=p[1],y=h(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),g={width:s,height:s,top:-s/2+u,left:-s/2+o},b=h(r.child,v&&r.childLeaving,a&&r.childPulsate);return l||v||m(!0),t.useEffect((function(){if(!l&&null!=f){var e=setTimeout(f,d);return function(){clearTimeout(e)}}}),[f,l,d]),(0,Gr.jsx)("span",{className:y,style:g,children:(0,Gr.jsx)("span",{className:b})})};var GD,HD,QD,$D,YD,XD,JD,ZD,eL=gi("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),tL=["center","classes","className"],nL=ci(YD||(YD=GD||(GD=VD(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),rL=ci(XD||(XD=HD||(HD=VD(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),iL=ci(JD||(JD=QD||(QD=VD(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),aL=Ar("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),oL=Ar(KD,{name:"MuiTouchRipple",slot:"Ripple"})(ZD||(ZD=$D||($D=VD(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),eL.rippleVisible,nL,550,(function(e){return e.theme.transitions.easing.easeInOut}),eL.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),eL.child,eL.childLeaving,rL,550,(function(e){return e.theme.transitions.easing.easeInOut}),eL.childPulsate,iL,(function(e){return e.theme.transitions.easing.easeInOut})),uL=t.forwardRef((function(e,n){var r=Vr({props:e,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,o=r.classes,u=void 0===o?{}:o,s=r.className,d=f(r,tL),p=c(t.useState([]),2),v=p[0],m=p[1],y=t.useRef(0),g=t.useRef(null);t.useEffect((function(){g.current&&(g.current(),g.current=null)}),[v]);var k=t.useRef(!1),w=t.useRef(null),x=t.useRef(null),S=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(w.current)}}),[]);var I=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;m((function(e){return[].concat(b(e),[(0,Gr.jsx)(oL,{classes:{ripple:h(u.ripple,eL.ripple),rippleVisible:h(u.rippleVisible,eL.rippleVisible),ripplePulsate:h(u.ripplePulsate,eL.ripplePulsate),child:h(u.child,eL.child),childLeaving:h(u.childLeaving,eL.childLeaving),childPulsate:h(u.childPulsate,eL.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},y.current)])})),y.current+=1,g.current=a}),[u]),E=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===(null==e?void 0:e.type)&&k.current)k.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(k.current=!0);var l,f,d,h=c?null:S.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,m=v.clientX,y=v.clientY;l=Math.round(m-p.left),f=Math.round(y-p.top)}if(u)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(d+=1);else{var g=2*Math.max(Math.abs((h?h.clientWidth:0)-l),l)+2,b=2*Math.max(Math.abs((h?h.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(g,2)+Math.pow(b,2))}null!=e&&e.touches?null===x.current&&(x.current=function(){I({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})},w.current=setTimeout((function(){x.current&&(x.current(),x.current=null)}),80)):I({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})}}),[a,I]),_=t.useCallback((function(){E({},{pulsate:!0})}),[E]),T=t.useCallback((function(e,t){if(clearTimeout(w.current),"touchend"===(null==e?void 0:e.type)&&x.current)return x.current(),x.current=null,void(w.current=setTimeout((function(){T(e,t)})));x.current=null,m((function(e){return e.length>0?e.slice(1):e})),g.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:_,start:E,stop:T}}),[_,E,T]),(0,Gr.jsx)(aL,l({className:h(eL.root,u.root,s),ref:S},d,{children:(0,Gr.jsx)(WD,{component:null,exit:!0,children:v})}))})),sL=uL;function cL(e){return yi("MuiButtonBase",e)}var lL,fL=gi("MuiButtonBase",["root","disabled","focusVisible"]),dL=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],hL=Ar("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((nt(lL={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(fL.disabled),{pointerEvents:"none",cursor:"default"}),nt(lL,"@media print",{colorAdjust:"exact"}),lL)),pL=t.forwardRef((function(e,n){var r=Vr({props:e,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,o=void 0!==a&&a,u=r.children,s=r.className,d=r.component,v=void 0===d?"button":d,m=r.disabled,y=void 0!==m&&m,g=r.disableRipple,b=void 0!==g&&g,k=r.disableTouchRipple,w=void 0!==k&&k,x=r.focusRipple,S=void 0!==x&&x,I=r.LinkComponent,E=void 0===I?"a":I,_=r.onBlur,T=r.onClick,C=r.onContextMenu,A=r.onDragLeave,N=r.onFocus,R=r.onFocusVisible,P=r.onKeyDown,O=r.onKeyUp,D=r.onMouseDown,L=r.onMouseLeave,M=r.onMouseUp,F=r.onTouchEnd,V=r.onTouchMove,U=r.onTouchStart,j=r.tabIndex,z=void 0===j?0:j,B=r.TouchRippleProps,q=r.touchRippleRef,W=r.type,K=f(r,dL),G=t.useRef(null),H=t.useRef(null),Q=ii(H,q),$=FD(),Y=$.isFocusVisibleRef,X=$.onFocus,J=$.onBlur,Z=$.ref,ee=c(t.useState(!1),2),te=ee[0],ne=ee[1];y&&te&&ne(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){ne(!0),G.current.focus()}}}),[]);var re=c(t.useState(!1),2),ie=re[0],ae=re[1];t.useEffect((function(){ae(!0)}),[]);var oe=ie&&!b&&!y;function ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;return AD((function(r){return t&&t(r),!n&&H.current&&H.current[e](r),!0}))}t.useEffect((function(){te&&S&&!b&&ie&&H.current.pulsate()}),[b,S,te,ie]);var se=ue("start",D),ce=ue("stop",C),le=ue("stop",A),fe=ue("stop",M),de=ue("stop",(function(e){te&&e.preventDefault(),L&&L(e)})),he=ue("start",U),pe=ue("stop",F),ve=ue("stop",V),me=ue("stop",(function(e){J(e),!1===Y.current&&ne(!1),_&&_(e)}),!1),ye=AD((function(e){G.current||(G.current=e.currentTarget),X(e),!0===Y.current&&(ne(!0),R&&R(e)),N&&N(e)})),ge=function(){var e=G.current;return v&&"button"!==v&&!("A"===e.tagName&&e.href)},be=t.useRef(!1),ke=AD((function(e){S&&!be.current&&te&&H.current&&" "===e.key&&(be.current=!0,H.current.stop(e,(function(){H.current.start(e)}))),e.target===e.currentTarget&&ge()&&" "===e.key&&e.preventDefault(),P&&P(e),e.target===e.currentTarget&&ge()&&"Enter"===e.key&&!y&&(e.preventDefault(),T&&T(e))})),we=AD((function(e){S&&" "===e.key&&H.current&&te&&!e.defaultPrevented&&(be.current=!1,H.current.stop(e,(function(){H.current.pulsate(e)}))),O&&O(e),T&&e.target===e.currentTarget&&ge()&&" "===e.key&&!e.defaultPrevented&&T(e)})),xe=v;"button"===xe&&(K.href||K.to)&&(xe=E);var Se={};"button"===xe?(Se.type=void 0===W?"button":W,Se.disabled=y):(K.href||K.to||(Se.role="button"),y&&(Se["aria-disabled"]=y));var Ie=ii(Z,G),Ee=ii(n,Ie);var _e=l({},r,{centerRipple:o,component:v,disabled:y,disableRipple:b,disableTouchRipple:w,focusRipple:S,tabIndex:z,focusVisible:te}),Te=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=p({root:["root",t&&"disabled",n&&"focusVisible"]},cL,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(_e);return(0,Gr.jsxs)(hL,l({as:xe,className:h(Te.root,s),ownerState:_e,onBlur:me,onClick:T,onContextMenu:ce,onFocus:ye,onKeyDown:ke,onKeyUp:we,onMouseDown:se,onMouseLeave:de,onMouseUp:fe,onDragLeave:le,onTouchEnd:pe,onTouchMove:ve,onTouchStart:he,ref:Ee,tabIndex:y?-1:z,type:W},Se,K,{children:[u,oe?(0,Gr.jsx)(sL,l({ref:Q,center:o},B)):null]}))})),vL=pL;function mL(e){return yi("MuiButton",e)}var yL=gi("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var gL=t.createContext({}),bL=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],kL=["root"],wL=function(e){return l({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},xL=Ar(vL,{shouldForwardProp:function(e){return _r(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(ri(n.color))],t["size".concat(ri(n.size))],t["".concat(n.variant,"Size").concat(ri(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,a=e.ownerState;return l({},i.typography.button,(nt(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":l({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):Qn(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):Qn(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((i.vars||i).palette[a.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):Qn(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:(i.vars||i).palette.grey.A100,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(i.vars||i).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[a.color].main}}),"&:active":l({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[8]})},"&.".concat(yL.focusVisible),l({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[6]})),nt(t,"&.".concat(yL.disabled),l({color:(i.vars||i).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"outlined"===a.variant&&"secondary"===a.color&&{border:"1px solid ".concat((i.vars||i).palette.action.disabled)},"contained"===a.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat(Qn(i.palette[a.color].main,.5))},"contained"===a.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:(i.vars||i).palette.grey[300],boxShadow:(i.vars||i).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].contrastText,backgroundColor:(i.vars||i).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(nt(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(yL.focusVisible),{boxShadow:"none"}),nt(t,"&:active",{boxShadow:"none"}),nt(t,"&.".concat(yL.disabled),{boxShadow:"none"}),t)})),SL=Ar("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(ri(n.size))]]}})((function(e){var t=e.ownerState;return l({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},wL(t))})),IL=Ar("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(ri(n.size))]]}})((function(e){var t=e.ownerState;return l({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},wL(t))})),EL=t.forwardRef((function(e,n){var r=t.useContext(gL),i=Vr({props:Nr(r,e),name:"MuiButton"}),a=i.children,o=i.color,u=void 0===o?"primary":o,s=i.component,c=void 0===s?"button":s,d=i.className,v=i.disabled,m=void 0!==v&&v,y=i.disableElevation,g=void 0!==y&&y,b=i.disableFocusRipple,k=void 0!==b&&b,w=i.endIcon,x=i.focusVisibleClassName,S=i.fullWidth,I=void 0!==S&&S,E=i.size,_=void 0===E?"medium":E,T=i.startIcon,C=i.type,A=i.variant,N=void 0===A?"text":A,R=f(i,bL),P=l({},i,{color:u,component:c,disabled:m,disableElevation:g,disableFocusRipple:k,fullWidth:I,size:_,type:C,variant:N}),O=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return l({},o,p({root:["root",a,"".concat(a).concat(ri(t)),"size".concat(ri(i)),"".concat(a,"Size").concat(ri(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(ri(i))],endIcon:["endIcon","iconSize".concat(ri(i))]},mL,o))}(P),D=O.root,L=f(O,kL),M=T&&(0,Gr.jsx)(SL,{className:L.startIcon,ownerState:P,children:T}),F=w&&(0,Gr.jsx)(IL,{className:L.endIcon,ownerState:P,children:w});return(0,Gr.jsxs)(xL,l({ownerState:P,className:h(r.className,D,d),component:c,disabled:m,focusRipple:!k,focusVisibleClassName:h(L.focusVisible,x),ref:n,type:C},R,{classes:L,children:[M,a,F]}))})),_L=EL;function TL(e){return yi("MuiListItem",e)}var CL=gi("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);var AL=gi("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function NL(e){return yi("MuiListItemSecondaryAction",e)}gi("MuiListItemSecondaryAction",["root","disableGutters"]);var RL=["className"],PL=Ar("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.disableGutters&&t.disableGutters]}})((function(e){return l({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.ownerState.disableGutters&&{right:0})})),OL=t.forwardRef((function(e,n){var r=Vr({props:e,name:"MuiListItemSecondaryAction"}),i=r.className,a=f(r,RL),o=l({},r,{disableGutters:t.useContext(Ea).disableGutters}),u=function(e){return p({root:["root",e.disableGutters&&"disableGutters"]},NL,e.classes)}(o);return(0,Gr.jsx)(PL,l({className:h(u.root,i),ownerState:o,ref:n},a))}));OL.muiName="ListItemSecondaryAction";var DL=OL,LL=["className"],ML=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected"],FL=Ar("div",{name:"MuiListItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((function(e){var t,n=e.theme,r=e.ownerState;return l({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!r.disablePadding&&l({paddingTop:8,paddingBottom:8},r.dense&&{paddingTop:4,paddingBottom:4},!r.disableGutters&&{paddingLeft:16,paddingRight:16},!!r.secondaryAction&&{paddingRight:48}),!!r.secondaryAction&&nt({},"& > .".concat(AL.root),{paddingRight:48}),(nt(t={},"&.".concat(CL.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),nt(t,"&.".concat(CL.selected),nt({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):Qn(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(CL.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):Qn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),nt(t,"&.".concat(CL.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),t),"flex-start"===r.alignItems&&{alignItems:"flex-start"},r.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},r.button&&nt({transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(CL.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):Qn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):Qn(n.palette.primary.main,n.palette.action.selectedOpacity)}}),r.hasSecondaryAction&&{paddingRight:48})})),VL=Ar("li",{name:"MuiListItem",slot:"Container",overridesResolver:function(e,t){return t.container}})({position:"relative"}),UL=t.forwardRef((function(e,n){var r=Vr({props:e,name:"MuiListItem"}),i=r.alignItems,a=void 0===i?"center":i,o=r.autoFocus,u=void 0!==o&&o,s=r.button,c=void 0!==s&&s,d=r.children,v=r.className,m=r.component,y=r.components,g=void 0===y?{}:y,b=r.componentsProps,k=void 0===b?{}:b,w=r.ContainerComponent,x=void 0===w?"li":w,S=r.ContainerProps,I=(S=void 0===S?{}:S).className,E=r.dense,_=void 0!==E&&E,T=r.disabled,C=void 0!==T&&T,A=r.disableGutters,N=void 0!==A&&A,R=r.disablePadding,P=void 0!==R&&R,O=r.divider,D=void 0!==O&&O,L=r.focusVisibleClassName,M=r.secondaryAction,F=r.selected,V=void 0!==F&&F,U=f(r.ContainerProps,LL),j=f(r,ML),z=t.useContext(Ea),B={dense:_||z.dense||!1,alignItems:a,disableGutters:N},q=t.useRef(null);ai((function(){u&&q.current&&q.current.focus()}),[u]);var W=t.Children.toArray(d),K=W.length&&da(W[W.length-1],["ListItemSecondaryAction"]),G=l({},r,{alignItems:a,autoFocus:u,button:c,dense:B.dense,disabled:C,disableGutters:N,disablePadding:P,divider:D,hasSecondaryAction:K,selected:V}),H=function(e){var t=e.alignItems,n=e.button,r=e.classes,i=e.dense,a=e.disabled;return p({root:["root",i&&"dense",!e.disableGutters&&"gutters",!e.disablePadding&&"padding",e.divider&&"divider",a&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",e.hasSecondaryAction&&"secondaryAction",e.selected&&"selected"],container:["container"]},TL,r)}(G),Q=ii(q,n),$=g.Root||FL,Y=k.root||{},X=l({className:h(H.root,Y.className,v),disabled:C},j),J=m||"li";return c&&(X.component=m||"div",X.focusVisibleClassName=h(CL.focusVisible,L),J=vL),K?(J=X.component||m?J:"div","li"===x&&("li"===J?J="div":"li"===X.component&&(X.component="div")),(0,Gr.jsx)(Ea.Provider,{value:B,children:(0,Gr.jsxs)(VL,l({as:x,className:h(H.container,I),ref:Q,ownerState:G},U,{children:[(0,Gr.jsx)($,l({},Y,!Zr($)&&{as:J,ownerState:l({},G,Y.ownerState)},X,{children:W})),W.pop()]}))})):(0,Gr.jsx)(Ea.Provider,{value:B,children:(0,Gr.jsxs)($,l({},Y,{as:J,ref:Q,ownerState:G},!Zr($)&&{ownerState:l({},G,Y.ownerState)},X,{children:[W,M&&(0,Gr.jsx)(DL,{children:M})]}))})})),jL=UL,zL=["sx"];function BL(e){var t,n=e.sx,r=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){Cn[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}(f(e,zL)),i=r.systemProps,a=r.otherProps;return t=Array.isArray(n)?[i].concat(b(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return et(e)?l({},i,e):i}:l({},i,n),l({},a,{sx:t})}function qL(e){return yi("MuiTypography",e)}gi("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var WL=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],KL=Ar("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(ri(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return l({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),GL={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},HL={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},QL=t.forwardRef((function(e,t){var n=Vr({props:e,name:"MuiTypography"}),r=function(e){return HL[e]||e}(n.color),i=BL(l({},n,{color:r})),a=i.align,o=void 0===a?"inherit":a,u=i.className,s=i.component,c=i.gutterBottom,d=void 0!==c&&c,v=i.noWrap,m=void 0!==v&&v,y=i.paragraph,g=void 0!==y&&y,b=i.variant,k=void 0===b?"body1":b,w=i.variantMapping,x=void 0===w?GL:w,S=f(i,WL),I=l({},i,{align:o,color:r,className:u,component:s,gutterBottom:d,noWrap:m,paragraph:g,variant:k,variantMapping:x}),E=s||(g?"p":x[k]||GL[k])||"span",_=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,a=e.variant,o=e.classes;return p({root:["root",a,"inherit"!==e.align&&"align".concat(ri(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},qL,o)}(I);return(0,Gr.jsx)(KL,l({as:E,ref:t,ownerState:I,className:h(_.root,u)},S))})),$L=QL;function YL(e){return yi("MuiListItemText",e)}var XL=gi("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),JL=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],ZL=Ar("div",{name:"MuiListItemText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[nt({},"& .".concat(XL.primary),t.primary),nt({},"& .".concat(XL.secondary),t.secondary),t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((function(e){var t=e.ownerState;return l({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),eM=t.forwardRef((function(e,n){var r=Vr({props:e,name:"MuiListItemText"}),i=r.children,a=r.className,o=r.disableTypography,u=void 0!==o&&o,s=r.inset,c=void 0!==s&&s,d=r.primary,v=r.primaryTypographyProps,m=r.secondary,y=r.secondaryTypographyProps,g=f(r,JL),b=t.useContext(Ea).dense,k=null!=d?d:i,w=m,x=l({},r,{disableTypography:u,inset:c,primary:!!k,secondary:!!w,dense:b}),S=function(e){var t=e.classes,n=e.inset,r=e.primary,i=e.secondary;return p({root:["root",n&&"inset",e.dense&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},YL,t)}(x);return null==k||k.type===$L||u||(k=(0,Gr.jsx)($L,l({variant:b?"body2":"body1",className:S.primary,component:"span",display:"block"},v,{children:k}))),null==w||w.type===$L||u||(w=(0,Gr.jsx)($L,l({variant:"body2",className:S.secondary,color:"text.secondary",display:"block"},y,{children:w}))),(0,Gr.jsxs)(ZL,l({className:h(S.root,a),ownerState:x,ref:n},g,{children:[k,w]}))})),tM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nM=t.createContext&&t.createContext(tM),rM=function(){return rM=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},rM.apply(this,arguments)},iM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function aM(e){return e&&e.map((function(e,n){return t.createElement(e.tag,rM({key:n},e.attr),aM(e.child))}))}function oM(e){return function(n){return t.createElement(uM,rM({attr:rM({},e.attr)},n),aM(e.child))}}function uM(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,u=iM(e,["attr","size","title"]),s=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",rM({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:r,style:rM(rM({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==nM?t.createElement(nM.Consumer,null,(function(e){return n(e)})):n(tM)}function sM(e){return oM({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"}}]})(e)}function cM(e){return oM({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}},{tag:"path",attr:{d:"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"}}]})(e)}function lM(e){return oM({tag:"svg",attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z"}}]})(e)}function fM(e){var t=e.todo,n=e.in_progress,r=e.id;return(0,Gr.jsxs)("div",{style:{display:"flex"},children:[(0,Gr.jsxs)(_L,{onClick:function(){CD.collection("todos").doc(r).update({in_progress:!n})},children:[" ",n?(0,Gr.jsx)(cM,{}):(0,Gr.jsx)(sM,{})," "]}),(0,Gr.jsx)(jL,{className:"item",children:(0,Gr.jsx)(eM,{primary:t,secondary:n?"In Progress":"Completed"})}),(0,Gr.jsx)(_L,{onClick:function(){CD.collection("todos").doc(r).delete()},children:(0,Gr.jsx)(lM,{})})]})}var dM=function(){var e=c((0,t.useState)([]),2),n=e[0],r=e[1],i=c((0,t.useState)(""),2),a=i[0],o=i[1];(0,t.useEffect)((function(){u()}),[]);var u=function(){CD.collection("todos").onSnapshot((function(e){r(e.docs.map((function(e){return{id:e.id,todo:e.data().todo,in_progress:e.data().in_progress}})))}))};return(0,Gr.jsx)("div",{className:"App",children:(0,Gr.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%"},children:[(0,Gr.jsx)("h1",{children:"Chu Do List"}),(0,Gr.jsxs)("form",{children:[(0,Gr.jsx)(ss,{sx:{input:{color:"black"}},id:"standard-basic",label:"Add a Task",value:a,onChange:function(e){return o(e.target.value)},variant:"outlined",style:{maxWidth:"500px",width:"90vw"}}),(0,Gr.jsx)(_L,{type:"submit",variant:"contained",onClick:function(e){e.preventDefault(),CD.collection("todos").add({in_progress:!0,timestamp:xl.firestore.FieldValue.serverTimestamp(),todo:a}),o("")},style:{display:"none"},children:"Default"})]}),(0,Gr.jsx)("div",{style:{width:"90vw",maxWidth:"500px",marginTop:"24px"},children:n.map((function(e){return(0,Gr.jsx)(fM,{todo:e.todo,in_progress:e.in_progress,id:e.id})}))})]})})};i.createRoot(document.getElementById("root")).render((0,Gr.jsx)(t.StrictMode,{children:(0,Gr.jsx)(dM,{})}))}()}();
//# sourceMappingURL=main.cf375930.js.map